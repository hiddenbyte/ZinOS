{var JSON,Q,URI,___,attachDocumentStub,bridal,bridalMaker,cajaVM,cajolingServiceClientMaker,css,cssparser,domitaModules,html,html4,html_sanitize,jsonRestTransportMaker,json_sans_eval,safeJSON,unicode;typeof
Date.prototype.toJSON!=='function'&&(Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}),json_sans_eval=(function(){var
hop=Object.hasOwnProperty,EMPTY_STRING,SLASH,completeToken,cx,escapable,escapeSequence,escapes,gap,indent,meta,number,oneChar,rep,significantToken,string;function
f(n){return n<10?'0'+n:n}cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={'\b':'\\b','	':'\\t','\n':'\\n','':'\\f','\r':'\\r','\"':'\\\"','\\':'\\\\'};function
quote(string){return escapable.lastIndex=0,escapable.test(string)?'\"'+string.replace(escapable,function(a){var
c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+string+'\"'}function
str(key,holder){var mind=gap,value=holder[key],i,k,length,partial,v;value&&typeof
value==='object'&&typeof value.toJSON==='function'&&(value=value.toJSON(key)),typeof
rep==='function'&&(value=rep.call(holder,key,value));switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value)return'null';gap+=indent,partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1)partial[i]=str(i,value)||'null';return v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']',gap=mind,v}if(rep&&typeof
rep==='object'){length=rep.length;for(i=0;i<length;i+=1)k=rep[i],typeof k==='string'&&(v=str(k,value),v&&partial.push(quote(k)+(gap?': ':':')+v))}else
for(k in value)hop.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?': ':':')+v));return v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}',gap=mind,v}}function
stringify(value,replacer,space){var i;gap='',indent='';if(typeof space==='number')for(i=0;i<space;i+=1)indent+=' ';else
if(typeof space==='string')indent=space;rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof
replacer!=='object'||typeof replacer.length!=='number'))throw new Error('json_sans_eval.stringify');return str('',{'':value})}number='(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)',oneChar='(?:[^\\0-\\x08\\x0a-\\x1f\"\\\\]|\\\\(?:[\"/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',string='(?:\"'+oneChar+'*\")',significantToken=new
RegExp('(?:false|true|null|[\\{\\}\\[\\]]|'+number+'|'+string+')','g'),escapeSequence=new
RegExp('\\\\(?:([^u])|u(.{4}))','g'),escapes={'\"':'\"','/':'/','\\':'\\','b':'\b','f':'','n':'\n','r':'\r','t':'	'};function
unescapeOne(_,ch,hex){return ch?escapes[ch]:String.fromCharCode(parseInt(hex,16))}EMPTY_STRING=new
String(''),SLASH='\\',completeToken=new RegExp('(?:false|true|null|[ 	\r\n]+|[\\{\\}\\[\\],:]|'+number+'|'+string+'|.)','g');function
blank(arr,s,e){while(--e>=s)arr[e]=''}function checkSyntax(text,keyFilter){var toks=(''+text).match(completeToken),i=0,n=toks.length;checkArray();if(i<n)throw new
Error('Trailing tokens '+toks.slice(i-1).join(''));return toks.join('');function
checkArray(){var t;while(i<n){t=toks[i++];switch(t){case']':return;case'[':checkArray();break;case'{':checkObject()}}}function
checkObject(){var state=0,len,t;while(i<n){t=toks[i++];switch(t.charCodeAt(0)){case
9:case 10:case 13:case 32:continue;case 34:len=t.length;if(len===1)throw new Error(t);if(state===0){if(keyFilter&&!keyFilter(t.substring(1,len-1).replace(escapeSequence,unescapeOne)))throw new
Error(t)}else if(state!==2)throw new Error(t);break;case 39:throw new Error(t);case
44:if(state!==3)throw new Error(t);state=0;continue;case 58:if(state!==1)throw new
Error(t);break;case 91:if(state!==2)throw new Error(t);checkArray();break;case 123:if(state!==2)throw new
Error(t);checkObject();break;case 125:return;default:if(state!==2)throw new Error(t)}++state}}}function
parse(json,opt_reviver){var toks=json.match(significantToken),tok=toks[0],cont,i,key,n,result,stack,walk;if('{'===tok)result={};else
if('['===tok)result=[];else throw new Error(tok);stack=[result];for(i=1,n=toks.length;i<n;++i){tok=toks[i];switch(tok.charCodeAt(0)){default:cont=stack[0],cont[key||cont.length]=+tok,key=void
0;break;case 34:tok=tok.substring(1,tok.length-1),tok.indexOf(SLASH)!==-1&&(tok=tok.replace(escapeSequence,unescapeOne)),cont=stack[0];if(!key)if(cont
instanceof Array)key=cont.length;else{key=tok||EMPTY_STRING;break}cont[key]=tok,key=void
0;break;case 91:cont=stack[0],stack.unshift(cont[key||cont.length]=[]),key=void 0;break;case
93:stack.shift();break;case 102:cont=stack[0],cont[key||cont.length]=false,key=void
0;break;case 110:cont=stack[0],cont[key||cont.length]=null,key=void 0;break;case
116:cont=stack[0],cont[key||cont.length]=true,key=void 0;break;case 123:cont=stack[0],stack.unshift(cont[key||cont.length]={}),key=void
0;break;case 125:stack.shift()}}if(stack.length)throw new Error;return opt_reviver&&(walk=function(holder,key){var
value=holder[key],i,k,toDelete,v;if(value&&typeof value==='object'){toDelete=null;for(k
in value)hop.call(value,k)&&value!==holder&&(v=walk(value,k),v!==void 0?(value[k]=v):(toDelete||(toDelete=[]),toDelete.push(k)));if(toDelete)for(i=toDelete.length;--i>=0;)delete
value[toDelete[i]]}return opt_reviver.call(holder,key,value)},result=walk({'':result},'')),result}return{'checkSyntax':checkSyntax,'parse':parse,'stringify':stringify}})(),typeof
JSON==='undefined'&&(JSON={}),typeof JSON.stringify!=='function'&&(JSON.stringify=json_sans_eval.stringify),typeof
JSON.parse!=='function'&&(JSON.parse=json_sans_eval.parse),(function(){var classProp=Object.prototype.toString,BASE_OBJECT_CONSTRUCTOR,BREAK,FakeFunction,GuardMark,GuardStamp,GuardT,MAGIC_NAME,MAGIC_NUM,MAGIC_TOKEN,NO_RESULT,TAME_CTOR_CREATE_OBJECT_ONLY,USELESS,addToDefended,antidote,attributeDefaults,cajaVMKeys,def,defended,deferredDefended,endsWith__,endsWith_e___,endsWith_v___,functionInstanceVoidNameGetter,goodJSON,i,magicCount,myLogFunc,myNewModuleHandler,obtainNewModule,origGetOwnPropertyDescriptor,origGetPrototypeOf,parser,poisonArgsCallee,poisonArgsCaller,poisonFuncArgs,poisonFuncCaller,push,registeredImports,sharedImports,slice,startsWithNUM___,trimBeginRegexp,trimEndRegexp;Object.prototype.baseProto___=Object.prototype,slice=Array.prototype.slice,push=Array.prototype.push,antidote=function(){return};function
deodorize(original,end){var i;if(original.__defineGetter__)for(i=end;i<0;++i)original.__defineGetter__(i,antidote)}function
isDeodorized(original,sprop){return original.__lookupGetter__?original.__lookupGetter__(sprop)===antidote:false}deodorize(Function.prototype,-6),deodorize(String.prototype,-1),deodorize(RegExp.prototype,-6),deodorize(RegExp,-6),Array.slice=markFunc(function(dis,startIndex){var
edIndex;return dis=ToObject(dis),arguments.length>2?(edIndex=arguments[2],slice.call(dis,startIndex,endIndex)):slice.call(dis,startIndex)}),Array.prototype.forEach||(Array.prototype.forEach=function(fun){var
dis=ToObject(this),len=dis.length>>>0,i,thisp;if('function'!==typeof fun)throw new
TypeError('Expected function but got '+typeof fun);thisp=arguments[1];for(i=0;i<len;++i)i
in dis&&fun.call(thisp,dis[i],i,dis)});function isPrototypical(obj){var constr;return typeof
obj!=='object'?false:obj===null?false:(constr=obj.constructor,typeof constr!=='function'?false:constr.prototype===obj)}BASE_OBJECT_CONSTRUCTOR={};function
directConstructor(obj){var oldConstr,proto,result;if(obj===null)return;if(obj===void
0)return;if(typeof obj!=='object')return;if(obj.hasOwnProperty('Prototype___')){proto=obj.Prototype___;if(proto===null)return;result=proto.constructor,(result.prototype!==proto||typeof
result!=='function')&&(result=directConstructor(proto))}else{if(!obj.hasOwnProperty('constructor'))result=obj.constructor;else{oldConstr=obj.constructor;if(delete
obj.constructor)result=obj.constructor,obj.constructor=oldConstr;else if(isPrototypical(obj))return log('Guessing the directConstructor of : '+obj),BASE_OBJECT_CONSTRUCTOR;else
throw new TypeError('Discovery of direct constructors unsupported when the constructor property is not deletable: '+obj+'.constructor === '+oldConstr)}if(typeof
result!=='function'||!(obj instanceof result)){if(obj===obj.baseProto___)return;throw new
TypeError('Discovery of direct constructors for foreign begotten objects not implemented on this platform')}result.prototype.constructor===result&&(obj.Prototype___=result.prototype)}return result===result.FERAL_FRAME_OBJECT___?BASE_OBJECT_CONSTRUCTOR:result===obj.CAJA_FRAME_OBJECT___?BASE_OBJECT_CONSTRUCTOR:result}function
isWhitelistedProperty(t,mode,p){return!!t[p+'_'+mode+'_twl___']}function whitelistProperty(t,mode,p){t[p+'_'+mode+'_twl___']=t}function
isWhitelistedReadOnly(t){return!!t.readonly_twl___}function whitelistReadOnly(t){t.readonly_twl___=t}function
tamesTo(f,t){var ftype=typeof f,ttype;if(!f||ftype!=='function'&&ftype!=='object')throw new
TypeError('Unexpected feral primitive: ',f);ttype=typeof t;if(!t||ttype!=='function'&&ttype!=='object')throw new
TypeError('Unexpected tame primitive: ',t);if(f.TAMED_TWIN___===t&&t.FERAL_TWIN___===f)throw new
TypeError('Attempt to multiply tame: '+f+', '+t);if(f.TAMED_TWIN___&&f.hasOwnProperty('TAMED_TWIN___'))throw new
TypeError('Inconsistently tames to something: ',f);if(t.FERAL_TWIN___&&t.hasOwnProperty('FERAL_TWIN___'))throw new
TypeError('Inconsistently untames to something: ',t);f.TAMED_TWIN___=t,t.FERAL_TWIN___=f}function
tameArray(fa){var ta=[],i;for(i=0;i<fa.length;++i)ta[i]=tame(fa[i]);return freeze(ta)}function
untameArray(ta){var fa=[],i;for(i=0;i<ta.length;++i)fa[i]=untame(ta[i]);return fa}function
tame(f){var ctor,ftype,t;if(!f)return f;if(f.TAMED_TWIN___&&f.TAMED_TWIN___.FERAL_TWIN___===f)return f.TAMED_TWIN___;ftype=typeof
f;if(ftype!=='function'&&ftype!=='object')return f;else if(isArray(f))return tameArray(f);if(isDefinedInCajaFrame(f))return f;t=void
0;if(ftype==='object'){ctor=directConstructor(f);if(ctor===void 0)throw new TypeError('Cannot determine ctor of: '+f);else
if(ctor===BASE_OBJECT_CONSTRUCTOR)t=tameRecord(f);else t=tamePreviouslyConstructedObject(f,ctor)}else
if(ftype==='function')t=void 0;return t&&tamesTo(f,t),t}function makeWhitelistingHasProperty(t,f,propertyModesToCheck){return function(p){var
i;p=''+p;if(!(p in f))return false;if(isNumericName(p))return false;for(i=0;i<propertyModesToCheck.length;++i)if(isWhitelistedProperty(t,propertyModesToCheck[i],p))return true;return false}}function
makeEnumerate(t,f){return function(){var tt=t,ff=f,result={},p;for(p in f)t.HasProperty___(p)&&result.DefineOwnProperty___(p,{'enumerable':true});return result}}function
addFunctionPropertyHandlers(t,f){t.v___=function(p){p=''+p;if(p==='call'||p==='bind'||p==='apply')return Function.prototype.v___.call(t,p);if(isNumericName(p))return;if(!endsWith__.test(p)){if(isWhitelistedProperty(t,'r',p))return tame(f[p])};return},t.w___=function(p,v){p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){if(isWhitelistedProperty(t,'w',p)&&!isWhitelistedReadOnly(t))return f[p]=untame(v),v};throw new
TypeError('Not writeable: '+p)},t.c___=function(p){p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){if(isWhitelistedProperty(t,'w',p)&&!isWhitelistedReadOnly(t)){if(delete
f[p])return true}};throw new TypeError('Not deleteable: '+p)},t.HasProperty___=makeWhitelistingHasProperty(t,f,['r']),t.e___=makeEnumerate(t,f)}function
tameCtor(f,fSuper,name){var instantiator=function(){},t,tPrototype;return instantiator.prototype=f.prototype,tPrototype=(function(){var
tSuper;if(!fSuper||fSuper===fSuper.FERAL_FRAME_OBJECT___)return{};tSuper=fSuper.TAMED_TWIN___;if(!tSuper)throw new
TypeError('Super ctor not yet tamed');function tmp(){}return tmp.prototype=tSuper.prototype,new
tmp})(),whitelistProperty(tPrototype,'r','constructor'),tameObjectWithMethods(f.prototype,tPrototype),tamesTo(f.prototype,tPrototype),t=markFunc(function(_){var
o;if(arguments.length>0&&arguments[0]===TAME_CTOR_CREATE_OBJECT_ONLY)return;o=new
instantiator,f.apply(o,untameArray(arguments)),tameObjectWithMethods(o,this),tamesTo(o,this)}),t.prototype=tPrototype,tPrototype.constructor=t,t.IS_TAMED_CTOR___=t,addFunctionPropertyHandlers(t,f),whitelistProperty(t,'r','prototype'),t}function
tamePureFunction(f,name){var t=markFunc(function(_){return tame(f.apply(USELESS,untameArray(arguments)))});return addFunctionPropertyHandlers(t,f),t}function
tameXo4a(f,name){var t=markFunc(function(_){return tame(f.apply(untame(this),untameArray(arguments)))});return addFunctionPropertyHandlers(t,f),t}function
tameRecord(f,t){var feralEnumerate;return t||(t={}),t.v___=function(p){var g;return p=''+p,isNumericName(p)?void
0:endsWith__.test(p)?void 0:(g=getter(t,p),g?g.f___(this):hasAccessor(t,p)?void 0:tame(f[p]))},t.w___=function(p,v){var
s;p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){s=setter(t,p);if(s)return s.f___(t,[v]),v;if(!hasAccessor(t,p)&&!isWhitelistedReadOnly(t))return f[p]=untame(v),v}throw new
TypeError('Not writeable: '+p)},t.c___=function(p){p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){if(!isWhitelistedReadOnly(t))return t[p+'_v___']?Object.prototype.c___.call(t,p):delete
f[p]?true:void 0};throw new TypeError('Not deleteable: '+p)},t.m___=function(p,as){var
tf;p=''+p,tf=t.v___(p);if(typeof tf==='function')return tf.apply(USELESS,as);throw new
TypeError('Not a function: '+p)},t.HasProperty___=function(p){return p=''+p,isNumericName(p)?false:p+'_v___'in
this||p in f&&!endsWith__.test(p)},feralEnumerate=makeEnumerate(t,f),t.e___=function(){var
result=feralEnumerate(),p;for(p in t){if(!t.hasOwnProperty(p))continue;if(isNumericName(p))continue;if(startsWithNUM___.test(p)&&endsWith__.test(p))continue;m=p.match(endsWith_e___),m&&(result[p]=t[p])}return result},t}function
tameObjectWithMethods(f,t){return t||(t={}),t.v___=function(p){var fv,fvt;p=''+p,fv=f[p],fvt=typeof
fv;if(fvt==='function'&&p==='constructor')return tame(f[p]);if(fvt==='function'&&p!=='constructor'){if(isWhitelistedProperty(t,'m',p))return markFuncFreeze(function(_){return tame(f[p].apply(f,untameArray(arguments)))})}else
if(isWhitelistedProperty(t,'r',p))return tame(f[p]);return},t.w___=function(p,v){p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){if(isWhitelistedProperty(t,'w',p)&&!isWhitelistedReadOnly(t))return f[p]=untame(v),v};throw new
TypeError('Not writeable: '+p)},t.c___=function(p){p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){if(isWhitelistedProperty(t,'w',p)&&!isWhitelistedReadOnly(t)){if(delete
f[p])return true}};throw new TypeError('Not deleteable: '+p)},t.m___=function(p,as){p=''+p;if(!isNumericName(p)&&!endsWith__.test(p)){if(typeof
f[p]==='function'){if(isWhitelistedProperty(t,'m',p))return tame(f[p].apply(f,untameArray(as)))}};throw new
TypeError('Not a function: '+p)},t.HasProperty___=makeWhitelistingHasProperty(t,f,['r','m']),t.e___=makeEnumerate(t,f),t}function
tamePreviouslyConstructedObject(f,fc){var tc=tame(fc),t;return tc&&tc.IS_TAMED_CTOR___?(t=new
tc(TAME_CTOR_CREATE_OBJECT_ONLY),tameObjectWithMethods(f,t),t):void 0}function untame(t){var
ctor,f,ttype;if(!t)return t;if(t.FERAL_TWIN___&&t.FERAL_TWIN___.TAMED_TWIN___===t)return t.FERAL_TWIN___;ttype=typeof
t;if(ttype!=='function'&&ttype!=='object')return t;else if(isArray(t))return untameArray(t);if(!isDefinedInCajaFrame(t))throw new
TypeError('Host object leaked without being tamed');f=void 0;if(ttype==='object'){ctor=directConstructor(t);if(ctor===BASE_OBJECT_CONSTRUCTOR)f=untameCajaRecord(t);else
throw new TypeError('Untaming of guest constructed objects unsupported: '+t)}else
if(ttype==='function')f=untameCajaFunction(t);return f&&tamesTo(f,t),f}function
untameCajaRecord(t){var f={};return eviscerate(t,f),tameRecord(f,t),f}function untameCajaFunction(t){return function(_){return untame(t.apply(tame(this),tameArray(arguments)))}}function
eviscerate(t,f){ownKeys(t).forEach(function(p){if(t[p+'_v___']||isNumericName(p)){f[p]=untame(t[p]);if(!rawDelete(t,p))throw new
TypeError('Eviscerating: '+t+' failed to delete prop: '+p)}})}function markTameAsReadOnlyRecord(f){var
ctor,ftype,t;if(isDefinedInCajaFrame(f))throw new TypeError('Taming controls not for Caja objects: '+f);if(f.TAMED_TWIN___)throw new
TypeError('Already tamed: '+f);ftype=typeof f;if(ftype==='object'){ctor=directConstructor(f);if(ctor===BASE_OBJECT_CONSTRUCTOR)return t=tameRecord(f),whitelistReadOnly(t),tamesTo(f,t),f;throw new
TypeError('Not instanceof Object: '+f)}throw new TypeError('Not an object: '+f)}function
markTameAsFunction(f,name){var t;if(isDefinedInCajaFrame(f))throw new TypeError('Taming controls not for Caja objects: '+f);if(f.TAMED_TWIN___)throw new
TypeError('Already tamed: '+f);return t=tamePureFunction(f),tamesTo(f,t),f}function
markTameAsCtor(ctor,opt_super,name){var ctype,stype,t;if(isDefinedInCajaFrame(ctor))throw new
TypeError('Taming controls not for Caja objects: '+ctor);if(ctor.TAMED_TWIN___)throw new
TypeError('Already tamed: '+ctor);ctype=typeof ctor,stype=typeof opt_super;if(ctype!=='function')throw new
TypeError('Cannot tame '+ftype+' as ctor');if(opt_super&&stype!=='function')throw new
TypeError('Cannot tame '+stype+' as superclass ctor');return t=tameCtor(ctor,opt_super,name),tamesTo(ctor,t),ctor}function
markTameAsXo4a(f,name){var t;if(isDefinedInCajaFrame(f))throw new TypeError('Taming controls not for Caja objects: '+f);if(f.TAMED_TWIN___)throw new
TypeError('Already tamed: '+f);if(typeof f!=='function')throw new TypeError('Not a function: '+f);return t=tameXo4a(f),tamesTo(f,t),f}function
grantTameAsMethod(ctor,name){var tameProto;if(isDefinedInCajaFrame(ctor))throw new
TypeError('Taming controls not for Caja objects: '+ctor);if(!ctor.TAMED_TWIN___)throw new
TypeError('Not yet tamed: '+ctor);if(!ctor.TAMED_TWIN___.IS_TAMED_CTOR___===ctor.TAMED_TWIN___)throw new
TypeError('Not a tamed ctor: '+ctor);tameProto=tame(ctor.prototype),whitelistProperty(tameProto,'m',name)}function
grantTameAsRead(f,name){var t;if(isDefinedInCajaFrame(f))throw new TypeError('Taming controls not for Caja objects: '+f);t=tame(f),whitelistProperty(t,'r',name)}function
grantTameAsReadWrite(f,name){var t;if(isDefinedInCajaFrame(f))throw new TypeError('Taming controls not for Caja objects: '+f);t=tame(f),whitelistProperty(t,'r',name),whitelistProperty(t,'w',name)}function
extend(feralCtor,someSuper,opt_name){var inert,noop;'function'!==typeof feralCtor&&fail('Internal: Feral constructor is not a function'),someSuper=someSuper.prototype.constructor,noop=function(){};if(someSuper.new___===noop.new___)throw new
TypeError('Internal: toxic function encountered!');return noop.prototype=someSuper.prototype,feralCtor.prototype=new
noop,feralCtor.prototype.Prototype___=someSuper.prototype,inert=function(){throw new
TypeError('This constructor cannot be called directly.')},inert.prototype=feralCtor.prototype,feralCtor.prototype.constructor=inert,tamesTo(feralCtor,inert),markFuncFreeze(inert)}Object.prototype.CAJA_FRAME_OBJECT___=Object;function
isDefinedInCajaFrame(o){return!!o.CAJA_FRAME_OBJECT___}Object.prototype.NUM____v___=Object.prototype,Object.prototype.NUM____gw___=false,Object.prototype.NUM____w___=false,Object.prototype.NUM____m___=false,Object.prototype.NUM____c___=false,Object.prototype.NUM____e___=Object.prototype,Object.prototype.NUM____g___=void
0,Object.prototype.NUM____s___=void 0,Object.prototype.hasNumerics___=function(){return this.NUM____v___===this};function
isFrozen(obj){return obj.z___===obj}Array.prototype.length_v___=false,Array.prototype.length_gw___=false,Array.prototype.length_w___=false,Array.prototype.length_m___=false,Array.prototype.length_c___=false,Array.prototype.length_e___=false,Array.prototype.length_s___=markFunc(function(val){if(this.z___===this)throw new
TypeError('Cannot change the length of a frozen array.');val=ToUint32(val);if(val>=this.length)return this.length=val;if(!this.hasNumerics___()||this.NUM____c___===this)return this.length=val;throw new
TypeError('Shortening the array may delete non-configurable elements.')}),Array.prototype.length_g___=markFunc(function(){return this.length});function
safeDis(dis){var err;if(dis===null||dis===void 0)return USELESS;if(Type(dis)!=='Object')return dis;if('___'in
dis)throw err=new Error('Internal: toxic global!'),err.UNCATCHABLE___=true,err;return dis}endsWith__=/__$/,endsWith_e___=/([\s\S]*)_e___$/,endsWith_v___=/([\s\S]*)_v___$/,startsWithNUM___=/^NUM___/;function
assertValidPropertyName(P){if(endsWith__.test(P))throw new TypeError('Properties may not end in double underscore.')}function
callFault(var_args){var err=new Error('Internal: toxic function encountered!');throw err.UNCATCHABLE___=true,err}function
getter(obj,name){return obj[name+'_g___']}function setter(obj,name){return obj[name+'_s___']}function
hasAccessor(obj,name){var valueFlag=name+'_v___';return valueFlag in obj&&!obj[valueFlag]}function
hasOwnAccessor(obj,name){var valueFlag=name+'_v___';return obj.hasOwnProperty(valueFlag)&&!obj[valueFlag]}function
fastpathWrite(obj,name){obj[name+'_gw___']=obj,obj[name+'_m___']=false,obj[name+'_w___']=obj}function
fastpathMethod(obj,name){obj[name+'_w___']=false,obj[name+'_m___']=obj}deferredDefended=[],addToDefended=function(root){deferredDefended.push(root)},functionInstanceVoidNameGetter=markFunc(function(){return''}),addToDefended(freeze(functionInstanceVoidNameGetter));function
installFunctionInstanceProps(f){var name=f.name___;delete f.name___,f.prototype_v___=f,f.prototype_w___=f,f.prototype_gw___=f,f.prototype_c___=false,f.prototype_e___=false,f.prototype_g___=void
0,f.prototype_s___=void 0,f.prototype_m___=false,f.length_v___=f,f.length_w___=false,f.length_gw___=false,f.length_c___=false,f.length_e___=false,f.length_g___=void
0,f.length_s___=void 0,f.length_m___=false,f.name_v___=false,f.name_w___=false,f.name_gw___=false,f.name_c___=false,f.name_e___=false,f.name_g___=name===''?functionInstanceVoidNameGetter:markFuncFreeze(function(){return name}),f.name_s___=void
0,f.name_m___=false,addToDefended(f.name_g___)}function deferredV(name){return delete
this.v___,delete this.w___,delete this.c___,delete this.DefineOwnProperty___,installFunctionInstanceProps(this),this.v___?this.v___(name):void
0}function deferredW(name,val){return delete this.v___,delete this.w___,delete this.c___,delete
this.DefineOwnProperty___,installFunctionInstanceProps(this),this.w___(name,val)}function
deferredC(name){return delete this.v___,delete this.w___,delete this.c___,delete
this.DefineOwnProperty___,installFunctionInstanceProps(this),this.c___(name)}function
deferredDOP(name,desc){return delete this.v___,delete this.w___,delete this.c___,delete
this.DefineOwnProperty___,installFunctionInstanceProps(this),this.DefineOwnProperty___(name,desc)}function
markFunc(fn,name){var p;if(!isFunction(fn))throw new TypeError('Expected a function instead of '+fn);if(fn.f___!==Function.prototype.f___&&fn.f___!==fn.apply)throw new
TypeError('The function is already tamed or not from this frame.\n'+fn.f___);return fn.f___=fn.apply,fn.new___=fn,fn.name___=name===''||name===void
0?'':''+name,fn.v___=deferredV,fn.w___=deferredW,fn.c___=deferredC,fn.DefineOwnProperty___=deferredDOP,p=fn.prototype,p&&typeof
p==='object'&&!p.hasOwnProperty('constructor_v___')&&(p.constructor_v___=p,p.constructor_w___=p,p.constructor_gw___=p,p.constructor_c___=p,p.constructor_e___=false,p.constructor_g___=void
0,p.constructor_s___=void 0,p.constructor_m___=false),fn}function markSafeFunc(fn,name){return markFunc(fn,name),fn.i___=fn,fn}function
markFuncFreeze(fn,name){return freeze(markFunc(fn,name))}function hasValue(obj,name){return!!obj[name+'_v___']}function
hasOwnValue(obj,name){return obj[name+'_v___']===obj||name==='NUM___'}function guestHasOwnProperty(obj,name){return obj.hasOwnProperty(name+'_v___')||name==='NUM___'}function
isWritable(obj,name){return obj[name+'_w___']===obj?true:obj[name+'_gw___']===obj?(obj[name+'_m___']=false,obj[name+'_w___']=obj,true):name==='NUM___'&&!obj.hasNumerics___()?(obj.NUM____v___=obj,obj.NUM____gw___=obj,obj.NUM____w___=false,obj.NUM____c___=obj,obj.NUM____e___=obj,obj.NUM____g___=void
0,obj.NUM____s___=void 0,obj.NUM____m___=false,true):false}function isAssignable(obj,name){return(isWritable(obj,name)||obj[name+'_gw___'])&&obj.ne___!==obj}function
isEnumerable(obj,name){return!!obj[name+'_e___']}function isConfigurable(obj,name){return obj[name+'_c___']===obj||name==='NUM___'&&!obj.hasNumerics___()}function
isExtensible(obj){return Type(obj)==='Object'&&obj.ne___!==obj}function wouldExtend(obj,name){return isNumericName(name)?!obj.hasOwnProperty(name):hasOwnValue(obj,name)?false:!obj[name+'_s___']}function
isArray(obj){return classProp.call(obj)==='[object Array]'}function isFunction(obj){return classProp.call(obj)==='[object Function]'}function
isError(obj){return classProp.call(obj)==='[object Error]'}Object.prototype.e___=function(){return this};function
allKeys(obj){var result=[],i,m;for(i in obj)if(isNumericName(i))result.push(i);else{if(startsWithNUM___.test(i)&&endsWith__.test(i))continue;m=i.match(endsWith_v___),m&&result.push(m[1])}return result}function
ownEnumKeys(obj){var result=[],i,m;for(i in obj){if(!obj.hasOwnProperty(i))continue;if(isNumericName(i))result.push(i);else{if(startsWithNUM___.test(i)&&endsWith__.test(i))continue;m=i.match(endsWith_e___),m&&obj[i]&&result.push(m[1])}}return result}function
ownKeys(obj){var result=[],i,m;for(i in obj){if(!obj.hasOwnProperty(i))continue;if(isNumericName(i))result.push(i);else{if(startsWithNUM___.test(i)&&endsWith__.test(i))continue;m=i.match(endsWith_v___),m&&result.push(m[1])}}return result}function
ownUntamedKeys(obj){var result=[],i,m;for(i in obj)obj.hasOwnProperty(i)&&(isNumericName(i)||!endsWith__.test(i))&&result.push(i);return result}function
Token(name){return name=''+name,snowWhite({'toString':markFuncFreeze(function tokenToString(){return name}),'throwable___':true})}function
isNumericName(n){return typeof n==='number'||''+ +n===n}function jsonParseOk(json){var
x;try{return x=json.parse('{\"a\":3}'),x.a===3}catch(e){return false}}function
jsonStringifyOk(json){var x;try{return x=json.stringify({'a':3,'b__':4},function
replacer(k,v){return/__$/.test(k)?void 0:v}),x!=='{\"a\":3}'?false:(x=json.stringify(void
0,'invalid'),x===void 0)}catch(e){return false}}goodJSON={},parser=jsonParseOk(JSON)?JSON.parse:json_sans_eval.parse,goodJSON.parse=markFunc(function(){return whitelistAll(parser.apply(this,arguments),true)}),goodJSON.stringify=markFunc(jsonStringifyOk(JSON)?JSON.stringify:json_sans_eval.stringify),safeJSON=snowWhite({'CLASS___':'JSON','parse':markFunc(function(text,opt_reviver){var
reviver=void 0;return opt_reviver&&(reviver=markFunc(function(key,value){return opt_reviver.f___(this,arguments)})),goodJSON.parse(json_sans_eval.checkSyntax(text,function(key){return!endsWith__.test(key)}),reviver)}),'stringify':markFunc(function(obj,opt_replacer,opt_space){var
replacer;switch(typeof opt_space){case'number':case'string':case'undefined':break;default:throw new
TypeError('space must be a number or string')}return replacer=markFunc(opt_replacer?function(key,value){return this.HasProperty___(key)?opt_replacer.f___(this,arguments):void
0}:function(key,value){return this.HasProperty___(key)||key===''?value:void 0}),goodJSON.stringify(obj,replacer,opt_space)})});function
defaultLogger(str,opt_stop){}myLogFunc=markFuncFreeze(defaultLogger);function getLogFunc(){return myLogFunc}markFunc(getLogFunc);function
setLogFunc(newLogFunc){myLogFunc=newLogFunc}markFunc(setLogFunc);function log(str){myLogFunc(''+str)}markFunc(log);function
enforce(test,var_args){if(!test)throw new Error(slice.call(arguments,1).join(''));return true}function
enforceType(specimen,typename,opt_name){if(typeof specimen!==typename)throw new TypeError('expected '+typename+' instead of '+typeof
specimen+': '+(opt_name||specimen));return specimen}function enforceNat(specimen){enforceType(specimen,'number');if(Math.floor(specimen)!==specimen)throw new
TypeError('Must be integral: '+specimen);if(specimen<0)throw new TypeError('Must not be negative: '+specimen);if(Math.floor(specimen-1)!==specimen-1)throw new
TypeError('Beyond precision limit: '+specimen);if(Math.floor(specimen-1)>=specimen)throw new
TypeError('Must not be infinite: '+specimen);return specimen}function deprecate(func,badName,advice){var
warningNeeded=true;return function(){return warningNeeded&&(log('\"'+badName+'\" is deprecated.\n'+advice),warningNeeded=false),func.apply(USELESS,arguments)}}magicCount=0,MAGIC_NUM=Math.random(),MAGIC_TOKEN=Token('MAGIC_TOKEN_FOR:'+MAGIC_NUM),MAGIC_NAME='_index;'+MAGIC_NUM+';';function
newTable(opt_useKeyLifetime,opt_expectedSize){var myMagicIndexName,myValues;++magicCount,myMagicIndexName=MAGIC_NAME+magicCount+'___';function
setOnKey(key,value){var ktype=typeof key,i,list;if(!key||ktype!=='function'&&ktype!=='object')throw new
TypeError('Can\'t use key lifetime on primitive keys: '+key);list=key[myMagicIndexName];if(!list||list[0]!==key)key[myMagicIndexName]=[key,MAGIC_TOKEN,value];else{for(i=1;i<list.length;i+=2)if(list[i]===MAGIC_TOKEN)break;list[i]=MAGIC_TOKEN,list[i+1]=value}}function
getOnKey(key){var ktype=typeof key,i,list;if(!key||ktype!=='function'&&ktype!=='object')throw new
TypeError('Can\'t use key lifetime on primitive keys: '+key);list=key[myMagicIndexName];if(!list||list[0]!==key)return;for(i=1;i<list.length;i+=2)if(list[i]===MAGIC_TOKEN)return list[i+1];return}if(opt_useKeyLifetime)return snowWhite({'set':markFuncFreeze(setOnKey),'get':markFuncFreeze(getOnKey)});myValues=[];function
setOnTable(key,value){var index;switch(typeof key){case'object':case'function':if(null===key)return myValues.prim_null=value,void
0;index=getOnKey(key);if(value===void 0){if(index===void 0)return;setOnKey(key,void
0)}else index===void 0&&(index=myValues.length,setOnKey(key,index));break;case'string':index='str_'+key;break;default:index='prim_'+key}value===void
0?delete myValues[index]:(myValues[index]=value)}function getOnTable(key){var index;switch(typeof
key){case'object':case'function':return null===key?myValues.prim_null:(index=getOnKey(key),void
0===index?void 0:myValues[index]);case'string':return myValues['str_'+key];default:return myValues['prim_'+key]}}return snowWhite({'set':markFuncFreeze(setOnTable),'get':markFuncFreeze(getOnTable)})}registeredImports=[];function
getId(imports){var id;return enforceType(imports,'object','imports'),'id___'in imports?(id=enforceType(imports.id___,'number','id')):(id=imports.id___=registeredImports.length),registeredImports[id]=imports,id}function
getImports(id){var result=registeredImports[enforceType(id,'number','id')];if(result===void
0)throw new Error('Internal: imports#',id,' unregistered');return result}function
unregister(imports){var id;enforceType(imports,'object','imports'),'id___'in imports&&(id=enforceType(imports.id___,'number','id'),registeredImports[id]=void
0)}defended=newTable(),def=markFuncFreeze(function(root){var defending=newTable(),defendingList=[];function
recur(val){if(val!==Object(val)||defended.get(val)||defending.get(val))return;defending.set(val,true),defendingList.push(val),freeze(val),recur(origGetPrototypeOf(val)),ownKeys(val).forEach(function(p){var
desc=origGetOwnPropertyDescriptor(val,p);recur(desc.value),recur(desc.get),recur(desc.set)})}return recur(root),defendingList.forEach(function(obj){defended.set(obj,true)}),root}),addToDefended=markFuncFreeze(function(root){defended.set(root,true)}),deferredDefended.forEach(function(o){addToDefended(o)}),deferredDefended=void
0,USELESS=Token('USELESS'),NO_RESULT=Token('NO_RESULT'),TAME_CTOR_CREATE_OBJECT_ONLY=Token('TAME_CTOR_CREATE_OBJECT_ONLY');function
identity(x){return x}function callWithEjector(attemptFunc,opt_failFunc){var failFunc=opt_failFunc||identity,disabled=false,token=new
Token('ejection'),stash;token.UNCATCHABLE___=true,stash=void 0;function ejector(result){throw disabled?new
Error('ejector disabled'):(stash=result,token)}markFuncFreeze(ejector);try{try{return attemptFunc.m___('call',[USELESS,ejector])}finally{disabled=true}}catch(e){if(e===token)return failFunc.m___('call',[USELESS,stash]);throw e}}function
eject(opt_ejector,result){throw opt_ejector?(opt_ejector.m___('call',[USELESS,result]),new
Error('Ejector did not exit: ',opt_ejector)):new Error(result)}function makeTrademark(typename,table){return typename=''+typename,snowWhite({'toString':markFuncFreeze(function(){return typename+'Mark'}),'stamp':snowWhite({'toString':markFuncFreeze(function(){return typename+'Stamp'}),'mark___':markFuncFreeze(function(obj){return table.set(obj,true),obj})}),'guard':snowWhite({'toString':markFuncFreeze(function(){return typename+'T'}),'coerce':markFuncFreeze(function(specimen,opt_ejector){if(table.get(specimen))return specimen;eject(opt_ejector,'Specimen does not have the \"'+typename+'\" trademark')})})})}GuardMark=makeTrademark('Guard',newTable(true)),GuardT=GuardMark.guard,GuardStamp=GuardMark.stamp,freeze(GuardStamp.mark___(GuardT));function
Trademark(typename){var result=makeTrademark(typename,newTable(true));return freeze(GuardStamp.mark___(result.guard)),result}markFuncFreeze(Trademark);function
guard(g,specimen,opt_ejector){return g=GuardT.coerce(g),g.coerce(specimen,opt_ejector)}function
passesGuard(g,specimen){return g=GuardT.coerce(g),callWithEjector(markFuncFreeze(function(opt_ejector){return g.coerce(specimen,opt_ejector),true}),markFuncFreeze(function(ignored){return false}))}function
stamp(stamps,record){var i,numStamps;if(isFrozen(record))throw new TypeError('Can\'t stamp frozen objects: '+record);stamps=Array.slice(stamps,0),numStamps=stamps.length;for(i=0;i<numStamps;++i)if(!('mark___'in
stamps[i]))throw new TypeError('Can\'t stamp with a non-stamp: '+stamps[i]);for(i=0;i<numStamps;++i)stamps[i].mark___(record);return freeze(record)}function
makeSealerUnsealerPair(){var table=newTable(true),undefinedStandin={};function seal(payload){var
box;return payload===void 0&&(payload=undefinedStandin),box=Token('(box)'),table.set(box,payload),box}function
unseal(box){var payload=table.get(box);if(payload===void 0)throw new TypeError('Sealer/Unsealer mismatch');else
if(payload===undefinedStandin)return;return payload}return snowWhite({'seal':markFuncFreeze(seal),'unseal':markFuncFreeze(unseal)})}function
manifest(ignored){}function tameException(ex){var name;if(ex&&ex.UNCATCHABLE___)throw ex;try{switch(typeof
ex){case'string':case'number':case'boolean':case'undefined':return ex;case'object':return ex===null?null:ex.throwable___?ex:isError(ex)?freeze(ex):''+ex;case'function':name=''+(ex.v___('name')||ex);function
inLieuOfThrownFunction(){return'In lieu of thrown function: '+name}return markFuncFreeze(inLieuOfThrownFunction,name);default:return log('Unrecognized exception type: '+typeof
ex),'Unrecognized exception type: '+typeof ex}}catch(_){return log('Exception during exception handling.'),'Exception during exception handling.'}}function
Type(x){switch(typeof x){case'undefined':return'Undefined';case'boolean':return'Boolean';case'string':return'String';case'number':return'Number';default:return x?'Object':'Null'}}attributeDefaults={'value':void
0,'get':void 0,'set':void 0,'writable':false,'enumerable':false,'configurable':false};function
isPrimitive(x){return Type(x)!=='Object'}function IsAccessorDescriptor(Desc){return Desc===void
0?false:'get'in Desc?true:'set'in Desc}function IsDataDescriptor(Desc){return Desc===void
0?false:'value'in Desc?true:'writable'in Desc}function IsGenericDescriptor(Desc){return Desc===void
0?false:!IsAccessorDescriptor(Desc)&&!IsDataDescriptor(Desc)}function FromPropertyDescriptor(Desc){var
obj;function copyProp(Desc,obj,name){obj.DefineOwnProperty___(name,{'value':Desc[name],'writable':true,'enumerable':true,'configurable':true})}return Desc===void
0?void 0:(obj={},IsDataDescriptor(Desc)?(copyProp(Desc,obj,'value'),copyProp(Desc,obj,'writable')):(copyProp(Desc,obj,'get'),copyProp(Desc,obj,'set')),copyProp(Desc,obj,'enumerable'),copyProp(Desc,obj,'configurable'),obj)}function
ToPropertyDescriptor(Obj){var desc,getter,setter;if(Type(Obj)!=='Object')throw new
TypeError('Expected an object.');desc={},Obj.HasProperty___('enumerable')&&(desc.enumerable=!!Obj.v___('enumerable')),Obj.HasProperty___('configurable')&&(desc.configurable=!!Obj.v___('configurable')),Obj.HasProperty___('value')&&(desc.value=Obj.v___('value')),Obj.HasProperty___('writable')&&(desc.writable=!!Obj.v___('writable'));if(Obj.HasProperty___('get')){getter=Obj.v___('get');if(!isFunction(getter)&&getter!==void
0)throw new TypeError('Getter attributes must be functions or undef.');desc.get=getter}if(Obj.HasProperty___('set')){setter=Obj.v___('set');if(!isFunction(setter)&&setter!==void
0)throw new TypeError('Setter attributes must be functions or undef.');desc.set=setter}if('set'in
desc||'get'in desc){if('value'in desc)throw new TypeError('Accessor properties must not have a value.');if('writable'in
desc)throw new TypeError('Accessor properties must not be writable.')}return desc}Object.prototype.GetOwnProperty___=function(P){var
O=this,D;if(typeof P==='number'||''+ +P===P)return O.hasOwnProperty(P)?{'value':O[P],'writable':isWritable(O,'NUM___'),'configurable':isConfigurable(O,'NUM___'),'enumerable':true}:void
0;P=''+P;if(endsWith__.test(P))throw new TypeError('Properties may not end in double underscore.');return!O.hasOwnProperty(P+'_v___')&&P!=='NUM___'?void
0:(D={},hasValue(O,P)?(D.value=O[P],D.writable=isWritable(O,P)):(D.get=getter(O,P),D.set=setter(O,P)),D.enumerable=isEnumerable(O,P),D.configurable=isConfigurable(O,P),D)},Object.prototype.v___=function(P){var
g;return P=''+P,isNumericName(P)?this[P]:(assertValidPropertyName(P),g=getter(this,P),g?g.f___(this):hasValue(this,P)?this[P]:this.handleRead___?this.handleRead___(P):void
0)},Object.prototype.w___=function(P,V){var thisExtensible=isExtensible(this),s;P=''+P,assertValidPropertyName(P);if(!thisExtensible){if(wouldExtend(this,P))throw new
TypeError('Could not create the property \''+P+'\': '+this+' is not extensible.')};if(isNumericName(P)){if(isAssignable(this,'NUM___')||!this.hasNumerics___())return this[P]=V;throw new
TypeError('The property \''+P+'\' is not writable.')}s=setter(this,P);if(s)return s.f___(this,[V]),V;if(P+'_v___'in
this){if(isAssignable(this,P))return fastpathWrite(this,P),this[P]=V;throw new TypeError('The property \''+P+'\' is not writable.')}if(this.handleSet___)return this.handleSet___(P,V),V;if(!this.hasOwnProperty(P)&&isExtensible(this))return this.DefineOwnProperty___(P,{'value':V,'writable':true,'configurable':true,'enumerable':true}),V;throw new
TypeError('The property \''+P+'\' is not writable.')},Object.prototype.HasProperty___=function(P){return(isNumericName(P)?P:P+'_v___')in
this};function rawDelete(O,P){return delete O[P]&&delete O[P+'_v___']&&delete O[P+'_w___']&&delete
O[P+'_gw___']&&delete O[P+'_g___']&&delete O[P+'_s___']&&delete O[P+'_c___']&&delete
O[P+'_e___']&&delete O[P+'_m___']}Object.prototype.c___=function(P){var O=this,desc,result;P=''+P;if(O.handleDelete___){result=this.handleDelete___(P);if(!result)throw new
TypeError('Cannot delete '+P+' on '+O);return true}desc=O.GetOwnProperty___(P);if(!desc)return true;if(desc.configurable){if(isNumericName(P)){if(isDeodorized(O,P))throw new
TypeError('Cannot delete Firefox-specific antidote \''+P+'\' on '+O);return delete
O[P],true}return rawDelete(O,P),true}throw new TypeError('Cannot delete \''+P+'\' on '+O)},Object.prototype.DefineOwnProperty___=function(P,Desc){var
O,allHaveAppearedAndAreTheSame,current,extensible,i,iddCurrent,iddDesc;if(typeof
P==='number'||''+ +P===P)throw new TypeError('Cannot define numeric properties.');O=this,P=''+P,current=O.GetOwnProperty___(P),extensible=Type(O)==='Object'&&O.ne___!==O;if(!current&&!extensible)throw new
TypeError('This object is not extensible.');if(!current&&extensible)return IsDataDescriptor(Desc)||IsGenericDescriptor(Desc)?(O[P]=Desc.value,O[P+'_v___']=O,O[P+'_w___']=false,O[P+'_gw___']=Desc.writable?O:false,O[P+'_e___']=Desc.enumerable?O:false,O[P+'_c___']=Desc.configurable?O:false,O[P+'_g___']=void
0,O[P+'_s___']=void 0):(Desc.configurable&&(O[P]=void 0),O[P+'_v___']=false,O[P+'_w___']=O[P+'_gw___']=false,O[P+'_e___']=Desc.enumerable?O:false,O[P+'_c___']=Desc.configurable?O:false,O[P+'_g___']=Desc.get,O[P+'_s___']=Desc.set),O[P+'_m___']=false,true;if(!('value'in
Desc||'writable'in Desc||'enumerable'in Desc||'configurable'in Desc||'get'in Desc||'set'in
Desc))return true;allHaveAppearedAndAreTheSame=true;for(i in Desc){if(!Desc.hasOwnProperty(i))continue;if(!SameValue(current.v___(i),Desc[i])){allHaveAppearedAndAreTheSame=false;break}}if(allHaveAppearedAndAreTheSame)return true;if(!current.configurable){if(Desc.configurable)throw new
TypeError('The property \''+P+'\' is not configurable.');if('enumerable'in Desc&&Desc.enumerable!==current.enumerable)throw new
TypeError('The property \''+P+'\' is not configurable.')}iddCurrent=IsDataDescriptor(current),iddDesc=IsDataDescriptor(Desc);if(IsGenericDescriptor(Desc));else
if(iddCurrent!==iddDesc){if(!current.configurable)throw new TypeError('The property \''+P+'\' is not configurable.');iddCurrent?(O[P]=void
0,O[P+'_v___']=false):(O[P]=Desc.value,O[P+'_v___']=O),O[P+'_w___']=O[P+'_gw___']=false,O[P+'_g___']=void
0,O[P+'_s___']=void 0,O[P+'_m___']=false}else if(iddCurrent&&iddDesc){if(!current.configurable){if(!current.writable&&Desc.writable)throw new
TypeError('The property \''+P+'\' is not configurable.');if(!current.writable){if('value'in
Desc&&!SameValue(Desc.value,current.value))throw new TypeError('The property \''+P+'\' is not writable.')}}}else
if(!current.configurable){if('set'in Desc&&!SameValue(Desc.set,current.set)||'get'in
Desc&&!SameValue(Desc.get,current.get))throw new TypeError('The property \''+P+'\' is not configurable.')};return iddDesc?(O[P]=Desc.value,O[P+'_v___']=O,O[P+'_gw___']=Desc.writable?O:false,O[P+'_g___']=O[P+'_s___']=void
0):(O[P+'_v___']=false,O[P+'_gw___']=false,O[P+'_g___']=Desc.get,O[P+'_s___']=Desc.set),O[P+'_e___']=Desc.enumerable?O:false,O[P+'_c___']=Desc.configurable?O:false,O[P+'_m___']=false,O[P+'_w___']=false,true};function
ToUint32(input){return input>>>0}function ToObject(input){if(input===void 0||input===null)throw new
TypeError('Cannot convert '+t+' to Object.');return Object(input)}function SameValue(x,y){return x===y?x!==0||1/x===1/y:x!==x&&y!==y}function
asFirstClass(value){var err;if(isFunction(value)&&value.f___===Function.prototype.f___)throw err=new
Error('Internal: toxic function encountered!'),err.UNCATCHABLE___=true,err;return value}function
initializeMap(list){var result={},accessors={},i,name,type;for(i=0;i<list.length;i+=2)if(typeof
list[i]==='string'){if(result.hasOwnProperty(list[i]))throw new SyntaxError('Duplicate keys: '+list[i]);isNumericName(list[i])?(result[list[i]]=asFirstClass(list[i+1])):result.DefineOwnProperty___(list[i],{'value':asFirstClass(list[i+1]),'writable':true,'enumerable':true,'configurable':true})}else{name=list[i][0];if(isNumericName(name))throw new
TypeError('Accessors not supported for numerics.');type=list[i][1],accessors[name]=accessors[name]||{};if(accessors[name].hasOwnProperty(type))throw new
SyntaxError('Duplicate accessor keys: '+type+' '+list[i]);accessors[name][type]=asFirstClass(list[i+1])}for(i
in accessors){if(endsWith__.test(i))continue;if(!accessors.hasOwnProperty(i))continue;result.DefineOwnProperty___(i,{'get':accessors[i].get,'set':accessors[i].set,'enumerable':true,'configurable':true})}return result}function
makePoisonPill(badThing){function poisonPill(){throw new TypeError(''+badThing+' is forbidden by ES5/strict')}return markFunc(poisonPill)}poisonFuncCaller=makePoisonPill('A function\'s .caller'),poisonFuncArgs=makePoisonPill('A function\'s .arguments'),Function.prototype.f___=callFault,Function.prototype.i___=function(var_args){return this.f___(USELESS,slice.call(arguments,0))},Function.prototype.new___=callFault,Function.prototype.DefineOwnProperty___('arguments',{'enumerable':false,'configurable':false,'get':poisonFuncArgs,'set':poisonFuncArgs}),Function.prototype.DefineOwnProperty___('caller',{'enumerable':false,'configurable':false,'get':poisonFuncCaller,'set':poisonFuncCaller}),poisonArgsCallee=makePoisonPill('arguments.callee'),poisonArgsCaller=makePoisonPill('arguments.caller');function
args(original){var result=initializeMap(['length',0]);return push.apply(result,original),result.CLASS___='Arguments',result.DefineOwnProperty___('callee',{'enumerable':false,'configurable':false,'get':poisonArgsCallee,'set':poisonArgsCallee}),result.DefineOwnProperty___('caller',{'enumerable':false,'configurable':false,'get':poisonArgsCaller,'set':poisonArgsCaller}),result}function
Y(maker){function recurse(x){return maker(markFunc(function(var_args){return x(x).apply(this,arguments)}))}return recurse(recurse)}function
isIn(name,obj){var t=Type(obj);if(t!=='Object')throw new TypeError('Invalid \"in\" operand: '+obj);return obj.HasProperty___(name)}function
virtualize(obj,name,fun){var vname=name+'_virt___';obj[vname]=fun?markFunc(fun):obj[name]?markFunc(obj[name]):void
0,obj.DefineOwnProperty___(name,{'get':markFunc(function(){return this[vname]}),'set':markFunc(function(val){if(!isFunction(val))throw new
TypeError('Expected a function instead of '+val);if(isFrozen(this))throw new TypeError('This object is frozen.');if(!isExtensible(this)&&!this.hasOwnProperty(vname))throw new
TypeError('This object is not extensible.');this[vname]=asFirstClass(val)}),'enumerable':false,'configurable':false})}markFunc(decodeURI),markFunc(decodeURIComponent),markFunc(encodeURI),markFunc(encodeURIComponent),Object.f___=markFunc(function(dis,as){var
len=as.length;return len===0||as[0]===null||as[0]===void 0?{}:ToObject(as[0])}),Object.new___=markFunc(function(value){return Object.f___(USELESS,[value])}),Object.DefineOwnProperty___('prototype',{'value':Object.prototype,'writable':false,'enumerable':false,'configurable':false}),Object.getPrototypeOf||(Object.getPrototypeOf=function(obj){var
constr;if(Type(obj)!=='Object')throw new TypeError('Not an object.');return Object.hasOwnProperty('Prototype___')||(({}).__proto__===Object.prototype?(obj.Prototype___=obj.__proto__):(constr=directConstructor(obj),constr===BASE_OBJECT_CONSTRUCTOR?(obj.Prototype___=obj.baseProto___):constr===void
0?(obj.Prototype___=null):(obj.Prototype___=constr.prototype))),obj.Prototype___}),origGetPrototypeOf=Object.getPrototypeOf,Object.getOwnPropertyDescriptor=function(obj,P){var
desc,name;if(Type(obj)!=='Object')throw new TypeError('Expected an object.');return name=''+P,desc=obj.GetOwnProperty___(name),FromPropertyDescriptor(desc)},origGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,virtualize(Object,'getOwnPropertyNames',ownKeys);function
beget(proto){var result;if(proto===null)throw new TypeError('Cannot beget from null.');if(proto===void
0)throw new TypeError('Cannot beget from undefined.');function F(){}return F.prototype=proto,result=new
F,result}Object.create=function(O,opt_Properties){var obj;if(Type(O)!=='Object')throw new
TypeError('Expected an object.');return obj=beget(O),opt_Properties!==void 0&&DefineProperties(obj,opt_Properties),obj},Object.defineProperty=function(O,P,Attributes){var
desc,name;if(Type(O)!=='Object')throw new TypeError('Expected an object.');return name=''+P,desc=ToPropertyDescriptor(Attributes),O.DefineOwnProperty___(name,desc),O};function
DefineProperties(O,Properties){var P,desc,descObj,descriptors,i,len,names,props;if(Type(O)!=='Object')throw new
TypeError('Expected an object.');props=ToObject(Properties),names=ownEnumKeys(props),descriptors=[],len=names.length;for(i=0;i<len;++i)P=names[i],descObj=props.v___(P),desc=ToPropertyDescriptor(descObj),descriptors.push(desc);for(i=0;i<len;++i)P=names[i],desc=descriptors[i],O.DefineOwnProperty___(P,desc);return O}Object.defineProperties=DefineProperties,Object.seal=function(O){var
P,i,keys,len;if(Type(O)!=='Object')throw new TypeError('Only objects may be sealed.');keys=ownKeys(O),len=keys.length;for(i=0;i<len;++i){P=keys[i];if(isNumericName(P))continue;O[P+'_c___']=false}return O.hasNumerics___()||(O.NUM____v___=O,O.NUM____gw___=O,O.NUM____w___=O,O.NUM____m___=false,O.NUM____e___=O,O.NUM____g___=void
0,O.NUM____s___=void 0),O.NUM____c___=false,O.ne___=O,O};function freeze(obj){var
i,j,m;if(Type(obj)!=='Object')throw new TypeError('Only objects may be frozen.');if(obj.z___===obj)return obj;obj.v___===deferredV&&obj.v___('length'),obj.ne___=obj;for(i
in obj){if(!obj.hasOwnProperty(i))continue;if(isNumericName(i))continue;m=i.match(endsWith_v___);if(!m)continue;j=m[1],obj[j+'_c___']=false,obj[j+'_gw___']=false,obj[j+'_w___']=false}return obj.hasNumerics___()||(obj.NUM____v___=obj,obj.NUM____e___=obj,obj.NUM____g___=void
0,obj.NUM____s___=void 0),obj.NUM____c___=false,obj.NUM____w___=false,obj.NUM____m___=false,obj.NUM____gw___=false,obj.z___=obj,obj}function
whitelistAll(obj,opt_deep){var i,isObj;for(i in obj)obj.hasOwnProperty(i)&&!endsWith__.test(i)&&!(i+'_v___'in
obj)&&(isObj=typeof obj[i]==='object',opt_deep&&isObj&&whitelistAll(obj[i],true),obj[i+'_v___']=obj,obj[i+'_w___']=false,obj[i+'_gw___']=false,obj[i+'_e___']=obj,obj[i+'_c___']=false,obj[i+'_g___']=void
0,obj[i+'_s___']=void 0,obj[i+'_m___']=false,isFunction(obj[i])&&(obj[i].f___===Function.prototype.f___&&markFunc(obj[i])));return obj}function
snowWhite(obj){return freeze(whitelistAll(obj))}Object.freeze=freeze,Object.preventExtensions=function(O){return O.hasNumerics___()||(O.NUM____v___=O,O.NUM____e___=O,O.NUM____g___=void
0,O.NUM____s___=void 0,O.NUM____c___=O,O.NUM____gw___=O,O.NUM____w___=O,O.NUM____m___=false),O.ne___=O,O},Object.isSealed=function(O){var
i;if(Type(O)!=='Object')throw new TypeError('Only objects may be frozen.');for(i
in O){if(endsWith__.test(i))continue;if(!O.hasOwnProperty(i))continue;if(isNumericName(i))continue;if(O[i+'_c___'])return false}return O.ne___===O},Object.isFrozen=isFrozen,Object.isExtensible=isExtensible,virtualize(Object,'keys',ownEnumKeys),(function(){var
objectStaticMethods=['getPrototypeOf','getOwnPropertyDescriptor','create','defineProperty','defineProperties','seal','freeze','preventExtensions','isSealed','isFrozen','isExtensible'],len=objectStaticMethods.length,i,name;for(i=0;i<len;++i)name=objectStaticMethods[i],Object.DefineOwnProperty___(name,{'value':markFunc(Object[name]),'writable':true,'enumerable':false,'configurable':true})})(),Object.DefineOwnProperty___('constructor',{'value':Object,'writable':false,'enumerable':false,'configurable':false}),Object.prototype.toString=markFunc(function(){return this.CLASS___?'[object '+this.CLASS___+']':classProp.call(this)}),Object.prototype.DefineOwnProperty___('toString',{'get':markFunc(function(){return this.toString.orig___?this.toString.orig___:this.toString}),'set':markFunc(function(val){if(!isFunction(val))throw new
TypeError('Expected a function instead of '+val);if(isFrozen(this))throw new TypeError('Won\'t set toString on a frozen object.');val=asFirstClass(val),this.toString=markFunc(function(var_args){return val.f___(safeDis(this),arguments)}),this.toString.orig___=val}),'enumerable':false,'configurable':false}),markFunc(Object.prototype.valueOf),Object.prototype.DefineOwnProperty___('valueOf',{'get':markFunc(function(){return this.valueOf.orig___?this.valueOf.orig___:this.valueOf}),'set':markFunc(function(val){if(!isFunction(val))throw new
TypeError('Expected a function instead of '+val);if(isFrozen(this))throw new TypeError('Won\'t set valueOf on a frozen object.');val=asFirstClass(val),this.valueOf=markFunc(function(var_args){return val.f___(safeDis(this),arguments)}),this.valueOf.orig___=val}),'enumerable':false,'configurable':false}),virtualize(Object.prototype,'hasOwnProperty',function(P){return isNumericName(P)?this.hasOwnProperty(P):guestHasOwnProperty(this,P)}),virtualize(Object.prototype,'propertyIsEnumerable',function(V){return isEnumerable(this,''+V)}),(function(){var
methods=['toLocaleString','isPrototypeOf'],len=methods.length,i,name;for(i=0;i<len;++i)name=methods[i],virtualize(Object.prototype,name)})(),freeze(Object.prototype),FakeFunction=function(){throw new
Error('Internal: FakeFunction should not be directly invocable.')},FakeFunction.toString=(function(str){return function(){return str}})(Function.toString()),Function.f___=FakeFunction.f___=markFunc(function(){throw new
Error('Invoking the Function constructor is unsupported.')}),Function.new___=FakeFunction.new___=markFunc(function(){throw new
Error('Constructing functions dynamically is unsupported.')}),FakeFunction.DefineOwnProperty___('prototype',{'value':Function.prototype,'writable':false,'enumerable':false,'configurable':false}),Function.prototype.DefineOwnProperty___('constructor',{'value':FakeFunction,'writable':true,'enumerable':false,'configurable':false}),(function(){var
orig=Function.prototype.toString;Function.prototype.toString=markFunc(function(){return this.toString___?this.toString___():orig.call(this)})})(),virtualize(Function.prototype,'call',function(dis,var_args){return this.apply(safeDis(dis),slice.call(arguments,1))}),virtualize(Function.prototype,'apply',function(dis,as){return this.apply(safeDis(dis),as?slice.call(as,0):undefined)}),Function.prototype.bind=markFunc(function(self,var_args){var
thisFunc=safeDis(this),leftArgs=slice.call(arguments,1);function funcBound(var_args){var
args=leftArgs.concat(slice.call(arguments,0));return thisFunc.apply(safeDis(self),args)}return delete
funcBound.prototype,funcBound.f___=funcBound.apply,funcBound.new___=function(){throw'Constructing the result of a bind() not yet implemented.'},funcBound}),virtualize(Function.prototype,'bind'),markFunc(Array),Array.DefineOwnProperty___('prototype',{'value':Array.prototype,'writable':false,'enumerable':false,'configurable':false}),Array.isArray=markFunc(isArray),Array.DefineOwnProperty___('isArray',{'value':Array.isArray,'writable':true,'enumerable':false,'configurable':true}),virtualize(Array,'slice'),Array.prototype.DefineOwnProperty___('constructor',{'value':Array.prototype.constructor,'writable':true,'enumerable':false,'configurable':false}),markFunc(Array.prototype.toString),(function(){var
methods=['toLocaleString','concat','join','pop'],i,len;for(i=0,len=methods.length;i<len;++i)virtualize(Array.prototype,methods[i])})();function
whitelistLengthIfItExists(dis){'length'in dis&&!('length_v___'in dis)&&dis.DefineOwnProperty___('length',{'value':dis.length,'writable':true,'configurable':true,'enumerable':true})}function
guardedVirtualize(obj,name){var orig=obj[name];virtualize(obj,name,function(var_args){var
dis,result;if(!isExtensible(this))throw new TypeError('This object is not extensible.');return dis=safeDis(this),result=orig.apply(dis,arguments),whitelistLengthIfItExists(dis),result})}(function(){var
methods=['push','reverse','shift','splice','unshift'],i,len;for(i=0,len=methods.length;i<len;++i)guardedVirtualize(Array.prototype,methods[i])})(),virtualize(Array.prototype,'slice'),virtualize(Array.prototype,'sort',function(comparefn){var
result;if(!isAssignable(this,'NUM___'))throw new TypeError('Cannot sort an object whose numeric properties are not writable.');if(!isExtensible(this))throw new
TypeError('Cannot sort an object that is not extensible.');return result=comparefn?Array.prototype.sort.call(this,markFunc(function(var_args){return comparefn.f___(this,arguments)})):Array.prototype.sort.call(this),whitelistLengthIfItExists(this),result}),Array.prototype.indexOf=markFunc(function(value,fromIndex){var
len=this.length>>>0,i;if(!len)return -1;i=fromIndex||0;if(i>=len)return -1;i<0&&(i+=len);for(;i<len;++i){if(!this.hasOwnProperty(i))continue;if(value===this[i])return i}return -1}),virtualize(Array.prototype,'indexOf'),Array.prototype.lastIndexOf=function(value,fromIndex){var
len=this.length,i;if(!len)return -1;i=arguments[1]||len,i<0&&(i+=len),i=Math.min___(i,len-1);for(;i>=0;--i){if(!this.hasOwnProperty(i))continue;if(value===this[i])return i}return -1},virtualize(Array.prototype,'lastIndexOf');function
createOrWrap(obj,name,fun){var vname;virtualize(obj,name),vname=name+'_virt___',obj[name]?(obj[vname]=(function(orig){return function(block){var
a=slice.call(arguments,0);return a[0]=markFunc(function(var_args){return block.f___(this,arguments)}),orig.apply(this,a)}})(obj[name])):(obj[vname]=fun),markFunc(obj[vname])}createOrWrap(Array.prototype,'every',function(block,thisp){var
len=this.length>>>0,i;for(i=0;i<len;++i)if(!block.f___(thisp,[this[i]]))return false;return true}),createOrWrap(Array.prototype,'some',function(block,thisp){var
len=this.length>>>0,i;for(i=0;i<this.length;++i)if(block.f___(thisp,[this[i]]))return true;return false}),virtualize(Array.prototype,'forEach',function(block,thisp){var
len=this.length>>>0,i;for(i=0;i<len;++i)i in this&&block.f___(thisp,[this[i],i,this])}),createOrWrap(Array.prototype,'map',function(fun,thisp){var
len=this.length>>>0,i,res;if(!isFunction(fun))throw new TypeError('Expected a function instead of '+fun);res=new
Array(len);for(i=0;i<len;++i)i in this&&(res[i]=fun.f___(thisp,[this[i],i,this]));return res}),createOrWrap(Array.prototype,'filter',function(block,thisp){var
values=[],len=this.length>>>0,i;for(i=0;i<len;++i)block.f___(thisp,[this[i]])&&values.push(this[i]);return values}),createOrWrap(Array.prototype,'reduce',function(fun){var
len=this.length>>>0,i,rv;if(!isFunction(fun))throw new TypeError('Expected a function instead of '+fun);if(len===0&&arguments.length===1)throw new
TypeError('Expected an initial value or a non-empty array.');i=0;if(arguments.length>=2)rv=arguments[1];else
do{if(i in this){rv=this[i++];break}if(++i>=len)throw new TypeError('Expected non-empty array.')}while(true);for(;i<len;++i)i
in this&&(rv=fun.f___(USELESS,[rv,this[i],i,this]));return rv}),createOrWrap(Array.prototype,'reduceRight',function(fun){var
len=this.length>>>0,i,rv;if(!isFunction(fun))throw new TypeError('Expected a function instead of '+fun);if(len===0&&arguments.length===1)throw new
TypeError('Expected an initial value or a non-empty array.');i=len-1;if(arguments.length>=2)rv=arguments[1];else
do{if(i in this){rv=this[i--];break}if(--i<0)throw new TypeError('Expected a non-empty array.')}while(true);for(;i>=0;--i)i
in this&&(rv=fun.f___(USELESS,[rv,this[i],i,this]));return rv}),markFunc(String),String.DefineOwnProperty___('prototype',{'value':String.prototype,'writable':false,'enumerable':false,'configurable':false}),virtualize(String,'fromCharCode'),String.prototype.DefineOwnProperty___('constructor',{'value':String.prototype.constructor,'writable':true,'enumerable':false,'configurable':false}),markFunc(String.prototype.toString),markFunc(String.prototype.valueOf),(function(){var
methods=['charAt','charCodeAt','concat','indexOf','lastIndexOf','localeCompare','slice','substring','toLowerCase','toLocaleLowerCase','toUpperCase','toLocaleUpperCase','substr'],len=methods.length,i;for(i=0;i<len;++i)virtualize(String.prototype,methods[i])})();function
enforceMatchable(regexp){if(regexp instanceof RegExp){if(isFrozen(regexp))throw new
Error('Can\'t match with frozen RegExp: '+regexp);return false}return true}function
tameStringRegExp(orig){return markFunc(function(regexp){var cast=enforceMatchable(regexp);return orig.call(this,cast?''+regexp:regexp)})}(function(){var
methods=['match','search','split'],i,len;for(i=0,len=methods.length;i<len;++i)virtualize(String.prototype,methods[i],tameStringRegExp(String.prototype[methods[i]]))})(),virtualize(String.prototype,'replace',function(searcher,replacement){var
cast=enforceMatchable(searcher);return isFunction(replacement)?(replacement=asFirstClass(replacement)):(replacement=''+replacement),String.prototype.replace.call(this,cast?''+searcher:searcher,replacement)}),trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/,virtualize(String.prototype,'trim',function(){return(''+this).replace(trimBeginRegexp,'').replace(trimEndRegexp,'')}),markFunc(Boolean),Boolean.DefineOwnProperty___('prototype',{'value':Boolean.prototype,'writable':false,'enumerable':false,'configurable':false}),Boolean.prototype.DefineOwnProperty___('constructor',{'value':Boolean.prototype.constructor,'writable':true,'enumerable':false,'configurable':false}),markFunc(Number),(function(){var
props=['prototype','MAX_VALUE','MIN_VALUE','NEGATIVE_INFINITY','POSITIVE_INFINITY'],len=props.length,i;for(i=0;i<len;++i)Number.DefineOwnProperty___(props[i],{'value':Number[props[i]],'writable':false,'enumerable':false,'configurable':false})})(),Number.prototype.DefineOwnProperty___('constructor',{'value':Number.prototype.constructor,'writable':true,'enumerable':false,'configurable':false}),markFunc(Number.prototype.toString),markFunc(Number.prototype.valueOf),(function(){var
methods=['toLocaleString','toFixed','toExponential','toPrecision'],len=methods.length,i;for(i=0;i<len;++i)virtualize(Number.prototype,methods[i])})(),(function(){var
props=['E','LN10','LN2','LOG2E','LOG10E','PI','SQRT1_2','SQRT2'],len=props.length,i;for(i=0;i<len;++i)Math.DefineOwnProperty___(props[i],{'value':Math[props[i]],'writable':false,'enumerable':false,'configurable':false})})(),(function(){var
methods=['abs','acos','asin','atan','atan2','ceil','cos','exp','floor','log','max','min','pow','random','round','sin','sqrt','tan'],len=methods.length,i;for(i=0;i<len;++i)virtualize(Math,methods[i])})(),markFunc(Date),Date.DefineOwnProperty___('prototype',{'value':Date.prototype,'writable':false,'enumerable':false,'configurable':false}),(function(){var
staticMethods=['parse','UTC','now'],len=staticMethods.length,i;for(i=0;i<len;++i)virtualize(Date,staticMethods[i])})(),Date.prototype.DefineOwnProperty___('constructor',{'value':Date.prototype.constructor,'writable':true,'enumerable':false,'configurable':false}),markFunc(Date.prototype.toString),markFunc(Date.prototype.valueOf),(function(){var
methods=['toDateString','toTimeString','toLocaleString','toLocaleDateString','toLocaleTimeString','getTime','getFullYear','getMonth','getDate','getDay','getHours','getMinutes','getSeconds','getUTCSeconds','getUTCMinutes','getUTCHours','getUTCDay','getUTCDate','getUTCMonth','getUTCFullYear','getMilliseconds','getTimezoneOffset','setFullYear','setMonth','setDate','setHours','setMinutes','setSeconds','setMilliseconds','setTime','toISOString','toJSON'],i;for(i=0;i<methods.length;++i)virtualize(Date.prototype,methods[i])})(),RegExp.f___=markFunc(function(dis___,as){var
pattern=as[0],flags=as[1];if(classProp.call(pattern)==='[object RegExp]'&&flags===void
0)return pattern;switch(as.length){case 0:return new RegExp.new___;case 1:return new
RegExp.new___(pattern);default:return new RegExp.new___(pattern,flags)}}),RegExp.new___=markFunc(function(pattern,flags){var
i,instanceProps,re;switch(arguments.length){case 0:re=new RegExp;break;case 1:re=new
RegExp(pattern);break;default:re=new RegExp(pattern,flags)}instanceProps=['source','global','ignoreCase','multiline'];for(i=0;i<instanceProps.length;++i)re.DefineOwnProperty___(instanceProps[i],{'value':re[instanceProps[i]],'writable':false,'enumerable':false,'configurable':false});return re.DefineOwnProperty___('lastIndex',{'value':re.lastIndex,'writable':true,'enumerable':false,'configurable':false}),re}),RegExp.DefineOwnProperty___('prototype',{'value':RegExp.prototype,'writable':false,'enumerable':false,'configurable':false}),RegExp.prototype.DefineOwnProperty___('constructor',{'value':RegExp,'writable':true,'enumerable':false,'configurable':false}),virtualize(RegExp.prototype,'exec',function(specimen){return RegExp.prototype.exec.call(safeDis(this),specimen)}),virtualize(RegExp.prototype,'test',function(specimen){return RegExp.prototype.test.call(safeDis(this),specimen)}),markFunc(Error),Error.DefineOwnProperty___('prototype',{'value':Error.prototype,'enumerable':false,'configurable':false,'writable':true}),Error.prototype.DefineOwnProperty___('constructor',{'value':Error,'enumerable':false,'configurable':false,'writable':true}),Error.prototype.DefineOwnProperty___('name',{'value':'Error','enumerable':false,'configurable':false,'writable':true}),Error.prototype.DefineOwnProperty___('message',{'value':'','enumerable':false,'configurable':false,'writable':true}),markFunc(Error.prototype.toString),markFunc(EvalError),markFunc(RangeError),markFunc(ReferenceError),markFunc(SyntaxError),markFunc(TypeError),markFunc(URIError);function
getNewModuleHandler(){return myNewModuleHandler}function setNewModuleHandler(newModuleHandler){myNewModuleHandler=newModuleHandler}obtainNewModule=snowWhite({'handle':markFuncFreeze(function
handleOnly(newModule){return newModule})});function registerClosureInspector(module){this&&this.CLOSURE_INSPECTOR___&&this.CLOSURE_INSPECTOR___.supportsCajaDebugging&&this.CLOSURE_INSPECTOR___.registerCajaModule(module)}function
copy(obj){var result=Array.isArray(obj)?[]:{},keys=ownKeys(obj),len=keys.length,i,k,v;for(i=0;i<len;++i)k=keys[i],v=obj[k],isNumericName(k)?(result[k]=v):result.DefineOwnProperty___(k,{'value':v,'writable':true,'enumerable':true,'configurable':true});return result}function
makeNormalNewModuleHandler(){var imports=void 0,lastOutcome=void 0;function getImports(){return imports||(imports=copy(sharedImports)),imports}return snowWhite({'getImports':markFuncFreeze(getImports),'setImports':markFuncFreeze(function
setImports(newImports){imports=newImports}),'getLastOutcome':markFuncFreeze(function
getLastOutcome(){return lastOutcome}),'getLastValue':markFuncFreeze(function getLastValue(){return lastOutcome&&lastOutcome[0]?lastOutcome[1]:void
0}),'handle':markFuncFreeze(function handle(newModule){var outcome,result;registerClosureInspector(newModule),outcome=void
0;try{result=newModule.instantiate(___,getImports()),result!==NO_RESULT&&(outcome=[true,result])}catch(ex){outcome=[false,ex]}lastOutcome=outcome;if(outcome){if(outcome[0])return outcome[1];throw log(outcome[1]),outcome[1]}return}),'handleUncaughtException':markFuncFreeze(function
handleUncaughtException(exception,onerror,source,lineNum){var message,shouldReport;lastOutcome=[false,exception],message=tameException(exception),'object'===typeof
exception&&exception!==null&&(message=''+(exception.message||exception.desc||message));if(!isFunction(onerror))throw new
TypeError('Expected onerror to be a function or undefined.');shouldReport=onerror.i___(message,''+source,''+lineNum),shouldReport!==false&&log(source+':'+lineNum+': '+message)})})}function
isFlag(name){return/_v___$/.test(name)||/_w___$/.test(name)||/_gw___$/.test(name)||/_c___$/.test(name)||/_e___$/.test(name)||/_g___$/.test(name)||/_s___$/.test(name)||/_m___$/.test(name)}function
copyToImports(imports,source){var p;for(p in source)source.hasOwnProperty(p)&&(/__$/.test(p)?isFlag(p)||(imports[p]=source[p]):isNumericName(p)?(imports[p]=source[p]):imports.DefineOwnProperty___(p,{'value':source[p],'writable':true,'enumerable':true,'configurable':true}))}function
prepareModule(module,load){var i,props;registerClosureInspector(module);function
theModule(extraImports){var imports;return extraImports.window?(imports=extraImports.window,copyToImports(imports,sharedImports)):(imports=copy(sharedImports)),copyToImports({'load':load,'cajaVM':cajaVM}),copyToImports(imports,extraImports),module.instantiate(___,imports)}props=['cajolerName','cajolerVersion','cajoledDate','moduleURL'];for(i=0;i<props.length;++i)theModule.DefineOwnProperty___(props[i],{'value':module[props[i]],'writable':false,'enumerable':true,'configurable':false});return!module.includedModules||theModule.DefineOwnProperty___('includedModules',{'value':freeze(module.includedModules),'writable':false,'enumerable':true,'configurable':false}),theModule.instantiate___=function(___,IMPORTS___){return module.instantiate(___,IMPORTS___)},markFuncFreeze(theModule)}function
loadModule(module){return freeze(module),markFuncFreeze(module.instantiate),myNewModuleHandler.m___('handle',[module])}function
grantFunc(obj,name){obj.DefineOwnProperty___(name,{'value':markFuncFreeze(obj[name]),'writable':false,'enumerable':false,'configurable':false})}function
grantRead(obj,name){obj.DefineOwnProperty___(name,{'value':obj[name],'writable':false,'enumerable':false,'configurable':false})}function
grantTypedMethod(proto,name){var f,original;name=''+name,original=proto[name],f=function(){},f.prototype=proto,proto.DefineOwnProperty___(name,{'value':markFunc(function
guardedApplier(var_args){if(!(this instanceof f))throw new TypeError('Tamed method applied to the wrong class of object.');return original.apply(this,slice.call(arguments,0))}),'enumerable':false,'configurable':true,'writable':true})}function
grantInnocentMethod(proto,name){var original=proto[name];proto.DefineOwnProperty___(name,{'enumerable':false,'configurable':false,'get':function(){return function
guardedApplier(var_args){var feralThis=safeDis(untame(this)),feralArgs=untame(slice.call(arguments,0)),feralResult=original.apply(feralThis,feralArgs);return tame(feralResult)}},'set':void
0})}function all2(func2,arg1,arg2s){var len=arg2s.length,i;for(i=0;i<len;i+=1)func2(arg1,arg2s[i])}BREAK=Token('BREAK');function
forOwnNonCajaKeys(obj,fn){var i;for(i in obj){if(!obj.hasOwnProperty(i))continue;if(endsWith__.test(i))continue;if(fn(i,obj[i])===BREAK)return}}function
useGetHandler(obj,name,getHandler){var desc;getHandler=markFunc(getHandler),name=''+name,desc=obj.GetOwnProperty___(name),!desc||!IsAccessorDescriptor(desc)?(desc={'enumerable':false,'configurable':true,'get':getHandler,'set':void
0}):(desc.get=getHandler),obj.DefineOwnProperty___(name,desc)}function useSetHandler(obj,name,setHandler){var
desc;setHandler=markFunc(setHandler),name=''+name,desc=obj.GetOwnProperty___(name),IsAccessorDescriptor(desc)?(desc.set=setHandler):(desc={'enumerable':false,'configurable':true,'get':void
0,'set':setHandler}),obj.DefineOwnProperty___(name,desc)}function hasOwnProp(obj,name){return obj&&obj.hasOwnProperty(name)}cajaVM=whitelistAll({'log':log,'enforce':enforce,'enforceType':enforceType,'enforceNat':enforceNat,'Token':Token,'newTable':newTable,'identity':identity,'callWithEjector':callWithEjector,'eject':eject,'GuardT':GuardT,'Trademark':Trademark,'guard':guard,'passesGuard':passesGuard,'stamp':stamp,'makeSealerUnsealerPair':makeSealerUnsealerPair,'def':def,'isFunction':isFunction,'USELESS':USELESS,'manifest':manifest,'allKeys':allKeys});function
readImport(imports,name){name=''+name;if(imports.HasProperty___(name))return imports.v___(name);throw new
ReferenceError(name+' is not defined.')}function declareImport(imports,name){if(imports.HasProperty___(name))return;imports.w___(name,void
0)}function writeImport(imports,name,value){if(imports.HasProperty___(name))return imports.w___(name,value),value;throw new
ReferenceError(name+' is not defined.')}function goodParseInt(n,radix){var isHexOrOctal,isOct;return n=''+n,radix=+radix,isHexOrOctal=/^\s*[+-]?\s*0(x?)/.exec(n),isOct=isHexOrOctal?isHexOrOctal[1]!=='x':false,isOct&&(radix!==radix||0===radix)?parseInt(n,10):parseInt(n,radix)}sharedImports=whitelistAll({'cajaVM':cajaVM,'null':null,'false':false,'true':true,'NaN':NaN,'Infinity':Infinity,'undefined':void
0,'parseInt':markFunc(goodParseInt),'parseFloat':markFunc(parseFloat),'isNaN':markFunc(isNaN),'isFinite':markFunc(isFinite),'decodeURI':markFunc(decodeURI),'decodeURIComponent':markFunc(decodeURIComponent),'encodeURI':markFunc(encodeURI),'encodeURIComponent':markFunc(encodeURIComponent),'escape':escape?markFunc(escape):void
0,'Math':Math,'JSON':safeJSON,'Object':Object,'Array':Array,'String':String,'Boolean':Boolean,'Number':Number,'Date':Date,'RegExp':RegExp,'Function':FakeFunction,'Error':Error,'EvalError':EvalError,'RangeError':RangeError,'ReferenceError':ReferenceError,'SyntaxError':SyntaxError,'TypeError':TypeError,'URIError':URIError}),Object.prototype.m___=function(name,as){var
m,ownerObj;name=''+name;if(this[name+'_m___'])return this[name].f___(this,as);m=this.v___(name);if(typeof
m!=='function'){if(this.handleCall___)return this.handleCall___(name,as);throw new
TypeError('The property \''+name+'\' is not a function.')}return ownerObj=this[name+'_v___'],ownerObj&&ownerObj!==Function.prototype&&fastpathMethod(ownerObj,name),m.f___(this,as)},___={'sharedImports':sharedImports,'USELESS':USELESS,'BREAK':BREAK,'tameException':tameException,'args':args,'deodorize':deodorize,'copy':copy,'i':isIn,'iM':initializeMap,'f':markSafeFunc,'markFunc':markFunc,'markFuncFreeze':markFuncFreeze,'Trademark':Trademark,'makeSealerUnsealerPair':makeSealerUnsealerPair,'getId':getId,'getImports':getImports,'unregister':unregister,'newTable':newTable,'whitelistAll':whitelistAll,'snowWhite':snowWhite,'Y':Y,'ri':readImport,'di':declareImport,'wi':writeImport,'grantRead':grantRead,'grantFunc':grantFunc,'grantTypedMethod':grantTypedMethod,'grantInnocentMethod':grantInnocentMethod,'all2':all2,'hasOwnProp':hasOwnProp,'forOwnKeys':forOwnNonCajaKeys,'markCtor':markFuncFreeze,'useGetHandler':useGetHandler,'useSetHandler':useSetHandler,'primFreeze':snowWhite,'isJSONContainer':isExtensible,'getLogFunc':getLogFunc,'setLogFunc':setLogFunc,'callPub':function(obj,name,args){return obj.m___(name,args)},'readPub':function(obj,name){return obj.v___(name)},'canRead':function(obj,name){return name+'_v___'in
obj},'freeze':freeze,'getNewModuleHandler':getNewModuleHandler,'setNewModuleHandler':setNewModuleHandler,'obtainNewModule':obtainNewModule,'makeNormalNewModuleHandler':makeNormalNewModuleHandler,'prepareModule':prepareModule,'loadModule':loadModule,'NO_RESULT':NO_RESULT,'def':def,'tame':tame,'untame':untame,'tamesTo':tamesTo,'markTameAsReadOnlyRecord':markTameAsReadOnlyRecord,'markTameAsFunction':markTameAsFunction,'markTameAsCtor':markTameAsCtor,'markTameAsXo4a':markTameAsXo4a,'grantTameAsMethod':grantTameAsMethod,'grantTameAsRead':grantTameAsRead,'grantTameAsReadWrite':grantTameAsReadWrite,'extend':extend},cajaVMKeys=ownEnumKeys(cajaVM);for(i=0;i<cajaVMKeys.length;++i)___[cajaVMKeys[i]]=cajaVM[cajaVMKeys[i]];setNewModuleHandler(makeNormalNewModuleHandler())})(),unicode={},unicode.BASE_CHAR='A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da\u03dc\u03de\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559\u0561-\u0586\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0641-\u064a\u0671-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5\u06e5-\u06e6\u0905-\u0939\u093d\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ae0\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0e01-\u0e2e\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0f40-\u0f47\u0f49-\u0f69\u10a0-\u10c5\u10d0-\u10f6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110b-\u110c\u110e-\u1112\u113c\u113e\u1140\u114c\u114e\u1150\u1154-\u1155\u1159\u115f-\u1161\u1163\u1165\u1167\u1169\u116d-\u116e\u1172-\u1173\u1175\u119e\u11a8\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba\u11bc-\u11c2\u11eb\u11f0\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2126\u212a-\u212b\u212e\u2180-\u2182\u3041-\u3094\u30a1-\u30fa\u3105-\u312c\uac00-\ud7a3',unicode.IDEOGRAPHIC='\u4e00-\u9fa5\u3007\u3021-\u3029',unicode.LETTER=unicode.BASE_CHAR+unicode.IDEOGRAPHIC,unicode.COMBINING_CHAR='\u0300-\u0345\u0360-\u0361\u0483-\u0486\u0591-\u05a1\u05a3-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4\u064b-\u0652\u0670\u06d6-\u06dc\u06dd-\u06df\u06e0-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0901-\u0903\u093c\u093e-\u094c\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be\u09bf\u09c0-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a02\u0a3c\u0a3e\u0a3f\u0a40-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82-\u0b83\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86-\u0f8b\u0f90-\u0f95\u0f97\u0f99-\u0fad\u0fb1-\u0fb7\u0fb9\u20d0-\u20dc\u20e1\u302a-\u302f\u3099\u309a',unicode.DIGIT='0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be7-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29',unicode.EXTENDER='\xb7\u02d0\u02d1\u0387\u0640\u0e46\u0ec6\u3005\u3031-\u3035\u309d-\u309e\u30fc-\u30fe',css={'properties':(function(){var
s=['|left|center|right','|top|center|bottom','#(?:[\\da-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|rgb\\(\\s*(?:-?\\d+|0|[+\\-]?\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:-?\\d+|0|[+\\-]?\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:-?\\d+|0|[+\\-]?\\d+(?:\\.\\d+)?%)\\)','[+\\-]?\\d+(?:\\.\\d+)?(?:[cem]m|ex|in|p[ctx])','\\d+(?:\\.\\d+)?(?:[cem]m|ex|in|p[ctx])','none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset','[+\\-]?\\d+(?:\\.\\d+)?%','\\d+(?:\\.\\d+)?%','url\\(\"[^()\\\\\"\\r\\n]+\"\\)','repeat-x|repeat-y|(?:repeat|space|round|no-repeat)(?:\\s+(?:repeat|space|round|no-repeat)){0,2}'],c=[RegExp('^\\s*(?:\\s*(?:0|'+s[3]+'|'+s[6]+')){1,2}\\s*$','i'),RegExp('^\\s*(?:\\s*(?:0|'+s[3]+'|'+s[6]+')){1,4}(?:\\s*\\/(?:\\s*(?:0|'+s[3]+'|'+s[6]+')){1,4})?\\s*$','i'),RegExp('^\\s*(?:\\s*none|(?:(?:\\s*(?:'+s[2]+')\\s+(?:0|'+s[3]+')(?:\\s*(?:0|'+s[3]+')){1,4}(?:\\s*inset)?|(?:\\s*inset)?\\s+(?:0|'+s[3]+')(?:\\s*(?:0|'+s[3]+')){1,4}(?:\\s*(?:'+s[2]+'))?)\\s*,)*(?:\\s*(?:'+s[2]+')\\s+(?:0|'+s[3]+')(?:\\s*(?:0|'+s[3]+')){1,4}(?:\\s*inset)?|(?:\\s*inset)?\\s+(?:0|'+s[3]+')(?:\\s*(?:0|'+s[3]+')){1,4}(?:\\s*(?:'+s[2]+'))?))\\s*$','i'),RegExp('^\\s*(?:'+s[2]+'|transparent|inherit)\\s*$','i'),RegExp('^\\s*(?:'+s[5]+'|inherit)\\s*$','i'),RegExp('^\\s*(?:thin|medium|thick|0|'+s[3]+'|inherit)\\s*$','i'),RegExp('^\\s*(?:(?:thin|medium|thick|0|'+s[3]+'|'+s[5]+'|'+s[2]+'|transparent|inherit)(?:\\s+(?:thin|medium|thick|0|'+s[3]+')|\\s+(?:'+s[5]+')|\\s*#(?:[\\da-f]{3}){1,2}|\\s+aqua|\\s+black|\\s+blue|\\s+fuchsia|\\s+gray|\\s+green|\\s+lime|\\s+maroon|\\s+navy|\\s+olive|\\s+orange|\\s+purple|\\s+red|\\s+silver|\\s+teal|\\s+white|\\s+yellow|\\s+rgb\\(\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\)|\\s+transparent|\\s+inherit){0,2}|inherit)\\s*$','i'),/^\s*(?:none|inherit)\s*$/i,RegExp('^\\s*(?:'+s[8]+'|none|inherit)\\s*$','i'),RegExp('^\\s*(?:0|'+s[3]+'|'+s[6]+'|auto|inherit)\\s*$','i'),RegExp('^\\s*(?:0|'+s[4]+'|'+s[7]+'|none|inherit|auto)\\s*$','i'),RegExp('^\\s*(?:0|'+s[4]+'|'+s[7]+'|inherit|auto)\\s*$','i'),/^\s*(?:0(?:\.\d+)?|\.\d+|1(?:\.0+)?|inherit)\s*$/i,RegExp('^\\s*(?:(?:'+s[2]+'|invert|inherit|'+s[5]+'|thin|medium|thick|0|'+s[3]+')(?:\\s*#(?:[\\da-f]{3}){1,2}|\\s+aqua|\\s+black|\\s+blue|\\s+fuchsia|\\s+gray|\\s+green|\\s+lime|\\s+maroon|\\s+navy|\\s+olive|\\s+orange|\\s+purple|\\s+red|\\s+silver|\\s+teal|\\s+white|\\s+yellow|\\s+rgb\\(\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\)|\\s+invert|\\s+inherit|\\s+(?:'+s[5]+'|inherit)|\\s+(?:thin|medium|thick|0|'+s[3]+'|inherit)){0,2}|inherit)\\s*$','i'),RegExp('^\\s*(?:'+s[2]+'|invert|inherit)\\s*$','i'),/^\s*(?:visible|hidden|scroll|auto|no-display|no-content)\s*$/i,RegExp('^\\s*(?:0|'+s[4]+'|'+s[7]+'|inherit)\\s*$','i'),/^\s*(?:auto|always|avoid|left|right|inherit)\s*$/i,RegExp('^\\s*(?:0|[+\\-]?\\d+(?:\\.\\d+)?m?s|'+s[6]+'|inherit)\\s*$','i'),/^\s*(?:0|[+\-]?\d+(?:\.\d+)?|inherit)\s*$/i,/^\s*(?:clip|ellipsis)\s*$/i,RegExp('^\\s*(?:normal|0|'+s[3]+'|inherit)\\s*$','i')];return{'-moz-border-radius':c[1],'-moz-border-radius-bottomleft':c[0],'-moz-border-radius-bottomright':c[0],'-moz-border-radius-topleft':c[0],'-moz-border-radius-topright':c[0],'-moz-box-shadow':c[2],'-moz-opacity':c[12],'-moz-outline':c[13],'-moz-outline-color':c[14],'-moz-outline-style':c[4],'-moz-outline-width':c[5],'-o-text-overflow':c[20],'-webkit-border-bottom-left-radius':c[0],'-webkit-border-bottom-right-radius':c[0],'-webkit-border-radius':c[1],'-webkit-border-radius-bottom-left':c[0],'-webkit-border-radius-bottom-right':c[0],'-webkit-border-radius-top-left':c[0],'-webkit-border-radius-top-right':c[0],'-webkit-border-top-left-radius':c[0],'-webkit-border-top-right-radius':c[0],'-webkit-box-shadow':c[2],'azimuth':/^\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:g?rad|deg)|(?:left-side|far-left|left|center-left|center|center-right|right|far-right|right-side|behind)(?:\s+(?:left-side|far-left|left|center-left|center|center-right|right|far-right|right-side|behind))?|leftwards|rightwards|inherit)\s*$/i,'background':RegExp('^\\s*(?:\\s*(?:'+s[8]+'|none|(?:(?:0|'+s[6]+'|'+s[3]+s[0]+')(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[1]+'))?|(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?)(?:\\s+(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?))?)(?:\\s*\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain))?|\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain)|'+s[9]+'|scroll|fixed|local|(?:border|padding|content)-box)(?:\\s*'+s[8]+'|\\s+none|(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[0]+')(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[1]+'))?|(?:\\s+(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?)){1,2})(?:\\s*\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain))?|\\s*\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain)|\\s+repeat-x|\\s+repeat-y|(?:\\s+(?:repeat|space|round|no-repeat)){1,2}|\\s+(?:scroll|fixed|local)|\\s+(?:border|padding|content)-box){0,4}\\s*,)*\\s*(?:'+s[2]+'|transparent|inherit|'+s[8]+'|none|(?:(?:0|'+s[6]+'|'+s[3]+s[0]+')(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[1]+'))?|(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?)(?:\\s+(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?))?)(?:\\s*\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain))?|\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain)|'+s[9]+'|scroll|fixed|local|(?:border|padding|content)-box)(?:\\s*#(?:[\\da-f]{3}){1,2}|\\s+aqua|\\s+black|\\s+blue|\\s+fuchsia|\\s+gray|\\s+green|\\s+lime|\\s+maroon|\\s+navy|\\s+olive|\\s+orange|\\s+purple|\\s+red|\\s+silver|\\s+teal|\\s+white|\\s+yellow|\\s+rgb\\(\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\)|\\s+transparent|\\s+inherit|\\s*'+s[8]+'|\\s+none|(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[0]+')(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[1]+'))?|(?:\\s+(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?)){1,2})(?:\\s*\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain))?|\\s*\\/\\s*(?:(?:0|'+s[4]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[4]+'|'+s[6]+'|auto)){0,2}|cover|contain)|\\s+repeat-x|\\s+repeat-y|(?:\\s+(?:repeat|space|round|no-repeat)){1,2}|\\s+(?:scroll|fixed|local)|\\s+(?:border|padding|content)-box){0,5}\\s*$','i'),'background-attachment':/^\s*(?:scroll|fixed|local)(?:\s*,\s*(?:scroll|fixed|local))*\s*$/i,'background-color':c[3],'background-image':RegExp('^\\s*(?:'+s[8]+'|none)(?:\\s*,\\s*(?:'+s[8]+'|none))*\\s*$','i'),'background-position':RegExp('^\\s*(?:(?:0|'+s[6]+'|'+s[3]+s[0]+')(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[1]+'))?|(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?)(?:\\s+(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?))?)(?:\\s*,\\s*(?:(?:0|'+s[6]+'|'+s[3]+s[0]+')(?:\\s+(?:0|'+s[6]+'|'+s[3]+s[1]+'))?|(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?)(?:\\s+(?:center|(?:lef|righ)t(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?|(?:top|bottom)(?:\\s+(?:0|'+s[6]+'|'+s[3]+'))?))?))*\\s*$','i'),'background-repeat':RegExp('^\\s*(?:'+s[9]+')(?:\\s*,\\s*(?:'+s[9]+'))*\\s*$','i'),'border':RegExp('^\\s*(?:(?:thin|medium|thick|0|'+s[3]+'|'+s[5]+'|'+s[2]+'|transparent)(?:\\s+(?:thin|medium|thick|0|'+s[3]+')|\\s+(?:'+s[5]+')|\\s*#(?:[\\da-f]{3}){1,2}|\\s+aqua|\\s+black|\\s+blue|\\s+fuchsia|\\s+gray|\\s+green|\\s+lime|\\s+maroon|\\s+navy|\\s+olive|\\s+orange|\\s+purple|\\s+red|\\s+silver|\\s+teal|\\s+white|\\s+yellow|\\s+rgb\\(\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\)|\\s+transparent){0,2}|inherit)\\s*$','i'),'border-bottom':c[6],'border-bottom-color':c[3],'border-bottom-left-radius':c[0],'border-bottom-right-radius':c[0],'border-bottom-style':c[4],'border-bottom-width':c[5],'border-collapse':/^\s*(?:collapse|separate|inherit)\s*$/i,'border-color':RegExp('^\\s*(?:(?:'+s[2]+'|transparent)(?:\\s*#(?:[\\da-f]{3}){1,2}|\\s+aqua|\\s+black|\\s+blue|\\s+fuchsia|\\s+gray|\\s+green|\\s+lime|\\s+maroon|\\s+navy|\\s+olive|\\s+orange|\\s+purple|\\s+red|\\s+silver|\\s+teal|\\s+white|\\s+yellow|\\s+rgb\\(\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\s*,\\s*(?:-?\\d+|0|'+s[6]+')\\)|\\s+transparent){0,4}|inherit)\\s*$','i'),'border-left':c[6],'border-left-color':c[3],'border-left-style':c[4],'border-left-width':c[5],'border-radius':c[1],'border-right':c[6],'border-right-color':c[3],'border-right-style':c[4],'border-right-width':c[5],'border-spacing':RegExp('^\\s*(?:(?:\\s*(?:0|'+s[3]+')){1,2}|\\s*inherit)\\s*$','i'),'border-style':RegExp('^\\s*(?:(?:'+s[5]+')(?:\\s+(?:'+s[5]+')){0,4}|inherit)\\s*$','i'),'border-top':c[6],'border-top-color':c[3],'border-top-left-radius':c[0],'border-top-right-radius':c[0],'border-top-style':c[4],'border-top-width':c[5],'border-width':RegExp('^\\s*(?:(?:thin|medium|thick|0|'+s[3]+')(?:\\s+(?:thin|medium|thick|0|'+s[3]+')){0,4}|inherit)\\s*$','i'),'bottom':c[9],'box-shadow':c[2],'caption-side':/^\s*(?:top|bottom|inherit)\s*$/i,'clear':/^\s*(?:none|left|right|both|inherit)\s*$/i,'clip':RegExp('^\\s*(?:rect\\(\\s*(?:0|'+s[3]+'|auto)\\s*,\\s*(?:0|'+s[3]+'|auto)\\s*,\\s*(?:0|'+s[3]+'|auto)\\s*,\\s*(?:0|'+s[3]+'|auto)\\)|auto|inherit)\\s*$','i'),'color':RegExp('^\\s*(?:'+s[2]+'|inherit)\\s*$','i'),'counter-increment':c[7],'counter-reset':c[7],'cue':RegExp('^\\s*(?:(?:'+s[8]+'|none|inherit)(?:\\s*'+s[8]+'|\\s+none|\\s+inherit)?|inherit)\\s*$','i'),'cue-after':c[8],'cue-before':c[8],'cursor':RegExp('^\\s*(?:(?:\\s*'+s[8]+'\\s*,)*\\s*(?:auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)|\\s*inherit)\\s*$','i'),'direction':/^\s*(?:ltr|rtl|inherit)\s*$/i,'display':/^\s*(?:inline|block|list-item|run-in|inline-block|table|inline-table|table-row-group|table-header-group|table-footer-group|table-row|table-column-group|table-column|table-cell|table-caption|none|inherit|-moz-inline-box|-moz-inline-stack)\s*$/i,'elevation':/^\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:g?rad|deg)|below|level|above|higher|lower|inherit)\s*$/i,'empty-cells':/^\s*(?:show|hide|inherit)\s*$/i,'filter':RegExp('^\\s*(?:\\s*alpha\\(\\s*opacity\\s*=\\s*(?:0|'+s[6]+'|[+\\-]?\\d+(?:\\.\\d+)?)\\))+\\s*$','i'),'float':/^\s*(?:left|right|none|inherit)\s*$/i,'font':RegExp('^\\s*(?:(?:normal|italic|oblique|inherit|small-caps|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)(?:\\s+(?:normal|italic|oblique|inherit|small-caps|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)){0,2}\\s+(?:xx-small|x-small|small|medium|large|x-large|xx-large|(?:small|larg)er|0|'+s[4]+'|'+s[7]+'|inherit)(?:\\s*\\/\\s*(?:normal|0|\\d+(?:\\.\\d+)?|'+s[4]+'|'+s[7]+'|inherit))?(?:(?:\\s*\"\\w(?:[\\w-]*\\w)(?:\\s+\\w([\\w-]*\\w))*\"|\\s+(?:serif|sans-serif|cursive|fantasy|monospace))(?:\\s*,\\s*(?:\"\\w(?:[\\w-]*\\w)(?:\\s+\\w([\\w-]*\\w))*\"|serif|sans-serif|cursive|fantasy|monospace))*|\\s+inherit)|caption|icon|menu|message-box|small-caption|status-bar|inherit)\\s*$','i'),'font-family':/^\s*(?:(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|serif|sans-serif|cursive|fantasy|monospace)(?:\s*,\s*(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|serif|sans-serif|cursive|fantasy|monospace))*|inherit)\s*$/i,'font-size':RegExp('^\\s*(?:xx-small|x-small|small|medium|large|x-large|xx-large|(?:small|larg)er|0|'+s[4]+'|'+s[7]+'|inherit)\\s*$','i'),'font-stretch':/^\s*(?:normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded)\s*$/i,'font-style':/^\s*(?:normal|italic|oblique|inherit)\s*$/i,'font-variant':/^\s*(?:normal|small-caps|inherit)\s*$/i,'font-weight':/^\s*(?:normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)\s*$/i,'height':c[9],'left':c[9],'letter-spacing':c[21],'line-height':RegExp('^\\s*(?:normal|0|\\d+(?:\\.\\d+)?|'+s[4]+'|'+s[7]+'|inherit)\\s*$','i'),'list-style':RegExp('^\\s*(?:(?:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none|inherit|inside|outside|'+s[8]+')(?:\\s+(?:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none|inherit)|\\s+(?:inside|outside|inherit)|\\s*'+s[8]+'|\\s+none|\\s+inherit){0,2}|inherit)\\s*$','i'),'list-style-image':c[8],'list-style-position':/^\s*(?:inside|outside|inherit)\s*$/i,'list-style-type':/^\s*(?:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none|inherit)\s*$/i,'margin':RegExp('^\\s*(?:(?:0|'+s[3]+'|'+s[6]+'|auto)(?:\\s+(?:0|'+s[3]+'|'+s[6]+'|auto)){0,4}|inherit)\\s*$','i'),'margin-bottom':c[9],'margin-left':c[9],'margin-right':c[9],'margin-top':c[9],'max-height':c[10],'max-width':c[10],'min-height':c[11],'min-width':c[11],'opacity':c[12],'outline':c[13],'outline-color':c[14],'outline-style':c[4],'outline-width':c[5],'overflow':/^\s*(?:visible|hidden|scroll|auto|inherit)\s*$/i,'overflow-x':c[15],'overflow-y':c[15],'padding':RegExp('^\\s*(?:(?:\\s*(?:0|'+s[4]+'|'+s[7]+')){1,4}|\\s*inherit)\\s*$','i'),'padding-bottom':c[16],'padding-left':c[16],'padding-right':c[16],'padding-top':c[16],'page-break-after':c[17],'page-break-before':c[17],'page-break-inside':/^\s*(?:avoid|auto|inherit)\s*$/i,'pause':RegExp('^\\s*(?:(?:\\s*(?:0|[+\\-]?\\d+(?:\\.\\d+)?m?s|'+s[6]+')){1,2}|\\s*inherit)\\s*$','i'),'pause-after':c[18],'pause-before':c[18],'pitch':/^\s*(?:0|\d+(?:\.\d+)?k?Hz|x-low|low|medium|high|x-high|inherit)\s*$/i,'pitch-range':c[19],'play-during':RegExp('^\\s*(?:'+s[8]+'\\s*(?:mix|repeat)(?:\\s+(?:mix|repeat))?|auto|none|inherit)\\s*$','i'),'position':/^\s*(?:static|relative|absolute|inherit)\s*$/i,'quotes':c[7],'richness':c[19],'right':c[9],'speak':/^\s*(?:normal|none|spell-out|inherit)\s*$/i,'speak-header':/^\s*(?:once|always|inherit)\s*$/i,'speak-numeral':/^\s*(?:digits|continuous|inherit)\s*$/i,'speak-punctuation':/^\s*(?:code|none|inherit)\s*$/i,'speech-rate':/^\s*(?:0|[+\-]?\d+(?:\.\d+)?|x-slow|slow|medium|fast|x-fast|faster|slower|inherit)\s*$/i,'stress':c[19],'table-layout':/^\s*(?:auto|fixed|inherit)\s*$/i,'text-align':/^\s*(?:left|right|center|justify|inherit)\s*$/i,'text-decoration':/^\s*(?:none|(?:underline|overline|line-through|blink)(?:\s+(?:underline|overline|line-through|blink)){0,3}|inherit)\s*$/i,'text-indent':RegExp('^\\s*(?:0|'+s[3]+'|'+s[6]+'|inherit)\\s*$','i'),'text-overflow':c[20],'text-shadow':c[2],'text-transform':/^\s*(?:capitalize|uppercase|lowercase|none|inherit)\s*$/i,'text-wrap':/^\s*(?:normal|unrestricted|none|suppress)\s*$/i,'top':c[9],'unicode-bidi':/^\s*(?:normal|embed|bidi-override|inherit)\s*$/i,'vertical-align':RegExp('^\\s*(?:baseline|sub|super|top|text-top|middle|bottom|text-bottom|0|'+s[6]+'|'+s[3]+'|inherit)\\s*$','i'),'visibility':/^\s*(?:visible|hidden|collapse|inherit)\s*$/i,'voice-family':/^\s*(?:(?:\s*(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|male|female|child)\s*,)*\s*(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|male|female|child)|\s*inherit)\s*$/i,'volume':RegExp('^\\s*(?:0|\\d+(?:\\.\\d+)?|'+s[7]+'|silent|x-soft|soft|medium|loud|x-loud|inherit)\\s*$','i'),'white-space':/^\s*(?:normal|pre|nowrap|pre-wrap|pre-line|inherit|-o-pre-wrap|-moz-pre-wrap|-pre-wrap)\s*$/i,'width':RegExp('^\\s*(?:0|'+s[4]+'|'+s[7]+'|auto|inherit)\\s*$','i'),'word-spacing':c[21],'word-wrap':/^\s*(?:normal|break-word)\s*$/i,'z-index':/^\s*(?:auto|-?\d+|inherit)\s*$/i,'zoom':RegExp('^\\s*(?:normal|0|\\d+(?:\\.\\d+)?|'+s[7]+')\\s*$','i')}})(),'alternates':{'MozBoxShadow':['boxShadow'],'WebkitBoxShadow':['boxShadow'],'float':['cssFloat','styleFloat']},'HISTORY_INSENSITIVE_STYLE_WHITELIST':{'display':true,'filter':true,'float':true,'height':true,'left':true,'opacity':true,'overflow':true,'position':true,'right':true,'top':true,'visibility':true,'width':true,'padding-left':true,'padding-right':true,'padding-top':true,'padding-bottom':true}},html4={},html4.atype={'NONE':0,'URI':1,'URI_FRAGMENT':11,'SCRIPT':2,'STYLE':3,'ID':4,'IDREF':5,'IDREFS':6,'GLOBAL_NAME':7,'LOCAL_NAME':8,'CLASSES':9,'FRAME_TARGET':10},html4.ATTRIBS={'*::class':9,'*::dir':0,'*::id':4,'*::lang':0,'*::onclick':2,'*::ondblclick':2,'*::onkeydown':2,'*::onkeypress':2,'*::onkeyup':2,'*::onload':2,'*::onmousedown':2,'*::onmousemove':2,'*::onmouseout':2,'*::onmouseover':2,'*::onmouseup':2,'*::style':3,'*::title':0,'a::accesskey':0,'a::coords':0,'a::href':1,'a::hreflang':0,'a::name':7,'a::onblur':2,'a::onfocus':2,'a::rel':0,'a::rev':0,'a::shape':0,'a::tabindex':0,'a::target':10,'a::type':0,'area::accesskey':0,'area::alt':0,'area::coords':0,'area::href':1,'area::nohref':0,'area::onblur':2,'area::onfocus':2,'area::shape':0,'area::tabindex':0,'area::target':10,'bdo::dir':0,'blockquote::cite':1,'br::clear':0,'button::accesskey':0,'button::disabled':0,'button::name':8,'button::onblur':2,'button::onfocus':2,'button::tabindex':0,'button::type':0,'button::value':0,'canvas::height':0,'canvas::width':0,'caption::align':0,'col::align':0,'col::char':0,'col::charoff':0,'col::span':0,'col::valign':0,'col::width':0,'colgroup::align':0,'colgroup::char':0,'colgroup::charoff':0,'colgroup::span':0,'colgroup::valign':0,'colgroup::width':0,'del::cite':1,'del::datetime':0,'dir::compact':0,'div::align':0,'dl::compact':0,'font::color':0,'font::face':0,'font::size':0,'form::accept':0,'form::action':1,'form::autocomplete':0,'form::enctype':0,'form::method':0,'form::name':7,'form::onreset':2,'form::onsubmit':2,'form::target':10,'h1::align':0,'h2::align':0,'h3::align':0,'h4::align':0,'h5::align':0,'h6::align':0,'hr::align':0,'hr::noshade':0,'hr::size':0,'hr::width':0,'iframe::align':0,'iframe::frameborder':0,'iframe::height':0,'iframe::marginheight':0,'iframe::marginwidth':0,'iframe::width':0,'img::align':0,'img::alt':0,'img::border':0,'img::height':0,'img::hspace':0,'img::ismap':0,'img::name':7,'img::src':1,'img::usemap':11,'img::vspace':0,'img::width':0,'input::accept':0,'input::accesskey':0,'input::align':0,'input::alt':0,'input::autocomplete':0,'input::checked':0,'input::disabled':0,'input::ismap':0,'input::maxlength':0,'input::name':8,'input::onblur':2,'input::onchange':2,'input::onfocus':2,'input::onselect':2,'input::readonly':0,'input::size':0,'input::src':1,'input::tabindex':0,'input::type':0,'input::usemap':11,'input::value':0,'ins::cite':1,'ins::datetime':0,'label::accesskey':0,'label::for':5,'label::onblur':2,'label::onfocus':2,'legend::accesskey':0,'legend::align':0,'li::type':0,'li::value':0,'map::name':7,'menu::compact':0,'ol::compact':0,'ol::start':0,'ol::type':0,'optgroup::disabled':0,'optgroup::label':0,'option::disabled':0,'option::label':0,'option::selected':0,'option::value':0,'p::align':0,'pre::width':0,'q::cite':1,'select::disabled':0,'select::multiple':0,'select::name':8,'select::onblur':2,'select::onchange':2,'select::onfocus':2,'select::size':0,'select::tabindex':0,'table::align':0,'table::bgcolor':0,'table::border':0,'table::cellpadding':0,'table::cellspacing':0,'table::frame':0,'table::rules':0,'table::summary':0,'table::width':0,'tbody::align':0,'tbody::char':0,'tbody::charoff':0,'tbody::valign':0,'td::abbr':0,'td::align':0,'td::axis':0,'td::bgcolor':0,'td::char':0,'td::charoff':0,'td::colspan':0,'td::headers':6,'td::height':0,'td::nowrap':0,'td::rowspan':0,'td::scope':0,'td::valign':0,'td::width':0,'textarea::accesskey':0,'textarea::cols':0,'textarea::disabled':0,'textarea::name':8,'textarea::onblur':2,'textarea::onchange':2,'textarea::onfocus':2,'textarea::onselect':2,'textarea::readonly':0,'textarea::rows':0,'textarea::tabindex':0,'tfoot::align':0,'tfoot::char':0,'tfoot::charoff':0,'tfoot::valign':0,'th::abbr':0,'th::align':0,'th::axis':0,'th::bgcolor':0,'th::char':0,'th::charoff':0,'th::colspan':0,'th::headers':6,'th::height':0,'th::nowrap':0,'th::rowspan':0,'th::scope':0,'th::valign':0,'th::width':0,'thead::align':0,'thead::char':0,'thead::charoff':0,'thead::valign':0,'tr::align':0,'tr::bgcolor':0,'tr::char':0,'tr::charoff':0,'tr::valign':0,'ul::compact':0,'ul::type':0},html4.eflags={'OPTIONAL_ENDTAG':1,'EMPTY':2,'CDATA':4,'RCDATA':8,'UNSAFE':16,'FOLDABLE':32,'SCRIPT':64,'STYLE':128},html4.ELEMENTS={'a':0,'abbr':0,'acronym':0,'address':0,'applet':16,'area':2,'b':0,'base':18,'basefont':18,'bdo':0,'big':0,'blockquote':0,'body':49,'br':2,'button':0,'canvas':0,'caption':0,'center':0,'cite':0,'code':0,'col':2,'colgroup':1,'dd':1,'del':0,'dfn':0,'dir':0,'div':0,'dl':0,'dt':1,'em':0,'fieldset':0,'font':0,'form':0,'frame':18,'frameset':16,'h1':0,'h2':0,'h3':0,'h4':0,'h5':0,'h6':0,'head':49,'hr':2,'html':49,'i':0,'iframe':4,'img':2,'input':2,'ins':0,'isindex':18,'kbd':0,'label':0,'legend':0,'li':1,'link':18,'map':0,'menu':0,'meta':18,'nobr':0,'noframes':20,'noscript':20,'object':16,'ol':0,'optgroup':0,'option':1,'p':1,'param':18,'pre':0,'q':0,'s':0,'samp':0,'script':84,'select':0,'small':0,'span':0,'strike':0,'strong':0,'style':148,'sub':0,'sup':0,'table':0,'tbody':1,'td':1,'textarea':8,'tfoot':1,'th':1,'thead':1,'title':24,'tr':1,'tt':0,'u':0,'ul':0,'var':0},html4.ueffects={'NOT_LOADED':0,'SAME_DOCUMENT':1,'NEW_DOCUMENT':2},html4.URIEFFECTS={'a::href':2,'area::href':2,'blockquote::cite':0,'body::background':1,'del::cite':0,'form::action':2,'img::src':1,'input::src':1,'ins::cite':0,'q::cite':0},html4.ltypes={'UNSANDBOXED':2,'SANDBOXED':1,'DATA':0},html4.LOADERTYPES={'a::href':2,'area::href':2,'blockquote::cite':2,'body::background':1,'del::cite':2,'form::action':2,'img::src':1,'input::src':1,'ins::cite':2,'q::cite':2},html=(function(html4){var
ENTITIES,INSIDE_TAG_TOKEN,OUTSIDE_TAG_TOKEN,ampRe,decimalEscapeRe,entityRe,eqRe,gtRe,hexEscapeRe,lcase,looseAmpRe,ltRe,nulRe,quotRe;'script'==='SCRIPT'.toLowerCase()?(lcase=function(s){return s.toLowerCase()}):(lcase=function(s){return s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)|32)})}),ENTITIES={'lt':'<','gt':'>','amp':'&','nbsp':'\xa0','quot':'\"','apos':'\''},decimalEscapeRe=/^#(\d+)$/,hexEscapeRe=/^#x([0-9A-Fa-f]+)$/;function
lookupEntity(name){var m;return name=lcase(name),ENTITIES.hasOwnProperty(name)?ENTITIES[name]:(m=name.match(decimalEscapeRe),m?String.fromCharCode(parseInt(m[1],10)):(m=name.match(hexEscapeRe))?String.fromCharCode(parseInt(m[1],16)):'')}function
decodeOneEntity(_,name){return lookupEntity(name)}nulRe=/\0/g;function stripNULs(s){return s.replace(nulRe,'')}entityRe=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function
unescapeEntities(s){return s.replace(entityRe,decodeOneEntity)}ampRe=/&/g,looseAmpRe=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,ltRe=/</g,gtRe=/>/g,quotRe=/\"/g,eqRe=/\=/g;function
escapeAttrib(s){return s.replace(ampRe,'&amp;').replace(ltRe,'&lt;').replace(gtRe,'&gt;').replace(quotRe,'&#34;').replace(eqRe,'&#61;')}function
normalizeRCData(rcdata){return rcdata.replace(looseAmpRe,'&amp;$1').replace(ltRe,'&lt;').replace(gtRe,'&gt;')}INSIDE_TAG_TOKEN=new
RegExp('^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|\'[^\']*\'|(?=[a-z][a-z-]*\\s*=)|[^>\"\'\\s]*))?)|(/?>)|[\\s\\S][^a-z\\s>]*)','i'),OUTSIDE_TAG_TOKEN=new
RegExp('^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<!--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))','i');function
makeSaxParser(handler){return function parse(htmlText,param){var attribName,attribs,dataEnd,decodedValue,eflags,encodedValue,htmlLower,inTag,m,openTag,tagName;htmlText=String(htmlText),htmlLower=null,inTag=false,attribs=[],tagName=void
0,eflags=void 0,openTag=void 0,handler.startDoc&&handler.startDoc(param);while(htmlText){m=htmlText.match(inTag?INSIDE_TAG_TOKEN:OUTSIDE_TAG_TOKEN),htmlText=htmlText.substring(m[0].length);if(inTag){if(m[1]){attribName=lcase(m[1]);if(m[2]){encodedValue=m[3];switch(encodedValue.charCodeAt(0)){case
34:case 39:encodedValue=encodedValue.substring(1,encodedValue.length-1)}decodedValue=unescapeEntities(stripNULs(encodedValue))}else
decodedValue=attribName;attribs.push(attribName,decodedValue)}else if(m[4])eflags!==void
0&&(openTag?handler.startTag&&handler.startTag(tagName,attribs,param):handler.endTag&&handler.endTag(tagName,param)),openTag&&eflags&(html4.eflags.CDATA|html4.eflags.RCDATA)&&(htmlLower===null?(htmlLower=lcase(htmlText)):(htmlLower=htmlLower.substring(htmlLower.length-htmlText.length)),dataEnd=htmlLower.indexOf('</'+tagName),dataEnd<0&&(dataEnd=htmlText.length),eflags&html4.eflags.CDATA?handler.cdata&&handler.cdata(htmlText.substring(0,dataEnd),param):handler.rcdata&&handler.rcdata(normalizeRCData(htmlText.substring(0,dataEnd)),param),htmlText=htmlText.substring(dataEnd)),tagName=eflags=openTag=void
0,attribs.length=0,inTag=false}else if(m[1])handler.pcdata&&handler.pcdata(m[0],param);else
if(m[3])openTag=!m[2],inTag=true,tagName=lcase(m[3]),eflags=html4.ELEMENTS.hasOwnProperty(tagName)?html4.ELEMENTS[tagName]:void
0;else if(m[4])handler.pcdata&&handler.pcdata(m[4],param);else if(m[5]){if(handler.pcdata)switch(m[5]){case'<':handler.pcdata('&lt;',param);break;case'>':handler.pcdata('&gt;',param);break;default:handler.pcdata('&amp;',param)}}}handler.endDoc&&handler.endDoc(param)}}function
makeHtmlSanitizer(sanitizeAttributes){var ignoring,stack;return makeSaxParser({'startDoc':function(_){stack=[],ignoring=false},'startTag':function(tagName,attribs,out){var
attribName,eflags,i,n,value;if(ignoring)return;if(!html4.ELEMENTS.hasOwnProperty(tagName))return;eflags=html4.ELEMENTS[tagName];if(eflags&html4.eflags.FOLDABLE)return;else
if(eflags&html4.eflags.UNSAFE)return ignoring=!(eflags&html4.eflags.EMPTY),void 0;attribs=sanitizeAttributes(tagName,attribs);if(attribs){eflags&html4.eflags.EMPTY||stack.push(tagName),out.push('<',tagName);for(i=0,n=attribs.length;i<n;i+=2)attribName=attribs[i],value=attribs[i+1],value!==null&&value!==void
0&&out.push(' ',attribName,'=\"',escapeAttrib(value),'\"');out.push('>')}},'endTag':function(tagName,out){var
eflags,i,index,stackEl;if(ignoring)return ignoring=false,void 0;if(!html4.ELEMENTS.hasOwnProperty(tagName))return;eflags=html4.ELEMENTS[tagName];if(!(eflags&(html4.eflags.UNSAFE|html4.eflags.EMPTY|html4.eflags.FOLDABLE))){if(eflags&html4.eflags.OPTIONAL_ENDTAG)for(index=stack.length;--index>=0;){stackEl=stack[index];if(stackEl===tagName)break;if(!(html4.ELEMENTS[stackEl]&html4.eflags.OPTIONAL_ENDTAG))return}else
for(index=stack.length;--index>=0;)if(stack[index]===tagName)break;if(index<0)return;for(i=stack.length;--i>index;)stackEl=stack[i],html4.ELEMENTS[stackEl]&html4.eflags.OPTIONAL_ENDTAG||out.push('</',stackEl,'>');stack.length=index,out.push('</',tagName,'>')}},'pcdata':function(text,out){ignoring||out.push(text)},'rcdata':function(text,out){ignoring||out.push(text)},'cdata':function(text,out){ignoring||out.push(text)},'endDoc':function(out){var
i;for(i=stack.length;--i>=0;)out.push('</',stack[i],'>');stack.length=0}})}function
sanitize(htmlText,opt_uriPolicy,opt_nmTokenPolicy){var out=[];return makeHtmlSanitizer(function
sanitizeAttribs(tagName,attribs){var attribKey,attribName,atype,i,value;for(i=0;i<attribs.length;i+=2){attribName=attribs[i],value=attribs[i+1],atype=null,((attribKey=tagName+'::'+attribName,html4.ATTRIBS.hasOwnProperty(attribKey))||(attribKey='*::'+attribName,html4.ATTRIBS.hasOwnProperty(attribKey)))&&(atype=html4.ATTRIBS[attribKey]);if(atype!==null)switch(atype){case
html4.atype.NONE:break;case html4.atype.SCRIPT:case html4.atype.STYLE:value=null;break;case
html4.atype.ID:case html4.atype.IDREF:case html4.atype.IDREFS:case html4.atype.GLOBAL_NAME:case
html4.atype.LOCAL_NAME:case html4.atype.CLASSES:value=opt_nmTokenPolicy?opt_nmTokenPolicy(value):value;break;case
html4.atype.URI:value=opt_uriPolicy&&opt_uriPolicy(value);break;case html4.atype.URI_FRAGMENT:value&&'#'===value.charAt(0)?(value=opt_nmTokenPolicy?opt_nmTokenPolicy(value):value,value&&(value='#'+value)):(value=null);break;default:value=null}else
value=null;attribs[i+1]=value}return attribs})(htmlText,out),out.join('')}return{'escapeAttrib':escapeAttrib,'makeHtmlSanitizer':makeHtmlSanitizer,'makeSaxParser':makeSaxParser,'normalizeRCData':normalizeRCData,'sanitize':sanitize,'unescapeEntities':unescapeEntities}})(html4),html_sanitize=html.sanitize;function
HtmlEmitter(base,opt_tameDocument){var arraySplice,bridal,detached,idMap,insertionPoint;if(!base)throw new
Error('Host page error: Virtual document element was not provided');insertionPoint=base,bridal=bridalMaker(base.ownerDocument),detached=null,idMap=null,arraySplice=Array.prototype.splice;function
buildIdMap(){var desc,descs,i,id;idMap={},descs=base.getElementsByTagName('*');for(i=0;desc=descs[i];++i)id=desc.getAttributeNode('id'),id&&id.value&&(idMap[id.value]=desc)}function
byId(id){var node;idMap||buildIdMap(),node=idMap[id];if(node)return node;for(;node=base.ownerDocument.getElementById(id);){if(base.contains?base.contains(node):base.compareDocumentPosition(node)&16)return idMap[id]=node,node;node.id=''}return null}function
emitStatic(htmlString){if(!base)throw new Error('Host page error: HtmlEmitter.emitStatic called after document finish()ed');base.innerHTML+=htmlString}function
detachOnto(limit,out){var anc,child,greatAnc,next,sibling;for(child=limit.firstChild;child;child=next)next=child.nextSibling,out.push(child,limit),limit.removeChild(child);for(anc=limit;anc&&anc!==base;anc=greatAnc){greatAnc=anc.parentNode;for(sibling=anc.nextSibling;sibling;sibling=next)next=sibling.nextSibling,out.push(sibling,greatAnc),greatAnc.removeChild(sibling)}}function
attach(id){var limit=byId(id),isLimitClosed,limitAnc,nConsumed,newDetached,parent,reattAnc,reattach;if(detached){newDetached=[0,0],detachOnto(limit,newDetached),limitAnc=limit;for(;parent=limitAnc.parentNode;)limitAnc=parent;nConsumed=0;while(nConsumed<detached.length){reattach=detached[nConsumed],reattAnc=reattach;for(;reattAnc.parentNode;reattAnc=reattAnc.parentNode);detached[nConsumed+1].appendChild(reattach),nConsumed+=2;if(reattAnc===limitAnc)break}newDetached[1]=nConsumed,arraySplice.apply(detached,newDetached)}else
detached=[],detachOnto(limit,detached);return isLimitClosed=detached[1]!==limit,insertionPoint=isLimitClosed?limit.parentNode:limit,limit}function
discard(placeholder){placeholder.parentNode.removeChild(placeholder)}function finish(){var
i,n;insertionPoint=null;if(detached)for(i=0,n=detached.length;i<n;i+=2)detached[i+1].appendChild(detached[i]);return idMap=detached=base=null,this}function
addBodyClasses(classes){base.className+=' '+classes}function signalLoaded(){var
doc=opt_tameDocument;return doc&&doc.signalLoaded___(),this}this.byId=byId,this.attach=attach,this.discard=discard,this.emitStatic=emitStatic,this.finish=finish,this.signalLoaded=signalLoaded,this.setAttr=bridal.setAttribute,this.addBodyClasses=addBodyClasses,(function(tameDoc){var
documentWriter,tameDocWrite,ucase;if(!tameDoc||tameDoc.write)return;function concat(items){return Array.prototype.join.call(items,'')}'script'.toUpperCase()==='SCRIPT'?(ucase=function(s){return s.toUpperCase()}):(ucase=function(s){return s.replace(/[a-z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)&-33)})}),documentWriter={'startTag':function(tagName,attribs){var
eltype=html4.ELEMENTS[tagName],el;if(!html4.ELEMENTS.hasOwnProperty(tagName)||(eltype&html4.eflags.UNSAFE)!==0)return;tameDoc.sanitizeAttrs___(tagName,attribs),el=bridal.createElement(tagName,attribs),eltype&html4.eflags.OPTIONAL_ENDTAG&&el.tagName===insertionPoint.tagName&&documentWriter.endTag(el.tagName,true),insertionPoint.appendChild(el),eltype&html4.eflags.EMPTY||(insertionPoint=el)},'endTag':function(tagName,optional){var
anc=insertionPoint,p;tagName=ucase(tagName);while(anc!==base&&!/\bvdoc-body___\b/.test(anc.className)){p=anc.parentNode;if(anc.tagName===tagName)return insertionPoint=p,void
0;anc=p}},'pcdata':function(text){insertionPoint.appendChild(insertionPoint.ownerDocument.createTextNode(html.unescapeEntities(text)))},'cdata':function(text){insertionPoint.appendChild(insertionPoint.ownerDocument.createTextNode(text))}},documentWriter.rcdata=documentWriter.pcdata,tameDocWrite=function
write(html_varargs){var htmlText=concat(arguments),lexer;insertionPoint||(insertionPoint=base),lexer=html.makeSaxParser(documentWriter),lexer(htmlText)},tameDoc.write=___.markFuncFreeze(tameDocWrite,'write'),tameDoc.writeln=___.markFuncFreeze(function
writeln(html){tameDocWrite(concat(arguments),'\n')},'writeln'),___.grantFunc(tameDoc,'write'),___.grantFunc(tameDoc,'writeln')})(opt_tameDocument)}bridalMaker=function(document){var
isOpera=navigator.userAgent.indexOf('Opera')===0,isIE=!isOpera&&navigator.userAgent.indexOf('MSIE')!==-1,isWebkit=!isOpera&&navigator.userAgent.indexOf('WebKit')!==-1,featureAttachEvent=!!(window.attachEvent&&!window.addEventListener),featureExtendedCreateElement=(function(){try{return document.createElement('<input type=\"radio\">').type==='radio'}catch(e){return false}})(),CUSTOM_EVENT_TYPE_SUFFIX,endsWith__,escapeAttrib;function
html5shim(){var html5_elements=['abbr','article','aside','audio','canvas','details','figcaption','figure','footer','header','hgroup','mark','meter','nav','output','progress','section','summary','time','video'],documentFragment=document.createDocumentFragment(),i;for(i=0;i<html5_elements.length;++i)try{document.createElement(html5_elements[i]),documentFragment.createElement(html5_elements[i])}catch(e){}}isIE&&html5shim(),CUSTOM_EVENT_TYPE_SUFFIX='_custom___';function
tameEventType(type,opt_isCustom,opt_tagName){var tagAttr;type=String(type);if(endsWith__.test(type))throw new
Error('Invalid event type '+type);return tagAttr=false,opt_tagName&&(tagAttr=String(opt_tagName).toLowerCase()+'::on'+type),!opt_isCustom&&(tagAttr&&html4.atype.SCRIPT===html4.ATTRIBS[tagAttr]||html4.atype.SCRIPT===html4.ATTRIBS['*::on'+type])?type:type+CUSTOM_EVENT_TYPE_SUFFIX}function
eventHandlerTypeFilter(handler,tameType){return function(event){if(tameType===event.eventType___)return handler.call(this,event)}}endsWith__=/__$/,escapeAttrib=html.escapeAttrib;function
constructClone(node,deep){var attr,attrs,child,clone,cloneChild,i,tagDesc;if(node.nodeType===1&&featureExtendedCreateElement){tagDesc=node.tagName;switch(node.tagName){case'INPUT':tagDesc='<input name=\"'+escapeAttrib(node.name)+'\" type=\"'+escapeAttrib(node.type)+'\" value=\"'+escapeAttrib(node.defaultValue)+'\"'+(node.defaultChecked?' checked=\"checked\">':'>');break;case'BUTTON':tagDesc='<button name=\"'+escapeAttrib(node.name)+'\" type=\"'+escapeAttrib(node.type)+'\" value=\"'+escapeAttrib(node.value)+'\">';break;case'OPTION':tagDesc='<option '+(node.defaultSelected?' selected=\"selected\">':'>');break;case'TEXTAREA':tagDesc='<textarea value=\"'+escapeAttrib(node.defaultValue)+'\">'}clone=document.createElement(tagDesc),attrs=node.attributes;for(i=0;attr=attrs[i];++i)attr.specified&&!endsWith__.test(attr.name)&&setAttribute(clone,attr.nodeName,attr.nodeValue)}else
clone=node.cloneNode(false);if(deep)for(child=node.firstChild;child;child=child.nextSibling)cloneChild=constructClone(child,deep),clone.appendChild(cloneChild);return clone}function
fixupClone(node,clone){var attribs,child,cloneChild,k,originalAttribs,v;for(child=node.firstChild,cloneChild=clone.firstChild;cloneChild;child=child.nextSibling,cloneChild=cloneChild.nextSibling)fixupClone(child,cloneChild);if(node.nodeType===1)switch(node.tagName){case'INPUT':clone.value=node.value,clone.checked=node.checked;break;case'OPTION':clone.selected=node.selected,clone.value=node.value;break;case'TEXTAREA':clone.value=node.value}originalAttribs=node.attributes___;if(originalAttribs){attribs={},clone.attributes___=attribs;for(k
in originalAttribs){if(/__$/.test(k))continue;v=originalAttribs[k];switch(typeof
v){case'string':case'number':case'boolean':attribs[k]=v}}}}function getWindow(element){var
doc=element.ownerDocument,s;return doc.parentWindow?doc.parentWindow:doc.defaultView?doc.defaultView:(s=doc.createElement('script'),s.innerHTML='document.parentWindow = window;',doc.body.appendChild(s),doc.body.removeChild(s),doc.parentWindow)}function
untameEventType(type){var suffix=CUSTOM_EVENT_TYPE_SUFFIX,tlen=type.length,slen=suffix.length,end;return end=tlen-slen,end>=0&&suffix===type.substring(end)&&(type=type.substring(0,end)),type}function
initEvent(event,type,bubbles,cancelable){type=tameEventType(type,true),bubbles=Boolean(bubbles),cancelable=Boolean(cancelable);if(event.initEvent)event.initEvent(type,bubbles,cancelable);else
if(bubbles&&cancelable)event.eventType___=type;else throw new Error('Browser does not support non-bubbling/uncanceleable events')}function
dispatchEvent(element,event){return element.dispatchEvent?Boolean(element.dispatchEvent(event)):(element.fireEvent('ondataavailable',event),Boolean(event.returnValue))}function
addEventListener(element,type,handler,useCapture){var tameType,wrapper;return type=String(type),tameType=tameEventType(type,false,element.tagName),featureAttachEvent?type!==tameType?(wrapper=eventHandlerTypeFilter(handler,tameType),element.attachEvent('ondataavailable',wrapper),wrapper):(element.attachEvent('on'+type,handler),handler):(element.addEventListener(tameType,handler,useCapture),handler)}function
removeEventListener(element,type,handler,useCapture){var tameType;type=String(type),tameType=tameEventType(type,false,element.tagName),featureAttachEvent?tameType!==type?element.detachEvent('ondataavailable',handler):element.detachEvent('on'+type,handler):element.removeEventListener(tameType,handler,useCapture)}function
cloneNode(node,deep){var clone;return document.all?(clone=constructClone(node,deep)):(clone=node.cloneNode(deep)),fixupClone(node,clone),clone}function
initCanvasElements(doc){var els=doc.getElementsByTagName('canvas'),i;for(i=0;i<els.length;++i)initCanvasElement(els[i])}function
initCanvasElement(el){window.G_vmlCanvasManager&&window.G_vmlCanvasManager.initElement(el)}function
createElement(tagName,attribs){var el,i,n,tag;if(featureExtendedCreateElement){tag=['<',tagName];for(i=0,n=attribs.length;i<n;i+=2)tag.push(' ',attribs[i],'=\"',escapeAttrib(attribs[i+1]),'\"');return tag.push('>'),document.createElement(tag.join(''))}el=document.createElement(tagName);for(i=0,n=attribs.length;i<n;i+=2)setAttribute(el,attribs[i],attribs[i+1]);return el}function
createStylesheet(document,cssText){var styleSheet=document.createElement('style');return styleSheet.setAttribute('type','text/css'),styleSheet.styleSheet?(styleSheet.styleSheet.cssText=cssText):styleSheet.appendChild(document.createTextNode(cssText)),styleSheet}function
setAttribute(element,name,value){var attr;switch(name){case'style':return element.style.cssText=value,value;case'href':/^javascript:/i.test(value)?(element.stored_target___=element.target,element.target=''):element.stored_target___&&(element.target=element.stored_target___,delete
element.stored_target___);break;case'target':if(element.href&&/^javascript:/i.test(element.href))return element.stored_target___=value,value}try{attr=element.ownerDocument.createAttribute(name),attr.value=value,element.setAttributeNode(attr)}catch(e){return element.setAttribute(name,value,0)}return value}function
getBoundingClientRect(el){var doc=el.ownerDocument,cRect,elBoxObject,fixupLeft,fixupTop,left,op,opPosition,pageX,pageY,scrollEl,top,viewPortBoxObject,viewport;if(el.getBoundingClientRect)return cRect=el.getBoundingClientRect(),isIE&&(fixupLeft=doc.documentElement.clientLeft+doc.body.clientLeft,cRect.left-=fixupLeft,cRect.right-=fixupLeft,fixupTop=doc.documentElement.clientTop+doc.body.clientTop,cRect.top-=fixupTop,cRect.bottom-=fixupTop),{'top':+cRect.top,'left':+cRect.left,'right':+cRect.right,'bottom':+cRect.bottom};viewport=isIE&&doc.compatMode==='CSS1Compat'?doc.body:doc.documentElement,pageX=0,pageY=0;if(el===viewport);else
if(doc.getBoxObjectFor)elBoxObject=doc.getBoxObjectFor(el),viewPortBoxObject=doc.getBoxObjectFor(viewport),pageX=elBoxObject.screenX-viewPortBoxObject.screenX,pageY=elBoxObject.screenY-viewPortBoxObject.screenY;else{for(op=el;op&&op!==el;op=op.offsetParent){pageX+=op.offsetLeft,pageY+=op.offsetTop,op!==el&&(pageX+=op.clientLeft||0,pageY+=op.clientTop||0);if(isWebkit){opPosition=doc.defaultView.getComputedStyle(op,'position'),opPosition==='fixed'&&(pageX+=doc.body.scrollLeft,pageY+=doc.body.scrollTop);break}}(isWebkit&&doc.defaultView.getComputedStyle(el,'position')==='absolute'||isOpera)&&(pageY-=doc.body.offsetTop);for(op=el;(op=op.offsetParent)&&op!==doc.body;)pageX-=op.scrollLeft,(!isOpera||op.tagName!=='TR')&&(pageY-=op.scrollTop)}return scrollEl=!isWebkit&&doc.compatMode==='CSS1Compat'?doc.documentElement:doc.body,left=pageX-scrollEl.scrollLeft,top=pageY-scrollEl.scrollTop,{'top':top,'left':left,'right':left+el.clientWidth,'bottom':top+el.clientHeight}}function
getAttribute(element,name){var attr;if(name==='style'){if(typeof element.style.cssText==='string')return element.style.cssText};return attr=element.getAttributeNode(name),attr&&attr.specified?attr.value:null}function
hasAttribute(element,name){var attr;return element.hasAttribute?element.hasAttribute(name):(attr=element.getAttributeNode(name),attr!==null&&attr.specified)}function
getComputedStyle(element,pseudoElement){if(element.currentStyle&&pseudoElement===void
0)return element.currentStyle;else if(window.top.getComputedStyle)return window.top.getComputedStyle(element,pseudoElement);throw new
Error('Computed style not available for pseudo element '+pseudoElement)}function
makeXhr(){var activeXClassIds,candidate,i,n;if(typeof XMLHttpRequest==='undefined'){activeXClassIds=['MSXML2.XMLHTTP.5.0','MSXML2.XMLHTTP.4.0','MSXML2.XMLHTTP.3.0','MSXML2.XMLHTTP','MICROSOFT.XMLHTTP.1.0','MICROSOFT.XMLHTTP.1','MICROSOFT.XMLHTTP'];for(i=0,n=activeXClassIds.length;i<n;++i){candidate=activeXClassIds[i];try{return new
ActiveXObject(candidate)}catch(e){}}}return new XMLHttpRequest}return{'addEventListener':addEventListener,'removeEventListener':removeEventListener,'initEvent':initEvent,'dispatchEvent':dispatchEvent,'cloneNode':cloneNode,'createElement':createElement,'createStylesheet':createStylesheet,'setAttribute':setAttribute,'getAttribute':getAttribute,'hasAttribute':hasAttribute,'getBoundingClientRect':getBoundingClientRect,'getWindow':getWindow,'untameEventType':untameEventType,'extendedCreateElementFeature':featureExtendedCreateElement,'getComputedStyle':getComputedStyle,'makeXhr':makeXhr,'initCanvasElement':initCanvasElement,'initCanvasElements':initCanvasElements}},bridal=bridalMaker(document),cssparser=(function(){var
ucaseLetter=/[A-Z]/g,BS,COMMENT,DQ,ESCAPE,HASH,HEX,IDENT,IDENT_RE,KEYWORD,LCASE,NAME,NEWLINE,NMCHAR,NMSTART,NON_ASCII,NON_HEX_ESC_RE,NUM,PROP_DECLS_TOKENS,PUNC,QUANTITY,SPACE,SPACE_RE,STRING,STRING1,STRING2,UNICODE,UNIT,URL,URL_CHARS,URL_RE,URL_SPECIAL_CHARS,WHITESPACE,unicodeEscape;function
lcaseOne(ch){return String.fromCharCode(ch.charCodeAt(0)|32)}LCASE='i'==='I'.toLowerCase()?function(s){return s.toLowerCase()}:function(s){return s.replace(ucaseLetter,lcaseOne)},KEYWORD='(?:\\@(?:import|page|media|charset))',NEWLINE='\\n|\\r\\n|\\r|\\f',HEX='[0-9a-f]',NON_ASCII='[^\\0-\\177]',UNICODE='(?:(?:\\\\'+HEX+'{1,6})(?:\\r\\n|[ 	\\r\\n\\f])?)',ESCAPE='(?:'+UNICODE+'|\\\\[^\\r\\n\\f0-9a-f])',NMSTART='(?:[_a-z]|'+NON_ASCII+'|'+ESCAPE+')',NMCHAR='(?:[_a-z0-9-]|'+NON_ASCII+'|'+ESCAPE+')',IDENT='-?'+NMSTART+NMCHAR+'*',NAME=NMCHAR+'+',HASH='#'+NAME,STRING1='\"(?:[^\\\"\\\\]|\\\\[\\s\\S])*\"',STRING2='\'(?:[^\\\'\\\\]|\\\\[\\s\\S])*\'',STRING='(?:'+STRING1+'|'+STRING2+')',NUM='(?:[0-9]*\\.[0-9]+|[0-9]+)',SPACE='[ \\t\\r\\n\\f]',WHITESPACE=SPACE+'*',URL_SPECIAL_CHARS='[!#$%&*-~]',URL_CHARS='(?:'+URL_SPECIAL_CHARS+'|'+NON_ASCII+'|'+ESCAPE+')*',URL='url\\('+WHITESPACE+'(?:'+STRING+'|'+URL_CHARS+')'+WHITESPACE+'\\)',COMMENT='/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/',UNIT='(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)',QUANTITY=NUM+'(?:'+WHITESPACE+UNIT+'|'+IDENT+')?',PUNC='<!--|-->|~=|[|=\\{\\+>,:;()]',PROP_DECLS_TOKENS=new
RegExp('(?:'+[STRING,COMMENT,QUANTITY,URL,NAME,HASH,IDENT,SPACE+'+',PUNC].join('|')+')','gi'),IDENT_RE=new
RegExp('^(?:'+IDENT+')$','i'),URL_RE=new RegExp('^(?:'+URL+')$','i'),NON_HEX_ESC_RE=/\\(?:\r\n?|[^0-9A-Fa-f\r]|$)/g,SPACE_RE=new
RegExp(SPACE+'+','g'),BS=/\\/g,DQ=/"/g;function normEscs(x){var out='',i,n;for(i=1,n=x.length;i<n;++i)out+='\\'+x.charCodeAt(i).toString(16)+' ';return out}function
toCssStr(s){return'\"'+s.replace(BS,'\\5c ').replace(DQ,'\\22 ')+'\"'}function parse(cssText,handler){var
toks=(''+cssText).match(PROP_DECLS_TOKENS),buf,i,k,n,propName,tok,url;if(!toks)return;propName=null,buf=[],k=0;for(i=0,n=toks.length;i<n;++i){tok=toks[i];switch(tok.charCodeAt(0)){case
9:case 10:case 12:case 13:case 32:continue;case 39:tok='\"'+tok.substring(1,tok.length-1).replace(DQ,'\\22 ')+'\"';case
34:tok=tok.replace(NON_HEX_ESC_RE,normEscs);break;case 47:if('*'===tok.charAt(1))continue;break;case
46:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:tok=tok.replace(SPACE_RE,'');break;case
58:k===1&&IDENT_RE.test(buf[0])?(propName=LCASE(buf[0])):(propName=null),k=buf.length=0;continue;case
59:propName&&(buf.length&&handler(propName,buf.slice(0)),propName=null),k=buf.length=0;continue;case
85:case 117:url=toUrl(tok),url!==null&&(tok='url('+toCssStr(url)+')')}buf[k++]=tok}propName&&buf.length&&handler(propName,buf.slice(0))}unicodeEscape=/\\(?:([0-9a-fA-F]{1,6})(?:\r\n?|[ \t\f\n])?|[^\r\n\f0-9a-f])/g;function
decodeOne(_,hex){return hex?String.fromCharCode(parseInt(hex,16)):_.charAt(1)}function
toUrl(cssToken){if(!URL_RE.test(cssToken))return null;cssToken=cssToken.replace(/^url[\s\(]+|[\s\)]+$/gi,'');switch(cssToken.charAt(0)){case'\"':case'\'':cssToken=cssToken.substring(1,cssToken.length-1)}return cssToken.replace(unicodeEscape,decodeOne)}return{'parse':parse,'toUrl':toUrl,'toCssStr':toCssStr}})(),domitaModules||(domitaModules={}),domitaModules.classUtils=function(){function
getterSetterSuffix(name){return String.fromCharCode(name.charCodeAt(0)&-33)+name.substring(1)+'___'}function
exportFields(object,fields){var count,field,getterName,i,setterName,suffix;for(i=fields.length;--i>=0;){field=fields[i],suffix=getterSetterSuffix(field),getterName='get'+suffix,setterName='set'+suffix,count=0,object[getterName]&&(++count,___.useGetHandler(object,field,object[getterName])),object[setterName]&&(++count,___.useSetHandler(object,field,object[setterName]));if(!count)throw new
Error('Failed to export field '+field+' on '+object)}}function applyAccessors(object,handlers){function
propertyOnlyHasGetter(_){throw new TypeError('setting a property that only has a getter')}___.forOwnKeys(handlers,___.markFuncFreeze(function(propertyName,def){var
setter=def.set||propertyOnlyHasGetter;___.useGetHandler(object,propertyName,def.get),___.useSetHandler(object,propertyName,setter)}))}function
hasGetHandler(object,propertyName){return!!object[propertyName+'_g___']}function
hasSetHandler(object,propertyName){return!!object[propertyName+'_s___']}function
ensureValidCallback(aCallback){if(typeof aCallback==='function'&&aCallback.i___)return;throw new
Error('Expected valid guest function not '+typeof aCallback)}return{'exportFields':exportFields,'ensureValidCallback':ensureValidCallback,'applyAccessors':applyAccessors,'getterSetterSuffix':getterSetterSuffix,'hasGetHandler':hasGetHandler,'hasSetHandler':hasSetHandler}},domitaModules.XMLHttpRequestCtor=function(XMLHttpRequest,ActiveXObject){var
activeXClassId;if(XMLHttpRequest)return XMLHttpRequest;else if(ActiveXObject)return function
ActiveXObjectForIE(){var activeXClassIds,candidate,i,n;if(activeXClassId===void 0){activeXClassId=null,activeXClassIds=['MSXML2.XMLHTTP.5.0','MSXML2.XMLHTTP.4.0','MSXML2.XMLHTTP.3.0','MSXML2.XMLHTTP','MICROSOFT.XMLHTTP.1.0','MICROSOFT.XMLHTTP.1','MICROSOFT.XMLHTTP'];for(i=0,n=activeXClassIds.length;i<n;++i){candidate=activeXClassIds[i];try{new
ActiveXObject(candidate),activeXClassId=candidate;break}catch(e){}}activeXClassIds=null}return new
ActiveXObject(activeXClassId)};throw new Error('ActiveXObject not available')},domitaModules.TameXMLHttpRequest=function(xmlHttpRequestMaker,uriCallback){var
classUtils=domitaModules.classUtils(),FROZEN,INVALID_SUFFIX,endsWith__;function TameXMLHttpRequest(){this.xhr___=this.FERAL_TWIN___=new
xmlHttpRequestMaker,this.FERAL_TWIN___.TAMED_TWIN___=this,classUtils.exportFields(this,['onreadystatechange','readyState','responseText','responseXML','status','statusText'])}return FROZEN='Object is frozen.',INVALID_SUFFIX='Property names may not end in \'__\'.',endsWith__=/__$/,TameXMLHttpRequest.prototype.handleRead___=function(name){var
handlerName;return name=''+name,endsWith__.test(name)?void 0:(handlerName=name+'_getter___',this[handlerName]?this[handlerName]():___.hasOwnProp(this.xhr___.properties___,name)?this.xhr___.properties___[name]:void
0)},TameXMLHttpRequest.prototype.handleCall___=function(name,args){var handlerName;name=''+name;if(endsWith__.test(name))throw new
Error(INVALID_SUFFIX);handlerName=name+'_handler___';if(this[handlerName])return this[handlerName].call(this,args);if(___.hasOwnProp(this.xhr___.properties___,name))return this.xhr___.properties___[name].call(this,args);throw new
TypeError(name+' is not a function.')},TameXMLHttpRequest.prototype.handleSet___=function(name,val){var
handlerName;name=''+name;if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);if(Object.isFrozen(this))throw new
Error(FROZEN);return handlerName=name+'_setter___',this[handlerName]?this[handlerName](val):(this.xhr___.properties___||(this.xhr___.properties___={}),this[name+'_c___']=this,this[name+'_v___']=false,this[name+'_e___']=this,this.xhr___.properties___[name]=val)},TameXMLHttpRequest.prototype.handleDelete___=function(name){var
handlerName;name=''+name;if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);if(Object.isFrozen(this))throw new
Error(FROZEN);return handlerName=name+'_deleter___',this[handlerName]?this[handlerName]():this.xhr___.properties___?delete
this.xhr___.properties___[name]&&delete this[name+'_c___']&&delete this[name+'_e___']&&delete
this[name+'_v___']:true},TameXMLHttpRequest.prototype.setOnreadystatechange___=function(handler){var
self=this;this.xhr___.onreadystatechange=function(event){var evt={};return evt.DefineOwnProperty___('target',{'value':self,'writable':true,'enumerable':true,'configurable':true}),___.callPub(handler,'call',[void
0,evt])},this.handler___=handler},TameXMLHttpRequest.prototype.getReadyState___=function(){return Number(this.xhr___.readyState)},TameXMLHttpRequest.prototype.open=function(method,URL,opt_async,opt_userName,opt_password){var
safeUri;method=String(method),safeUri=uriCallback.rewrite(String(URL),html4.ueffects.SAME_DOCUMENT,html4.ltypes.SANDBOXED);if('string'!==typeof
safeUri)throw'URI violates security policy';switch(arguments.length){case 2:this.async___=true,this.xhr___.open(method,safeUri);break;case
3:this.async___=opt_async,this.xhr___.open(method,safeUri,Boolean(opt_async));break;case
4:this.async___=opt_async,this.xhr___.open(method,safeUri,Boolean(opt_async),String(opt_userName));break;case
5:this.async___=opt_async,this.xhr___.open(method,safeUri,Boolean(opt_async),String(opt_userName),String(opt_password));break;default:throw'XMLHttpRequest cannot accept '+arguments.length+' arguments'}},TameXMLHttpRequest.prototype.setRequestHeader=function(label,value){this.xhr___.setRequestHeader(String(label),String(value))},TameXMLHttpRequest.prototype.send=function(opt_data){var
evt;arguments.length===0?this.xhr___.send(''):typeof opt_data==='string'?this.xhr___.send(opt_data):this.xhr___.send(''),this.xhr___.overrideMimeType&&(!this.async___&&this.handler___&&(evt={'target':this},___.callPub(this.handler___,'call',[void
0,evt])))},TameXMLHttpRequest.prototype.abort=function(){this.xhr___.abort()},TameXMLHttpRequest.prototype.getAllResponseHeaders=function(){var
result=this.xhr___.getAllResponseHeaders();return result===undefined||result===null?result:String(result)},TameXMLHttpRequest.prototype.getResponseHeader=function(headerName){var
result=this.xhr___.getResponseHeader(String(headerName));return result===undefined||result===null?result:String(result)},TameXMLHttpRequest.prototype.getResponseText___=function(){var
result=this.xhr___.responseText;return result===undefined||result===null?result:String(result)},TameXMLHttpRequest.prototype.getResponseXML___=function(){return{}},TameXMLHttpRequest.prototype.getStatus___=function(){var
result=this.xhr___.status;return result===undefined||result===null?result:Number(result)},TameXMLHttpRequest.prototype.getStatusText___=function(){var
result=this.xhr___.statusText;return result===undefined||result===null?result:String(result)},TameXMLHttpRequest.prototype.toString=___.markFuncFreeze(function(){return'Not a real XMLHttpRequest'}),___.markCtor(TameXMLHttpRequest,Object,'TameXMLHttpRequest'),___.all2(___.grantTypedMethod,TameXMLHttpRequest.prototype,['open','setRequestHeader','send','abort','getAllResponseHeaders','getResponseHeader']),TameXMLHttpRequest},domitaModules.CssPropertiesCollection=function(cssPropertyNameCollection,anElement,css){var
canonicalStylePropertyNames={},cssPropertyNames={};return ___.forOwnKeys(cssPropertyNameCollection,___.markFuncFreeze(function(cssPropertyName){var
baseStylePropertyName=cssPropertyName.replace(/-([a-z])/g,function(_,letter){return letter.toUpperCase()}),canonStylePropertyName=baseStylePropertyName,alts,i;cssPropertyNames[baseStylePropertyName]=cssPropertyNames[canonStylePropertyName]=cssPropertyName;if(css.alternates.hasOwnProperty(canonStylePropertyName)){alts=css.alternates[canonStylePropertyName];for(i=alts.length;--i>=0;)cssPropertyNames[alts[i]]=cssPropertyName,alts[i]in
anElement.style&&!(canonStylePropertyName in anElement.style)&&(canonStylePropertyName=alts[i])}canonicalStylePropertyNames[cssPropertyName]=canonStylePropertyName})),{'isCanonicalProp':function(p){return cssPropertyNames.hasOwnProperty(p)},'isCssProp':function(p){return canonicalStylePropertyNames.hasOwnProperty(p)},'getCanonicalPropFromCss':function(p){return canonicalStylePropertyNames[p]},'getCssPropFromCanonical':function(p){return cssPropertyNames[p]}}},attachDocumentStub=(function(){var
FORBIDDEN_ID_LIST_PATTERN,FORBIDDEN_ID_PATTERN,IntervalIdMark,IntervalIdT,JS_IDENT,JS_SPACE,SIMPLE_HANDLER_PATTERN,TameEventMark,TameEventT,TameGradientMark,TameGradientT,TameImageDataMark,TameImageDataT,TameNodeMark,TameNodeT,TimeoutIdMark,TimeoutIdT,VALID_ID_CHAR,VALID_ID_LIST_PATTERN,VALID_ID_PATTERN,XML_SPACE,classUtils,cssSealerUnsealerPair;function
arrayRemove(array,from,to){var rest=array.slice((to||from)+1||array.length);return array.length=from<0?array.length+from:from,array.push.apply(array,rest)}TameNodeMark=___.Trademark('TameNode'),TameNodeT=TameNodeMark.guard,TameEventMark=___.Trademark('TameEvent'),TameEventT=TameEventMark.guard,TameImageDataMark=___.Trademark('TameImageData'),TameImageDataT=TameImageDataMark.guard,TameGradientMark=___.Trademark('TameGradient'),TameGradientT=TameGradientMark.guard;function
Html(htmlFragment){this.html___=String(htmlFragment||'')}Html.prototype.valueOf=Html.prototype.toString=___.markFuncFreeze(function(){return this.html___});function
safeHtml(htmlFragment){return htmlFragment instanceof Html?htmlFragment.html___:html.escapeAttrib(String(htmlFragment||''))}function
blessHtml(htmlFragment){return htmlFragment instanceof Html?htmlFragment:new Html(htmlFragment)}XML_SPACE='	\n\r ',JS_SPACE='	\n\r ',JS_IDENT='(?:[a-zA-Z_][a-zA-Z0-9$_]*[a-zA-Z0-9$]|[a-zA-Z])_?',SIMPLE_HANDLER_PATTERN=new
RegExp('^['+JS_SPACE+']*'+'(return['+JS_SPACE+']+)?'+'('+JS_IDENT+')['+JS_SPACE+']*'+'\\((?:this'+'(?:['+JS_SPACE+']*,['+JS_SPACE+']*event)?'+'['+JS_SPACE+']*)?\\)'+'['+JS_SPACE+']*(?:;?['+JS_SPACE+']*)$'),VALID_ID_CHAR=unicode.LETTER+unicode.DIGIT+'_'+'$\\-.:;=()\\[\\]'+unicode.COMBINING_CHAR+unicode.EXTENDER,VALID_ID_PATTERN=new
RegExp('^['+VALID_ID_CHAR+']+$'),VALID_ID_LIST_PATTERN=new RegExp('^['+XML_SPACE+VALID_ID_CHAR+']*$'),FORBIDDEN_ID_PATTERN=new
RegExp('__\\s*$'),FORBIDDEN_ID_LIST_PATTERN=new RegExp('__(?:\\s|$)');function isValidId(s){return!FORBIDDEN_ID_PATTERN.test(s)&&VALID_ID_PATTERN.test(s)}function
isValidIdList(s){return!FORBIDDEN_ID_LIST_PATTERN.test(s)&&VALID_ID_LIST_PATTERN.test(s)}function
trimCssSpaces(input){return input.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,'')}function
decodeCssString(s){return s.replace(/\\(?:(\r\n?|\n|\f)|([0-9a-f]{1,6})(?:\r\n?|[ \t\n\f])?|(.))/gi,function(_,nl,hex,esc){return esc||(nl?'':String.fromCharCode(parseInt(hex,16)))})}function
sanitizeStyleAttrValue(styleAttrValue){var sanitizedDeclarations=[];return cssparser.parse(String(styleAttrValue),function(property,value){property=property.toLowerCase(),css.properties.hasOwnProperty(property)&&css.properties[property].test(value+'')&&sanitizedDeclarations.push(property+': '+value)}),sanitizedDeclarations.join(' ; ')}function
mimeTypeForAttr(tagName,attribName){if(attribName==='src'){if(tagName==='img')return'image/*';if(tagName==='script')return'text/javascript'}return'*/*'}function
assert(cond){if(!cond)throw typeof console!=='undefined'&&(console.error('domita assertion failed'),console.trace()),new
Error('Domita assertion failed')}classUtils=domitaModules.classUtils(),cssSealerUnsealerPair=___.makeSealerUnsealerPair(),TimeoutIdMark=___.Trademark('TimeoutId'),TimeoutIdT=TimeoutIdMark.guard;function
tameSetTimeout(timeout,delayMillis){var timeoutId;if(timeout){if(typeof timeout==='string')throw new
Error('setTimeout called with a string.  Please pass a function instead of a string of javascript');timeoutId=setTimeout(function(){___.callPub(timeout,'call',[___.USELESS])},delayMillis|0)}else
timeoutId=NaN;return ___.stamp([TimeoutIdMark.stamp],{'timeoutId___':timeoutId})}___.markFuncFreeze(tameSetTimeout);function
tameClearTimeout(timeoutId){var rawTimeoutId;if(timeoutId===null||timeoutId===void
0)return;try{timeoutId=TimeoutIdT.coerce(timeoutId)}catch(e){return}rawTimeoutId=timeoutId.timeoutId___,rawTimeoutId===rawTimeoutId&&clearTimeout(rawTimeoutId)}___.markFuncFreeze(tameClearTimeout),IntervalIdMark=___.Trademark('IntervalId'),IntervalIdT=IntervalIdMark.guard;function
tameSetInterval(interval,delayMillis){var intervalId;if(interval){if(typeof interval==='string')throw new
Error('setInterval called with a string.  Please pass a function instead of a string of javascript');intervalId=setInterval(function(){___.callPub(interval,'call',[___.USELESS])},delayMillis|0)}else
intervalId=NaN;return ___.stamp([IntervalIdMark.stamp],{'intervalId___':intervalId})}___.markFuncFreeze(tameSetInterval);function
tameClearInterval(intervalId){var rawIntervalId;if(intervalId===null||intervalId===void
0)return;try{intervalId=IntervalIdT.coerce(intervalId)}catch(e){return}rawIntervalId=intervalId.intervalId___,rawIntervalId===rawIntervalId&&clearInterval(rawIntervalId)}___.markFuncFreeze(tameClearInterval);function
makeScrollable(element){var window=bridal.getWindow(element),overflow=null;element.currentStyle?(overflow=element.currentStyle.overflow):window.getComputedStyle?(overflow=window.getComputedStyle(element,void
0).overflow):(overflow=null);switch(overflow&&overflow.toLowerCase()){case'visible':case'hidden':element.style.overflow='auto'}}function
tameScrollTo(element,x,y){if(x!==+x||y!==+y||x<0||y<0)throw new Error('Cannot scroll to '+x+':'+typeof
x+','+y+' : '+typeof y);element.scrollLeft=x,element.scrollTop=y}function tameScrollBy(element,dx,dy){if(dx!==+dx||dy!==+dy)throw new
Error('Cannot scroll by '+dx+':'+typeof dx+', '+dy+':'+typeof dy);element.scrollLeft+=dx,element.scrollTop+=dy}function
guessPixelsFromCss(cssStr){var m;return cssStr?(m=cssStr.match(/^([0-9]+)/),m?+m[1]:0):0}function
tameResizeTo(element,w,h){if(w!==+w||h!==+h)throw new Error('Cannot resize to '+w+':'+typeof
w+', '+h+':'+typeof h);element.style.width=w+'px',element.style.height=h+'px'}function
tameResizeBy(element,dw,dh){var extraHeight,extraWidth,goalHeight,goalWidth,h,hError,style,w,wError;if(dw!==+dw||dh!==+dh)throw new
Error('Cannot resize by '+dw+':'+typeof dw+', '+dh+':'+typeof dh);if(!dw&&!dh)return;style=element.currentStyle,style||(style=bridal.getWindow(element).getComputedStyle(element,void
0)),extraHeight=guessPixelsFromCss(style.paddingBottom)+guessPixelsFromCss(style.paddingTop),extraWidth=guessPixelsFromCss(style.paddingLeft)+guessPixelsFromCss(style.paddingRight),goalHeight=element.clientHeight+dh,goalWidth=element.clientWidth+dw,h=goalHeight-extraHeight,w=goalWidth-extraWidth,dh&&(element.style.height=Math.max(0,h)+'px'),dw&&(element.style.width=Math.max(0,w)+'px'),dh&&element.clientHeight!==goalHeight&&(hError=element.clientHeight-goalHeight,element.style.height=Math.max(0,h-hError)+'px'),dw&&element.clientWidth!==goalWidth&&(wError=element.clientWidth-goalWidth,element.style.width=Math.max(0,w-wError)+'px')}function
attachDocumentStub(idSuffix,uriCallback,imports,pseudoBodyNode,optPseudoWindowLocation){var
pluginId=___.getId(imports),document=pseudoBodyNode.ownerDocument,bridal=bridalMaker(document),window=bridal.getWindow(pseudoBodyNode),ID_LIST_PARTS_PATTERN,INDEX_SIZE_ERROR,INVALID_SUFFIX,NOT_EDITABLE,PSEUDO_ELEMENT_WHITELIST,TameCanvasElement,UNKNOWN_TAGNAME,UNSAFE_TAGNAME,allCssProperties,commonElementPropertyHandlers,defaultNodeClassCtor,defaultNodeClasses,editableTameNodeCache,elementPolicies,endsWith__,historyInsensitiveCssProperties,htmlSanitizer,i,idClass,idClassPattern,innerHtmlTamer,k,nodeClasses,outers,prop,readOnlyTameNodeCache,tameDefaultView,tameDocument,tameLocation,tameNavigator,tameNodeFields,tameNodePublicMembers,tameWindow,windowProps,wpLen;if(arguments.length<4)throw new
Error('arity mismatch: '+arguments.length);optPseudoWindowLocation||(optPseudoWindowLocation={}),elementPolicies={},elementPolicies.form=function(attribs){var
sawHandler=false,i,n;for(i=0,n=attribs.length;i<n;i+=2)attribs[i]==='onsubmit'&&(sawHandler=true);return sawHandler||attribs.push('onsubmit','return false'),attribs},elementPolicies.a=elementPolicies.area=function(attribs){return attribs.push('target','_blank'),attribs},bridal.initCanvasElements(pseudoBodyNode);function
sanitizeHtml(htmlText){var out=[];return htmlSanitizer(htmlText,out),out.join('')}function
sanitizeAttrs(tagName,attribs){var n=attribs.length,attribKey,attribName,atype,i,policy,value;for(i=0;i<n;i+=2)attribName=attribs[i],value=attribs[i+1],atype=null,(attribKey=tagName+'::'+attribName,html4.ATTRIBS.hasOwnProperty(attribKey))||(attribKey='*::'+attribName,html4.ATTRIBS.hasOwnProperty(attribKey))?(atype=html4.ATTRIBS[attribKey],value=rewriteAttribute(tagName,attribName,atype,value)):(value=null),value!==null&&value!==void
0?(attribs[i+1]=value):(attribs[i+1]=attribs[--n],attribs[i]=attribs[--n],i-=2);return attribs.length=n,policy=elementPolicies[tagName],policy&&elementPolicies.hasOwnProperty(tagName)?policy(attribs):attribs}htmlSanitizer=html.makeHtmlSanitizer(sanitizeAttrs);function
unsuffix(str,suffix,fail){var n;return typeof str!=='string'?fail:(n=str.length-suffix.length,0<n&&str.substring(n)===suffix?str.substring(0,n):fail)}ID_LIST_PARTS_PATTERN=new
RegExp('([^'+XML_SPACE+']+)(['+XML_SPACE+']+|$)','g');function virtualizeAttributeValue(attrType,realValue){realValue=String(realValue);switch(attrType){case
html4.atype.GLOBAL_NAME:case html4.atype.ID:case html4.atype.IDREF:return unsuffix(realValue,idSuffix,null);case
html4.atype.IDREFS:return realValue.replace(ID_LIST_PARTS_PATTERN,function(_,id,spaces){return unsuffix(id,idSuffix,'')+(spaces?' ':'')});case
html4.atype.URI_FRAGMENT:if(realValue&&'#'===realValue.charAt(0)){realValue=unsuffix(realValue.substring(1),idSuffix,null);return realValue?'#'+realValue:null}else{return null}default:return realValue}}function
tameInnerHtml(htmlText){var out=[];return innerHtmlTamer(htmlText,out),out.join('')}innerHtmlTamer=html.makeSaxParser({'startTag':function(tagName,attribs,out){var
aname,atype,i,value;out.push('<',tagName);for(i=0;i<attribs.length;i+=2)aname=attribs[i],atype=getAttributeType(tagName,aname),value=attribs[i+1],aname!=='target'&&atype!==void
0&&(value=virtualizeAttributeValue(atype,value),typeof value==='string'&&out.push(' ',aname,'=\"',html.escapeAttrib(value),'\"'));out.push('>')},'endTag':function(name,out){out.push('</',name,'>')},'pcdata':function(text,out){out.push(text)},'rcdata':function(text,out){out.push(text)},'cdata':function(text,out){out.push(text)}});function
rewriteAttribute(tagName,attribName,type,value){var css,cssPropertiesAndValues,doesReturn,fnName,i,match,propName,propValue,semi;switch(type){case
html4.atype.NONE:return String(value);case html4.atype.CLASSES:return value=String(value),FORBIDDEN_ID_LIST_PATTERN.test(value)?null:value;case
html4.atype.GLOBAL_NAME:case html4.atype.ID:case html4.atype.IDREF:return value=String(value),value&&isValidId(value)?value+idSuffix:null;case
html4.atype.IDREFS:return value=String(value),value&&isValidIdList(value)?value.replace(ID_LIST_PARTS_PATTERN,function(_,id,spaces){return id+idSuffix+(spaces?' ':'')}):null;case
html4.atype.LOCAL_NAME:return value=String(value),value&&isValidId(value)?value:null;case
html4.atype.SCRIPT:return value=String(value),match=value.match(SIMPLE_HANDLER_PATTERN),match?(doesReturn=match[1],fnName=match[2],value=(doesReturn?'return ':'')+'plugin_dispatchEvent___('+'this, event, '+pluginId+', \"'+fnName+'\");',attribName==='onsubmit'&&(value='try { '+value+' } finally { return false; }'),value):null;case
html4.atype.URI:return value=String(value),uriCallback?uriCallback.rewrite(value,getUriEffect(tagName,attribName),getLoaderType(tagName,attribName),{'XML_ATTR':attribName})||null:null;case
html4.atype.URI_FRAGMENT:return value=String(value),value.charAt(0)==='#'&&isValidId(value.substring(1))?value+idSuffix:null;case
html4.atype.STYLE:if('function'!==typeof value)return sanitizeStyleAttrValue(String(value));cssPropertiesAndValues=cssSealerUnsealerPair.unseal(value);if(!cssPropertiesAndValues)return null;css=[];for(i=0;i<cssPropertiesAndValues.length;i+=2)propName=cssPropertiesAndValues[i],propValue=cssPropertiesAndValues[i+1],semi=propName.indexOf(';'),semi>=0&&(propName=propName.substring(0,semi)),css.push(propName+' : '+propValue);return css.join(' ; ');case
html4.atype.FRAME_TARGET:default:return null}}function makeCache(){var cache=___.newTable(false);return cache.set(null,null),cache.set(void
0,null),cache}editableTameNodeCache=makeCache(),readOnlyTameNodeCache=makeCache();function
defaultTameNode(node,editable){var cache,tagName,tamed;if(node===null||node===void
0)return null;cache=editable?editableTameNodeCache:readOnlyTameNodeCache,tamed=cache.get(node);if(tamed!==void
0)return tamed;switch(node.nodeType){case 1:tagName=node.tagName.toLowerCase();switch(tagName){case'a':tamed=new
TameAElement(node,editable);break;case'canvas':tamed=new TameCanvasElement(node,editable);break;case'form':tamed=new
TameFormElement(node,editable);break;case'select':case'button':case'option':case'textarea':case'input':tamed=new
TameInputElement(node,editable);break;case'iframe':tamed=new TameIFrameElement(node,editable);break;case'img':tamed=new
TameImageElement(node,editable);break;case'label':tamed=new TameLabelElement(node,editable);break;case'script':tamed=new
TameScriptElement(node,editable);break;case'td':case'thead':case'tfoot':case'tbody':case'th':tamed=new
TameTableCompElement(node,editable);break;case'tr':tamed=new TameTableRowElement(node,editable);break;case'table':tamed=new
TameTableElement(node,editable);break;default:!html4.ELEMENTS.hasOwnProperty(tagName)||html4.ELEMENTS[tagName]&html4.eflags.UNSAFE?(tamed=new
TameOpaqueNode(node,editable)):(tamed=new TameElement(node,editable,editable))}break;case
2:throw'Internal: Attr nodes cannot be generically wrapped';case 3:case 4:tamed=new
TameTextNode(node,editable);break;case 8:tamed=new TameCommentNode(node,editable);break;case
11:tamed=new TameBackedNode(node,editable,editable);break;default:tamed=new TameOpaqueNode(node,editable)}return node.nodeType===1&&cache.set(node,tamed),tamed}function
tameRelatedNode(node,editable,tameNodeCtor){var ancestor,docElem;if(node===null||node===void
0)return null;if(node===tameDocument.body___){if(tameDocument.editable___&&!editable)throw new
Error(NOT_EDITABLE);return tameDocument.getBody___()}try{docElem=node.ownerDocument.documentElement;for(ancestor=node;ancestor;ancestor=ancestor.parentNode)if(idClassPattern.test(ancestor.className))return tameNodeCtor(node,editable);else
if(ancestor===docElem)return null;return tameNodeCtor(node,editable)}catch(e){}return null}function
getNodeListLength(nodeList){var limit=nodeList.length;return limit!==+limit&&(limit=(1/0)),limit}function
mixinNodeList(tamed,nodeList,editable,opt_tameNodeCtor){var limit=getNodeListLength(nodeList),i;if(limit>0&&!opt_tameNodeCtor)throw'Internal: Nonempty mixinNodeList() without a tameNodeCtor';for(i=0;i<limit&&nodeList[i];++i)tamed[i]=opt_tameNodeCtor(nodeList[i],editable);return nodeList=null,tamed.item=___.markFuncFreeze(function(k){k&=2147483647;if(k!==k)throw new
Error;return tamed[k]||null}),___.grantFunc(tamed,'item'),tamed}function tameNodeList(nodeList,editable,opt_tameNodeCtor){return ___.freeze(mixinNodeList([],nodeList,editable,opt_tameNodeCtor))}function
tameOptionsList(nodeList,editable,opt_tameNodeCtor){var nl=mixinNodeList([],nodeList,editable,opt_tameNodeCtor);return nl.selectedIndex=+nodeList.selectedIndex,___.grantRead(nl,'selectedIndex'),___.freeze(nl)}function
fakeNodeList(array){var f=function(i){return array[i]};return array.item=___.markFuncFreeze(f),___.grantFunc(array,'item'),___.freeze(array)}function
mixinHTMLCollection(tamed,nodeList,editable,opt_tameNodeCtor){var i,name,tameNode,tameNodesByName;mixinNodeList(tamed,nodeList,editable,opt_tameNodeCtor),tameNodesByName={};for(i=0;i<tamed.length&&(tameNode=tamed[i]);++i)name=tameNode.getAttribute('name'),name&&!(name.charAt(name.length-1)==='_'||name
in tamed||name===String(name&2147483647))&&(tameNodesByName[name]||(tameNodesByName[name]=[]),tameNodesByName[name].push(tameNode));return ___.forOwnKeys(tameNodesByName,___.markFuncFreeze(function(name,tameNodes){tameNodes.length>1?(tamed[name]=fakeNodeList(tameNodes)):(tamed[name]=tameNodes[0]),___.grantRead(tamed,name)})),tamed.namedItem=___.markFuncFreeze(function(name){return name=String(name),name.charAt(name.length-1)==='_'?null:___.hasOwnProp(tamed,name)?___.passesGuard(TameNodeT,tamed[name])?tamed[name]:tamed[name][0]:null}),___.grantFunc(tamed,'namedItem'),tamed}function
tameHTMLCollection(nodeList,editable,opt_tameNodeCtor){return ___.freeze(mixinHTMLCollection([],nodeList,editable,opt_tameNodeCtor))}function
tameGetElementsByTagName(rootNode,tagName,editable){tagName=String(tagName);if(tagName!=='*'){tagName=tagName.toLowerCase();if(!___.hasOwnProp(html4.ELEMENTS,tagName)||html4.ELEMENTS[tagName]&html4.ELEMENTS.UNSAFE)return new
fakeNodeList([])}return tameNodeList(rootNode.getElementsByTagName(tagName),editable,defaultTameNode)}function
tameGetElementsByClassName(rootNode,className,editable){var candidate,candidateClass,candidates,classes,classi,i,j,k,limit,matches,nClasses,tamed;className=String(className),classes=className.match(/[^\t\n\f\r ]+/g);for(i=classes?classes.length:0;--i>=0;)classi=classes[i],FORBIDDEN_ID_PATTERN.test(classi)&&(classes[i]=classes[classes.length-1],--classes.length);if(!classes||classes.length===0)return fakeNodeList([]);if(typeof
rootNode.getElementsByClassName==='function')return tameNodeList(rootNode.getElementsByClassName(classes.join(' ')),editable,defaultTameNode);nClasses=classes.length;for(i=nClasses;--i>=0;)classes[i]=' '+classes[i]+' ';candidates=rootNode.getElementsByTagName('*'),matches=[],limit=candidates.length,limit!==+limit&&(limit=(1/0));a:for(j=0,k=-1;j<limit&&(candidate=candidates[j]);++j){candidateClass=' '+candidate.className+' ';for(i=nClasses;--i>=0;)if(-1===candidateClass.indexOf(classes[i]))continue a;tamed=defaultTameNode(candidate,editable),tamed&&(matches[++k]=tamed)}return fakeNodeList(matches)}function
makeEventHandlerWrapper(thisNode,listener){classUtils.ensureValidCallback(listener);function
wrapper(event){return plugin_dispatchEvent___(thisNode,event,___.getId(imports),listener)}return wrapper}NOT_EDITABLE='Node not editable.',INVALID_SUFFIX='Property names may not end in \'__\'.',UNSAFE_TAGNAME='Unsafe tag name.',UNKNOWN_TAGNAME='Unknown tag name.',INDEX_SIZE_ERROR='Index size error.';function
defProperty(ctor,name,useAttrGetter,toValue,useAttrSetter,fromValue){var getterSetterSuffix=classUtils.getterSetterSuffix(name),proto=ctor.prototype;toValue&&(proto['get'+getterSetterSuffix]=useAttrGetter?function(){return toValue.call(this,this.getAttribute(name))}:function(){return toValue.call(this,this.node___[name])}),fromValue&&(proto['set'+getterSetterSuffix]=useAttrSetter?function(value){return this.setAttribute(name,fromValue.call(this,value)),value}:function(value){if(!this.editable___)throw new
Error(NOT_EDITABLE);return this.node___[name]=fromValue.call(this,value),value})}function
defAttributeAlias(ctor,name,toValue,fromValue){defProperty(ctor,name,true,toValue,true,fromValue)}function
tameAddEventListener(name,listener,useCapture){var wrappedListener;if(!this.editable___)throw new
Error(NOT_EDITABLE);this.wrappedListeners___||(this.wrappedListeners___=[]),useCapture=Boolean(useCapture),wrappedListener=makeEventHandlerWrapper(this.node___,listener),wrappedListener=bridal.addEventListener(this.node___,name,wrappedListener,useCapture),wrappedListener.originalListener___=listener,this.wrappedListeners___.push(wrappedListener)}function
tameRemoveEventListener(name,listener,useCapture){var i,wrappedListener;if(!this.editable___)throw new
Error(NOT_EDITABLE);if(!this.wrappedListeners___)return;wrappedListener=null;for(i=this.wrappedListeners___.length;--i>=0;)if(this.wrappedListeners___[i].originalListener___===listener){wrappedListener=this.wrappedListeners___[i],arrayRemove(this.wrappedListeners___,i,i);break}if(!wrappedListener)return;bridal.removeEventListener(this.node___,name,wrappedListener,useCapture)}nodeClasses={};function
inertCtor(tamedCtor,someSuper,name){return nodeClasses[name]=___.extend(tamedCtor,someSuper,name)}tameNodeFields=['nodeType','nodeValue','nodeName','firstChild','lastChild','nextSibling','previousSibling','parentNode','ownerDocument','childNodes','attributes'];function
TameNode(editable){this.editable___=editable,TameNodeMark.stamp.mark___(this),classUtils.exportFields(this,tameNodeFields)}inertCtor(TameNode,Object,'Node'),TameNode.prototype.getOwnerDocument___=function(){if(!this.editable___&&tameDocument.editable___)throw new
Error(NOT_EDITABLE);return tameDocument},tameNodePublicMembers=['cloneNode','appendChild','insertBefore','removeChild','replaceChild','getElementsByClassName','getElementsByTagName','dispatchEvent','hasChildNodes'];function
TameBackedNode(node,editable,childrenEditable){if(!node)throw new Error('Creating tame node with undefined native delegate');this.node___=node,this.childrenEditable___=editable&&childrenEditable,this.FERAL_TWIN___=node;try{node.TAMED_TWIN___=this}catch(ex){___.log('Warning: couldn\'t set TAMED_TWIN___ for '+node)}TameNode.call(this,editable)}___.extend(TameBackedNode,TameNode),TameBackedNode.prototype.getNodeType___=function(){return this.node___.nodeType},TameBackedNode.prototype.getNodeName___=function(){return this.node___.nodeName},TameBackedNode.prototype.getNodeValue___=function(){return this.node___.nodeValue},TameBackedNode.prototype.cloneNode=function(deep){var
clone=bridal.cloneNode(this.node___,Boolean(deep));return defaultTameNode(clone,true)},TameBackedNode.prototype.appendChild=function(child){child=TameNodeT.coerce(child);if(!this.childrenEditable___||!child.editable___)throw new
Error(NOT_EDITABLE);return this.node___.appendChild(child.node___),child},TameBackedNode.prototype.insertBefore=function(toInsert,child){toInsert=TameNodeT.coerce(toInsert),child===void
0&&(child=null);if(child!==null){child=TameNodeT.coerce(child);if(!child.editable___)throw new
Error(NOT_EDITABLE)}if(!this.childrenEditable___||!toInsert.editable___)throw new
Error(NOT_EDITABLE);return this.node___.insertBefore(toInsert.node___,child!==null?child.node___:null),toInsert},TameBackedNode.prototype.removeChild=function(child){child=TameNodeT.coerce(child);if(!this.childrenEditable___||!child.editable___)throw new
Error(NOT_EDITABLE);return this.node___.removeChild(child.node___),child},TameBackedNode.prototype.replaceChild=function(newChild,oldChild){newChild=TameNodeT.coerce(newChild),oldChild=TameNodeT.coerce(oldChild);if(!this.childrenEditable___||!newChild.editable___||!oldChild.editable___)throw new
Error(NOT_EDITABLE);return this.node___.replaceChild(newChild.node___,oldChild.node___),oldChild},TameBackedNode.prototype.getFirstChild___=function(){return defaultTameNode(this.node___.firstChild,this.childrenEditable___)},TameBackedNode.prototype.getLastChild___=function(){return defaultTameNode(this.node___.lastChild,this.childrenEditable___)},TameBackedNode.prototype.getNextSibling___=function(){return tameRelatedNode(this.node___.nextSibling,this.editable___,defaultTameNode)},TameBackedNode.prototype.getPreviousSibling___=function(){return tameRelatedNode(this.node___.previousSibling,this.editable___,defaultTameNode)},TameBackedNode.prototype.getParentNode___=function(){return tameRelatedNode(this.node___.parentNode,this.editable___,defaultTameNode)},TameBackedNode.prototype.getElementsByTagName=function(tagName){return tameGetElementsByTagName(this.node___,tagName,this.childrenEditable___)},TameBackedNode.prototype.getElementsByClassName=function(className){return tameGetElementsByClassName(this.node___,className,this.childrenEditable___)},TameBackedNode.prototype.getChildNodes___=function(){return tameNodeList(this.node___.childNodes,this.childrenEditable___,defaultTameNode)},TameBackedNode.prototype.getAttributes___=function(){var
thisNode=this.node___,tameNodeCtor=function(node,editable){return new TameBackedAttributeNode(node,editable,thisNode)};return tameNodeList(this.node___.attributes,this.editable___,tameNodeCtor)},endsWith__=/__$/,TameBackedNode.prototype.handleRead___=function(name){return name=String(name),endsWith__.test(name)?void
0:classUtils.hasGetHandler(this,name)?this.v___(name):classUtils.hasGetHandler(this,name.toLowerCase())?this.v___(name.toLowerCase()):___.hasOwnProp(this.node___.properties___,name)?this.node___.properties___[name]:void
0},TameBackedNode.prototype.handleCall___=function(name,args){var handlerName;name=String(name);if(endsWith__.test(name))throw new
Error(INVALID_SUFFIX);handlerName=name+'_handler___';if(this[handlerName])return this[handlerName].call(this,args);handlerName=handlerName.toLowerCase();if(this[handlerName])return this[handlerName].call(this,args);if(___.hasOwnProp(this.node___.properties___,name))return this.node___.properties___[name].call(this,args);throw new
TypeError(name+' is not a function.')},TameBackedNode.prototype.handleSet___=function(name,val){name=String(name);if(endsWith__.test(name))throw new
Error(INVALID_SUFFIX);if(!this.editable___)throw new Error(NOT_EDITABLE);return classUtils.hasSetHandler(this,name)?this.w___(name,val):classUtils.hasSetHandler(this,name.toLowerCase())?this.w___(name.toLowerCase(),val):(this.node___.properties___||(this.node___.properties___={}),this[name+'_c___']=this,this[name+'_v___']=false,this[name+'_e___']=this,this.node___.properties___[name]=val)},TameBackedNode.prototype.handleDelete___=function(name){var
handlerName;name=String(name);if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);if(!this.editable___)throw new
Error(NOT_EDITABLE);return handlerName=name+'_deleter___',this[handlerName]?this[handlerName]():(handlerName=handlerName.toLowerCase(),this[handlerName]?this[handlerName]():this.node___.properties___?delete
this.node___.properties___[name]&&delete this[name+'_c___']&&delete this[name+'_e___']&&delete
this[name+'_v___']:true)},TameBackedNode.prototype.handleEnum___=function(ownFlag){return this.node___.properties___?___.allKeys(this.node___.properties___):[]},TameBackedNode.prototype.hasChildNodes=function(){return!!this.node___.hasChildNodes()},TameBackedNode.prototype.dispatchEvent=function
dispatchEvent(evt){evt=TameEventT.coerce(evt),bridal.dispatchEvent(this.node___,evt.event___)},___.all2(___.grantTypedMethod,TameBackedNode.prototype,tameNodePublicMembers),document.documentElement.contains&&(TameBackedNode.prototype.contains=function(other){var
otherNode;return other=TameNodeT.coerce(other),otherNode=other.node___,this.node___.contains(otherNode)}),'function'===typeof
document.documentElement.compareDocumentPosition&&(TameBackedNode.prototype.compareDocumentPosition=function(other){var
bitmask,otherNode;return other=TameNodeT.coerce(other),otherNode=other.node___,otherNode?(bitmask=+this.node___.compareDocumentPosition(otherNode),bitmask&1&&(bitmask&=-7),bitmask&31):0},___.hasOwnProp(TameBackedNode.prototype,'contains')||(TameBackedNode.prototype.contains=function(other){var
docPos=this.compareDocumentPosition(other);return!(!(docPos&16)&&docPos)})),___.all2(function(o,k){___.hasOwnProp(o,k)&&___.grantTypedMethod(o,k)},TameBackedNode.prototype,['contains','compareDocumentPosition']);function
TamePseudoNode(editable){TameNode.call(this,editable),this.properties___={},this.TAMED_TWIN___=this.FERAL_TWIN___=this}___.extend(TamePseudoNode,TameNode),TamePseudoNode.prototype.appendChild=TamePseudoNode.prototype.insertBefore=TamePseudoNode.prototype.removeChild=TamePseudoNode.prototype.replaceChild=function(){return ___.log('Node not editable; no action performed.'),void
0},TamePseudoNode.prototype.getFirstChild___=function(){var children=this.getChildNodes___();return children.length?children[0]:null},TamePseudoNode.prototype.getLastChild___=function(){var
children=this.getChildNodes___();return children.length?children[children.length-1]:null},TamePseudoNode.prototype.getNextSibling___=function(){var
parentNode=this.getParentNode___(),i,siblings;if(!parentNode)return null;siblings=parentNode.getChildNodes___();for(i=siblings.length-1;--i>=0;)if(siblings[i]===this)return siblings[i+1];return null},TamePseudoNode.prototype.getPreviousSibling___=function(){var
parentNode=this.getParentNode___(),i,siblings;if(!parentNode)return null;siblings=parentNode.getChildNodes___();for(i=siblings.length;--i>=1;)if(siblings[i]===this)return siblings[i-1];return null},TamePseudoNode.prototype.handleRead___=function(name){var
handlerName;return name=String(name),endsWith__.test(name)?void 0:(handlerName=name+'_getter___',this[handlerName]?this[handlerName]():(handlerName=handlerName.toLowerCase(),this[handlerName]?this[handlerName]():___.hasOwnProp(this.properties___,name)?this.properties___[name]:void
0))},TamePseudoNode.prototype.handleCall___=function(name,args){var handlerName;name=String(name);if(endsWith__.test(name))throw new
Error(INVALID_SUFFIX);handlerName=name+'_handler___';if(this[handlerName])return this[handlerName].call(this,args);handlerName=handlerName.toLowerCase();if(this[handlerName])return this[handlerName].call(this,args);if(___.hasOwnProp(this.properties___,name))return this.properties___[name].call(this,args);throw new
TypeError(name+' is not a function.')},TamePseudoNode.prototype.handleSet___=function(name,val){var
handlerName;name=String(name);if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);if(!this.editable___)throw new
Error(NOT_EDITABLE);return handlerName=name+'_setter___',this[handlerName]?this[handlerName](val):(handlerName=handlerName.toLowerCase(),this[handlerName]?this[handlerName](val):(this.properties___||(this.properties___={}),this[name+'_c___']=this,this[name+'_v___']=false,this[name+'_e___']=this,this.properties___[name]=val))},TamePseudoNode.prototype.handleDelete___=function(name){var
handlerName;name=String(name);if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);if(!this.editable___)throw new
Error(NOT_EDITABLE);return handlerName=name+'_deleter___',this[handlerName]?this[handlerName]():(handlerName=handlerName.toLowerCase(),this[handlerName]?this[handlerName]():this.properties___?delete
this.properties___[name]&&delete this[name+'_c___']&&delete this[name+'_e___']&&delete
this[name+'_v___']:true)},TamePseudoNode.prototype.handleEnum___=function(ownFlag){return this.properties___?___.allKeys(this.properties___):[]},TamePseudoNode.prototype.hasChildNodes=function(){return this.getFirstChild___()!=null},___.all2(___.grantTypedMethod,TamePseudoNode.prototype,tameNodePublicMembers),commonElementPropertyHandlers={'clientWidth':{'get':function(){return this.getGeometryDelegate___().clientWidth}},'clientHeight':{'get':function(){return this.getGeometryDelegate___().clientHeight}},'offsetLeft':{'get':function(){return this.getGeometryDelegate___().offsetLeft}},'offsetTop':{'get':function(){return this.getGeometryDelegate___().offsetTop}},'offsetWidth':{'get':function(){return this.getGeometryDelegate___().offsetWidth}},'offsetHeight':{'get':function(){return this.getGeometryDelegate___().offsetHeight}},'scrollLeft':{'get':function(){return this.getGeometryDelegate___().scrollLeft},'set':function(x){if(!this.editable___)throw new
Error(NOT_EDITABLE);return this.getGeometryDelegate___().scrollLeft=+x,x}},'scrollTop':{'get':function(){return this.getGeometryDelegate___().scrollTop},'set':function(y){if(!this.editable___)throw new
Error(NOT_EDITABLE);return this.getGeometryDelegate___().scrollTop=+y,y}},'scrollWidth':{'get':function(){return this.getGeometryDelegate___().scrollWidth}},'scrollHeight':{'get':function(){return this.getGeometryDelegate___().scrollHeight}}};function
TamePseudoElement(tagName,tameDoc,childNodesGetter,parentNodeGetter,innerHTMLGetter,geometryDelegate,editable){TamePseudoNode.call(this,editable),this.tagName___=tagName,this.tameDoc___=tameDoc,this.childNodesGetter___=childNodesGetter,this.parentNodeGetter___=parentNodeGetter,this.innerHTMLGetter___=innerHTMLGetter,this.geometryDelegate___=geometryDelegate,classUtils.exportFields(this,['tagName','innerHTML']),classUtils.applyAccessors(this,commonElementPropertyHandlers)}___.extend(TamePseudoElement,TamePseudoNode),TamePseudoElement.prototype.getNodeType___=function(){return 1},TamePseudoElement.prototype.getNodeName___=TamePseudoElement.prototype.getTagName___=function(){return this.tagName___},TamePseudoElement.prototype.getNodeValue___=function(){return null},TamePseudoElement.prototype.getAttribute=function(attribName){return null},TamePseudoElement.prototype.setAttribute=function(attribName,value){},TamePseudoElement.prototype.hasAttribute=function(attribName){return false},TamePseudoElement.prototype.removeAttribute=function(attribName){},TamePseudoElement.prototype.getOwnerDocument___=function(){return this.tameDoc___},TamePseudoElement.prototype.getChildNodes___=function(){return this.childNodesGetter___()},TamePseudoElement.prototype.getAttributes___=function(){return tameNodeList([],false,undefined)},TamePseudoElement.prototype.getParentNode___=function(){return this.parentNodeGetter___()},TamePseudoElement.prototype.getInnerHTML___=function(){return this.innerHTMLGetter___()},TamePseudoElement.prototype.getElementsByTagName=function(tagName){return tagName=String(tagName).toLowerCase(),tagName===this.tagName___?fakeNodeList([]):this.getOwnerDocument___().getElementsByTagName(tagName)},TamePseudoElement.prototype.getElementsByClassName=function(className){return this.getOwnerDocument___().getElementsByClassName(className)},TamePseudoElement.prototype.getBoundingClientRect=function(){return this.geometryDelegate___.getBoundingClientRect()},TamePseudoElement.prototype.getGeometryDelegate___=function(){return this.geometryDelegate___},TamePseudoElement.prototype.toString=___.markFuncFreeze(function(){return'<'+this.tagName___+'>'}),___.all2(___.grantTypedMethod,TamePseudoElement.prototype,['getAttribute','setAttribute','hasAttribute','removeAttribute','getBoundingClientRect','getElementsByTagName']);function
TameOpaqueNode(node,editable){TameBackedNode.call(this,node,editable,editable)}___.extend(TameOpaqueNode,TameBackedNode),TameOpaqueNode.prototype.getNodeValue___=TameBackedNode.prototype.getNodeValue___,TameOpaqueNode.prototype.getNodeType___=TameBackedNode.prototype.getNodeType___,TameOpaqueNode.prototype.getNodeName___=TameBackedNode.prototype.getNodeName___,TameOpaqueNode.prototype.getNextSibling___=TameBackedNode.prototype.getNextSibling___,TameOpaqueNode.prototype.getPreviousSibling___=TameBackedNode.prototype.getPreviousSibling___,TameOpaqueNode.prototype.getFirstChild___=TameBackedNode.prototype.getFirstChild___,TameOpaqueNode.prototype.getLastChild___=TameBackedNode.prototype.getLastChild___,TameOpaqueNode.prototype.getParentNode___=TameBackedNode.prototype.getParentNode___,TameOpaqueNode.prototype.getChildNodes___=TameBackedNode.prototype.getChildNodes___,TameOpaqueNode.prototype.getOwnerDocument___=TameBackedNode.prototype.getOwnerDocument___,TameOpaqueNode.prototype.getElementsByTagName=TameBackedNode.prototype.getElementsByTagName,TameOpaqueNode.prototype.getElementsByClassName=TameBackedNode.prototype.getElementsByClassName,TameOpaqueNode.prototype.hasChildNodes=TameBackedNode.prototype.hasChildNodes,TameOpaqueNode.prototype.getAttributes___=function(){return tameNodeList([],false,undefined)};for(i=tameNodePublicMembers.length;--i>=0;)k=tameNodePublicMembers[i],TameOpaqueNode.prototype.hasOwnProperty(k)||(TameOpaqueNode.prototype[k]=___.markFuncFreeze(function(){throw new
Error('Node is opaque')}));___.all2(___.grantTypedMethod,TameOpaqueNode.prototype,tameNodePublicMembers);function
TameTextNode(node,editable){var pn;assert(node.nodeType===3),pn=node.parentNode,editable&&pn&&(1===pn.nodeType&&html4.ELEMENTS[pn.tagName.toLowerCase()]&html4.eflags.UNSAFE&&(editable=false)),TameBackedNode.call(this,node,editable,editable),classUtils.exportFields(this,['nodeValue','data','textContent','innerText'])}inertCtor(TameTextNode,TameBackedNode,'Text'),TameTextNode.prototype.setNodeValue___=function(value){if(!this.editable___)throw new
Error(NOT_EDITABLE);return this.node___.nodeValue=String(value||''),value},TameTextNode.prototype.getTextContent___=TameTextNode.prototype.getInnerText___=TameTextNode.prototype.getData___=TameTextNode.prototype.getNodeValue___,TameTextNode.prototype.setTextContent___=TameTextNode.prototype.setInnerText___=TameTextNode.prototype.setData___=TameTextNode.prototype.setNodeValue___,TameTextNode.prototype.toString=___.markFuncFreeze(function(){return'#text'});function
TameCommentNode(node,editable){assert(node.nodeType===8),TameBackedNode.call(this,node,editable,editable)}inertCtor(TameCommentNode,TameBackedNode,'CommentNode'),TameCommentNode.prototype.toString=___.markFuncFreeze(function(){return'#comment'});function
lookupAttribute(map,tagName,attribName){var attribKey=tagName+'::'+attribName;return map.hasOwnProperty(attribKey)?map[attribKey]:(attribKey='*::'+attribName,map.hasOwnProperty(attribKey)?map[attribKey]:void
0)}function getAttributeType(tagName,attribName){return lookupAttribute(html4.ATTRIBS,tagName,attribName)}function
getLoaderType(tagName,attribName){return lookupAttribute(html4.LOADERTYPES,tagName,attribName)}function
getUriEffect(tagName,attribName){return lookupAttribute(html4.URIEFFECTS,tagName,attribName)}function
TameBackedAttributeNode(node,editable,ownerElement){TameBackedNode.call(this,node,editable),this.ownerElement___=ownerElement,classUtils.exportFields(this,['name','specified','value','ownerElement'])}inertCtor(TameBackedAttributeNode,TameBackedNode,'Attr'),TameBackedAttributeNode.prototype.getNodeName___=TameBackedAttributeNode.prototype.getName___=function(){return String(this.node___.name)},TameBackedAttributeNode.prototype.getSpecified___=function(){return defaultTameNode(this.ownerElement___,this.editable___).hasAttribute(this.getName___())},TameBackedAttributeNode.prototype.getNodeValue___=TameBackedAttributeNode.prototype.getValue___=function(){return defaultTameNode(this.ownerElement___,this.editable___).getAttribute(this.getName___())},TameBackedAttributeNode.prototype.setNodeValue___=TameBackedAttributeNode.prototype.setValue___=function(value){return defaultTameNode(this.ownerElement___,this.editable___).setAttribute(this.getName___(),value)},TameBackedAttributeNode.prototype.getOwnerElement___=function(){return defaultTameNode(this.ownerElement___,this.editable___)},TameBackedAttributeNode.prototype.getNodeType___=function(){return 2},TameBackedAttributeNode.prototype.cloneNode=function(deep){var
clone=bridal.cloneNode(this.node___,Boolean(deep));return new TameBackedAttributeNode(clone,true,this.ownerElement____)},TameBackedAttributeNode.prototype.appendChild=TameBackedAttributeNode.prototype.insertBefore=TameBackedAttributeNode.prototype.removeChild=TameBackedAttributeNode.prototype.replaceChild=TameBackedAttributeNode.prototype.getFirstChild___=TameBackedAttributeNode.prototype.getLastChild___=TameBackedAttributeNode.prototype.getNextSibling___=TameBackedAttributeNode.prototype.getPreviousSibling___=TameBackedAttributeNode.prototype.getParentNode___=TameBackedAttributeNode.prototype.getElementsByTagName=TameBackedAttributeNode.prototype.getElementsByClassName=TameBackedAttributeNode.prototype.getChildNodes___=TameBackedAttributeNode.prototype.getAttributes___=function(){throw new
Error('Not implemented.')},TameBackedAttributeNode.prototype.toString=___.markFuncFreeze(function(){return'[Fake attribute node]'});function
registerElementScriptAttributeHandlers(aTameElement){var attrNameRe=/::(.*)/,html4Attrib;for(html4Attrib
in html4.ATTRIBS)html4.atype.SCRIPT===html4.ATTRIBS[html4Attrib]&&(function(attribName){___.useSetHandler(aTameElement,attribName,function
eventHandlerSetter(listener){if(!this.editable___)throw new Error(NOT_EDITABLE);return listener?(this.node___[attribName]=makeEventHandlerWrapper(this.node___,listener)):(this.node___[attribName]=null),listener})})((html4Attrib.match(attrNameRe))[1])}function
TameElement(node,editable,childrenEditable){assert(node.nodeType===1),TameBackedNode.call(this,node,editable,childrenEditable),classUtils.exportFields(this,['className','id','innerHTML','tagName','style','offsetParent','title','dir','innerText','textContent']),classUtils.applyAccessors(this,commonElementPropertyHandlers),registerElementScriptAttributeHandlers(this)}nodeClasses.Element=inertCtor(TameElement,TameBackedNode,'HTMLElement'),TameElement.prototype.blur=function(){this.node___.blur()},TameElement.prototype.focus=function(){imports.isProcessingEvent___&&this.node___.focus()},document.documentElement.setActive&&(TameElement.prototype.setActive=function(){imports.isProcessingEvent___&&this.node___.setActive()},___.grantTypedMethod(TameElement.prototype,'setActive')),document.documentElement.hasFocus&&(TameElement.prototype.hasFocus=function(){return this.node___.hasFocus()},___.grantTypedMethod(TameElement.prototype,'hasFocus')),defAttributeAlias(TameElement,'id',defaultToEmptyStr,identity),TameElement.prototype.getAttribute=function(attribName){var
atype,tagName,value;return attribName=String(attribName).toLowerCase(),tagName=this.node___.tagName.toLowerCase(),atype=getAttributeType(tagName,attribName),atype===void
0?this.node___.attributes___?this.node___.attributes___[attribName]||null:null:(value=bridal.getAttribute(this.node___,attribName),'string'!==typeof
value?value:virtualizeAttributeValue(atype,value))},TameElement.prototype.getAttributeNode=function(name){var
hostDomNode=this.node___.getAttributeNode(name);return hostDomNode===null?null:new
TameBackedAttributeNode(hostDomNode,this.editable___,this.node___)},TameElement.prototype.hasAttribute=function(attribName){var
atype,tagName;return attribName=String(attribName).toLowerCase(),tagName=this.node___.tagName.toLowerCase(),atype=getAttributeType(tagName,attribName),atype===void
0?!!(this.node___.attributes___&&___.hasOwnProp(this.node___.attributes___,attribName)):bridal.hasAttribute(this.node___,attribName)},TameElement.prototype.setAttribute=function(attribName,value){var
atype,sanitizedValue,tagName;if(!this.editable___)throw new Error(NOT_EDITABLE);return attribName=String(attribName).toLowerCase(),tagName=this.node___.tagName.toLowerCase(),atype=getAttributeType(tagName,attribName),atype===void
0?(this.node___.attributes___||(this.node___.attributes___={}),this.node___.attributes___[attribName]=String(value)):(sanitizedValue=rewriteAttribute(tagName,attribName,atype,value),sanitizedValue!==null&&bridal.setAttribute(this.node___,attribName,sanitizedValue)),value},TameElement.prototype.removeAttribute=function(attribName){var
atype,tagName;if(!this.editable___)throw new Error(NOT_EDITABLE);attribName=String(attribName).toLowerCase(),tagName=this.node___.tagName.toLowerCase(),atype=getAttributeType(tagName,attribName),atype===void
0?this.node___.attributes___&&delete this.node___.attributes___[attribName]:this.node___.removeAttribute(attribName)};function
simpleProp(o,name,value){o.DefineOwnProperty___(name,{'value':value,'writable':true,'enumerable':true,'configurable':true})}TameElement.prototype.getBoundingClientRect=function(){var
elRect=bridal.getBoundingClientRect(this.node___),vbody=bridal.getBoundingClientRect(this.getOwnerDocument___().body___),vbodyLeft=vbody.left,vbodyTop=vbody.top,r;return r={},simpleProp(r,'top',elRect.top-vbodyTop),simpleProp(r,'left',elRect.left-vbodyLeft),simpleProp(r,'right',elRect.right-vbodyLeft),simpleProp(r,'bottom',elRect.bottom-vbodyTop),r},TameElement.prototype.getClassName___=function(){return this.getAttribute('class')||''},TameElement.prototype.setClassName___=function(classes){if(!this.editable___)throw new
Error(NOT_EDITABLE);return this.setAttribute('class',String(classes))};function
defaultToEmptyStr(x){return x||''}defAttributeAlias(TameElement,'title',defaultToEmptyStr,String),defAttributeAlias(TameElement,'dir',defaultToEmptyStr,String);function
innerTextOf(rawNode,out){var c,tagName;switch(rawNode.nodeType){case 1:tagName=rawNode.tagName.toLowerCase();if(html4.ELEMENTS.hasOwnProperty(tagName)&&!(html4.ELEMENTS[tagName]&html4.eflags.UNSAFE))for(c=rawNode.firstChild;c;c=c.nextSibling)innerTextOf(c,out);break;case
3:case 4:out[out.length]=rawNode.data;break;case 11:for(c=rawNode.firstChild;c;c=c.nextSibling)innerTextOf(c,out)}}TameElement.prototype.getTextContent___=TameElement.prototype.getInnerText___=function(){var
text=[];return innerTextOf(this.node___,text),text.join('')},TameElement.prototype.setTextContent___=TameElement.prototype.setInnerText___=function(newText){var
c,el,newTextStr;if(!this.editable___)throw new Error(NOT_EDITABLE);newTextStr=newText!=null?String(newText):'',el=this.node___;for(;c=el.firstChild;)el.removeChild(c);return newTextStr&&el.appendChild(el.ownerDocument.createTextNode(newTextStr)),newText},TameElement.prototype.getTagName___=TameBackedNode.prototype.getNodeName___,TameElement.prototype.getInnerHTML___=function(){var
tagName=this.node___.tagName.toLowerCase(),flags,innerHtml;return html4.ELEMENTS.hasOwnProperty(tagName)?(flags=html4.ELEMENTS[tagName],innerHtml=this.node___.innerHTML,flags&html4.eflags.CDATA?(innerHtml=html.escapeAttrib(innerHtml)):flags&html4.eflags.RCDATA?(innerHtml=html.normalizeRCData(innerHtml)):(innerHtml=tameInnerHtml(innerHtml)),innerHtml):''},TameElement.prototype.setInnerHTML___=function(htmlFragment){var
flags,htmlFragmentString,isRcData,sanitizedHtml,tagName;if(!this.editable___)throw new
Error(NOT_EDITABLE);tagName=this.node___.tagName.toLowerCase();if(!html4.ELEMENTS.hasOwnProperty(tagName))throw new
Error;flags=html4.ELEMENTS[tagName];if(flags&html4.eflags.UNSAFE)throw new Error;return isRcData=flags&html4.eflags.RCDATA,!isRcData&&htmlFragment
instanceof Html?(htmlFragmentString=''+safeHtml(htmlFragment)):htmlFragment===null?(htmlFragmentString=''):(htmlFragmentString=''+htmlFragment),sanitizedHtml=isRcData?html.normalizeRCData(htmlFragmentString):sanitizeHtml(htmlFragmentString),this.node___.innerHTML=sanitizedHtml,htmlFragment};function
identity(x){return x}defProperty(TameElement,'style',false,function(styleNode){return new
TameStyle(styleNode,this.editable___,this)},true,identity),TameElement.prototype.updateStyle=function(style){var
cssPropertiesAndValues,i,propName,propValue,semi,styleNode;if(!this.editable___)throw new
Error(NOT_EDITABLE);cssPropertiesAndValues=cssSealerUnsealerPair.unseal(style);if(!cssPropertiesAndValues)throw new
Error;styleNode=this.node___.style;for(i=0;i<cssPropertiesAndValues.length;i+=2)propName=cssPropertiesAndValues[i],propValue=cssPropertiesAndValues[i+1],semi=propName.indexOf(';'),semi>=0&&(propName=propName.substring(semi+1)),styleNode[propName]=propValue},TameElement.prototype.getOffsetParent___=function(){return tameRelatedNode(this.node___.offsetParent,this.editable___,defaultTameNode)},TameElement.prototype.getGeometryDelegate___=function(){return this.node___},TameElement.prototype.toString=___.markFuncFreeze(function(){return'<'+this.node___.tagName+'>'}),TameElement.prototype.addEventListener=tameAddEventListener,TameElement.prototype.removeEventListener=tameRemoveEventListener,___.all2(___.grantTypedMethod,TameElement.prototype,['addEventListener','removeEventListener','blur','focus','getAttribute','setAttribute','removeAttribute','hasAttribute','getAttributeNode','getBoundingClientRect','updateStyle']);function
TameAElement(node,editable){TameElement.call(this,node,editable,editable),classUtils.exportFields(this,['href'])}inertCtor(TameAElement,TameElement,'HTMLAnchorElement'),defProperty(TameAElement,'href',false,identity,true,identity),TameCanvasElement=(function(){var
colorNameTable;function isFont(value){return typeof value=='string'&&css.properties.font.test(value)}function
isColor(value){return typeof value=='string'&&css.properties.color.test(value)&&value!=='inherit'}colorNameTable={' black':'#000000',' silver':'#c0c0c0',' gray':'#808080',' white':'#ffffff',' maroon':'#800000',' red':'#ff0000',' purple':'#800080',' fuchsia':'#ff00ff',' green':'#008000',' lime':'#00ff00',' olive':'#808000',' yellow':'#ffff00',' navy':'#000080',' blue':'#0000ff',' teal':'#008080',' aqua':'#00ffff'};function
StringTest(strings){var table={},i;for(i=strings.length;--i>=0;)table[strings[i]]=table;return ___.markFuncFreeze(function(string){return typeof
string==='string'&&table[string]===table})}function canonColor(colorString){return colorNameTable[' '+colorString]||colorString}function
TameImageData(imageData){var tameImageData={'toString':___.markFuncFreeze(function(){return'[Domita Canvas ImageData]'}),'width':___.enforceType(imageData.width,'number'),'height':___.enforceType(imageData.height,'number'),'bare___':imageData,'tamePixelArray___':undefined};return ___.tamesTo(imageData,tameImageData),TameImageDataMark.stamp.mark___(tameImageData),classUtils.applyAccessors(tameImageData,{'data':{'get':___.markFuncFreeze(function(){var
bareArray,i,length,tamePixelArray;if(!tameImageData.tamePixelArray___){bareArray=imageData.data,length=bareArray.length,tamePixelArray={'toString':___.markFuncFreeze(function(){return'[Domita CanvasPixelArray]'}),'canvas_writeback___':function(){var
i;for(i=length-1;i>=0;--i)bareArray[i]=tamePixelArray[i]}};for(i=length-1;i>=0;--i)tamePixelArray[i]=bareArray[i];tameImageData.tamePixelArray___=tamePixelArray}return tameImageData.tamePixelArray___})}}),___.primFreeze(tameImageData)}function
TameGradient(gradient){var tameGradient={'toString':___.markFuncFreeze(function(){return'[Domita CanvasGradient]'}),'addColorStop':___.markFuncFreeze(function(offset,color){___.enforceType(offset,'number','color stop offset');if(!(0<=offset&&offset<=1))throw new
Error(INDEX_SIZE_ERROR);if(!isColor(color))throw new Error('SYNTAX_ERR');gradient.addColorStop(offset,color)})};return ___.tamesTo(gradient,tameGradient),TameGradientMark.stamp.mark___(tameGradient),___.primFreeze(tameGradient)}function
enforceFinite(value,name){___.enforceType(value,'number',name);if(!isFinite(value))throw new
Error('NOT_SUPPORTED_ERR')}function TameCanvasElement(node,editable){var context;TameElement.call(this,node,editable,editable),classUtils.exportFields(this,['height','width']),context=node.getContext('2d');function
tameFloatsOp(count,verb){return ___.markFuncFreeze(function(){var i;if(arguments.length!==count)throw new
Error(verb+' takes '+count+' args, not '+arguments.length);for(i=0;i<count;++i)___.enforceType(arguments[i],'number',verb+' argument '+i);context[verb].apply(context,arguments)})}function
tameRectMethod(m,hasResult){return ___.markFuncFreeze(function(x,y,w,h){if(arguments.length!==4)throw new
Error(m+' takes 4 args, not '+arguments.length);___.enforceType(x,'number','x'),___.enforceType(y,'number','y'),___.enforceType(w,'number','width'),___.enforceType(h,'number','height');if(hasResult)return m.call(context,x,y,w,h);m.call(context,x,y,w,h)})}function
tameDrawText(m){return ___.markFuncFreeze(function(text,x,y,maxWidth){___.enforceType(text,'string','text'),___.enforceType(x,'number','x'),___.enforceType(y,'number','y');switch(arguments.length){case
3:return m.apply(context,arguments),void 0;case 4:return ___.enforceType(maxWidth,'number','maxWidth'),m.apply(context,arguments),void
0;default:throw new Error(m+' cannot accept '+arguments.length+' arguments')}})}function
tameGetMethod(prop){return ___.markFuncFreeze(function(){return context[prop]})}function
tameSetMethod(prop,validator){return ___.markFuncFreeze(function(newValue){return validator(newValue)&&(context[prop]=newValue),newValue})}function
tameGetStyleMethod(prop){return ___.markFuncFreeze(function(){var value=context[prop];if(typeof
value=='string')return canonColor(value);else if(___.passesGuard(TameGradientT,___.tame(value)))return ___.tame(value);throw'Internal: Can\'t tame value '+value+' of '+prop})}function
tameSetStyleMethod(prop){return ___.markFuncFreeze(function(newValue){return isColor(newValue)?(context[prop]=newValue):typeof
newValue==='object'&&___.passesGuard(TameGradientT,newValue)&&(context[prop]=___.untame(newValue)),newValue})}function
tameSimpleOp(m){return ___.markFuncFreeze(function(){if(arguments.length!==0)throw new
Error(m+' takes no args, not '+arguments.length);m.call(context)})}this.tameContext2d___={'toString':___.markFuncFreeze(function(){return'[Domita CanvasRenderingContext2D]'}),'save':tameSimpleOp(context.save),'restore':tameSimpleOp(context.restore),'scale':tameFloatsOp(2,'scale'),'rotate':tameFloatsOp(1,'rotate'),'translate':tameFloatsOp(2,'translate'),'transform':tameFloatsOp(6,'transform'),'setTransform':tameFloatsOp(6,'setTransform'),'createLinearGradient':___.markFuncFreeze(function(x0,y0,x1,y1){if(arguments.length!==4)throw new
Error('createLinearGradient takes 4 args, not '+arguments.length);return ___.enforceType(x0,'number','x0'),___.enforceType(y0,'number','y0'),___.enforceType(x1,'number','x1'),___.enforceType(y1,'number','y1'),TameGradient(context.createLinearGradient(x0,y0,x1,y1))}),'createRadialGradient':___.markFuncFreeze(function(x0,y0,r0,x1,y1,r1){if(arguments.length!==6)throw new
Error('createRadialGradient takes 6 args, not '+arguments.length);return ___.enforceType(x0,'number','x0'),___.enforceType(y0,'number','y0'),___.enforceType(r0,'number','r0'),___.enforceType(x1,'number','x1'),___.enforceType(y1,'number','y1'),___.enforceType(r1,'number','r1'),TameGradient(context.createRadialGradient(x0,y0,r0,x1,y1,r1))}),'createPattern':___.markFuncFreeze(function(imageElement,repetition){throw new
Error('Domita: canvas createPattern not yet implemented')}),'clearRect':tameRectMethod(context.clearRect,false),'fillRect':tameRectMethod(context.fillRect,false),'strokeRect':tameRectMethod(context.strokeRect,false),'beginPath':tameSimpleOp(context.beginPath),'closePath':tameSimpleOp(context.closePath),'moveTo':tameFloatsOp(2,'moveTo'),'lineTo':tameFloatsOp(2,'lineTo'),'quadraticCurveTo':tameFloatsOp(4,'quadraticCurveTo'),'bezierCurveTo':tameFloatsOp(6,'bezierCurveTo'),'arcTo':tameFloatsOp(5,'arcTo'),'rect':tameFloatsOp(4,'rect'),'arc':___.markFuncFreeze(function(x,y,radius,startAngle,endAngle,anticlockwise){if(arguments.length!==6)throw new
Error('arc takes 6 args, not '+arguments.length);___.enforceType(x,'number','x'),___.enforceType(y,'number','y'),___.enforceType(radius,'number','radius'),___.enforceType(startAngle,'number','startAngle'),___.enforceType(endAngle,'number','endAngle'),___.enforceType(anticlockwise,'boolean','anticlockwise');if(radius<0)throw new
Error(INDEX_SIZE_ERROR);context.arc(x,y,radius,startAngle,endAngle,anticlockwise)}),'fill':tameSimpleOp(context.fill),'stroke':tameSimpleOp(context.stroke),'clip':tameSimpleOp(context.clip),'isPointInPath':___.markFuncFreeze(function(x,y){return ___.enforceType(x,'number','x'),___.enforceType(y,'number','y'),___.enforceType(context.isPointInPath(x,y),'boolean')}),'fillText':tameDrawText(context.fillText),'strokeText':tameDrawText(context.strokeText),'measureText':___.markFuncFreeze(function(string){if(arguments.length!==1)throw new
Error('measureText takes 1 arg, not '+arguments.length);return ___.enforceType(string,'string','measureText argument'),context.measureText(string)}),'drawImage':___.markFuncFreeze(function(imageElement){throw new
Error('Domita: canvas drawImage not yet implemented')}),'createImageData':___.markFuncFreeze(function(sw,sh){if(arguments.length!==2)throw new
Error('createImageData takes 2 args, not '+arguments.length);return ___.enforceType(sw,'number','sw'),___.enforceType(sh,'number','sh'),TameImageData(context.createImageData(sw,sh))}),'getImageData':tameRectMethod(function(sx,sy,sw,sh){return TameImageData(context.getImageData(sx,sy,sw,sh))},true),'putImageData':___.markFuncFreeze(function(tameImageData,dx,dy,dirtyX,dirtyY,dirtyWidth,dirtyHeight){tameImageData=TameImageDataT.coerce(tameImageData),enforceFinite(dx,'dx'),enforceFinite(dy,'dy');switch(arguments.length){case
3:dirtyX=0,dirtyY=0,dirtyWidth=tameImageData.width,dirtyHeight=tameImageData.height;break;case
7:enforceFinite(dirtyX,'dirtyX'),enforceFinite(dirtyY,'dirtyY'),enforceFinite(dirtyWidth,'dirtyWidth'),enforceFinite(dirtyHeight,'dirtyHeight');break;default:throw'putImageData cannot accept '+arguments.length+' arguments'}tameImageData.tamePixelArray___&&tameImageData.tamePixelArray___.canvas_writeback___(),context.putImageData(tameImageData.bare___,dx,dy,dirtyX,dirtyY,dirtyWidth,dirtyHeight)})},'drawFocusRing'in
context&&(this.tameContext2d___.drawFocusRing=___.markFuncFreeze(function(tameElement,x,y,canDrawCustom){switch(arguments.length){case
3:canDrawCustom=false;break;case 4:break;default:throw'drawFocusRing cannot accept '+arguments.length+' arguments'}return tameElement=TameNodeT.coerce(tameElement),___.enforceType(x,'number','x'),___.enforceType(y,'number','y'),___.enforceType(canDrawCustom,'boolean','canDrawCustom'),___.enforceType(context.drawFocusRing(tameElement.node___,x,y,canDrawCustom),'boolean')})),classUtils.applyAccessors(this.tameContext2d___,{'globalAlpha':{'get':tameGetMethod('globalAlpha'),'set':tameSetMethod('globalAlpha',function(v){return typeof
v==='number'&&0.0<=v&&v<=1.0})},'globalCompositeOperation':{'get':tameGetMethod('globalCompositeOperation'),'set':tameSetMethod('globalCompositeOperation',StringTest(['source-atop','source-in','source-out','source-over','destination-atop','destination-in','destination-out','destination-over','lighter','copy','xor']))},'strokeStyle':{'get':tameGetStyleMethod('strokeStyle'),'set':tameSetStyleMethod('strokeStyle')},'fillStyle':{'get':tameGetStyleMethod('fillStyle'),'set':tameSetStyleMethod('fillStyle')},'lineWidth':{'get':tameGetMethod('lineWidth'),'set':tameSetMethod('lineWidth',function(v){return typeof
v==='number'&&0.0<v&&v!==Infinity})},'lineCap':{'get':tameGetMethod('lineCap'),'set':tameSetMethod('lineCap',StringTest(['butt','round','square']))},'lineJoin':{'get':tameGetMethod('lineJoin'),'set':tameSetMethod('lineJoin',StringTest(['bevel','round','miter']))},'miterLimit':{'get':tameGetMethod('miterLimit'),'set':tameSetMethod('miterLimit',function(v){return typeof
v==='number'&&0<v&&v!==Infinity})},'shadowOffsetX':{'get':tameGetMethod('shadowOffsetX'),'set':tameSetMethod('shadowOffsetX',function(v){return typeof
v==='number'&&isFinite(v)})},'shadowOffsetY':{'get':tameGetMethod('shadowOffsetY'),'set':tameSetMethod('shadowOffsetY',function(v){return typeof
v==='number'&&isFinite(v)})},'shadowBlur':{'get':tameGetMethod('shadowBlur'),'set':tameSetMethod('shadowBlur',function(v){return typeof
v==='number'&&0.0<=v&&v!==Infinity})},'shadowColor':{'get':tameGetStyleMethod('shadowColor'),'set':tameSetMethod('shadowColor',isColor)},'font':{'get':tameGetMethod('font'),'set':tameSetMethod('font',isFont)},'textAlign':{'get':tameGetMethod('textAlign'),'set':tameSetMethod('textAlign',StringTest(['start','end','left','right','center']))},'textBaseline':{'get':tameGetMethod('textBaseline'),'set':tameSetMethod('textBaseline',StringTest(['top','hanging','middle','alphabetic','ideographic','bottom']))}}),___.primFreeze(this.tameContext2d___)}return inertCtor(TameCanvasElement,TameElement,'HTMLCanvasElement'),TameCanvasElement.prototype.getContext=function(contextId){if(!this.editable___)throw new
Error(NOT_EDITABLE);___.enforceType(contextId,'string','contextId');switch(contextId){case'2d':return this.tameContext2d___;default:return undefined}},defProperty(TameCanvasElement,'height',false,identity,false,Number),defProperty(TameCanvasElement,'width',false,identity,false,Number),___.all2(___.grantTypedMethod,TameCanvasElement.prototype,['getContext']),TameCanvasElement})();function
TameFormElement(node,editable){TameElement.call(this,node,editable,editable),this.length=node.length,classUtils.exportFields(this,['action','elements','enctype','method','target'])}inertCtor(TameFormElement,TameElement,'HTMLFormElement'),TameFormElement.prototype.handleRead___=function(name){var
tameElements;name=String(name);if(endsWith__.test(name))return;if(___.passesGuard(TameNodeT,this)){tameElements=this.getElements___();if(___.hasOwnProp(tameElements,name))return tameElements[name]}return TameBackedNode.prototype.handleRead___.call(this,name)},TameFormElement.prototype.submit=function(){return this.node___.submit()},TameFormElement.prototype.reset=function(){return this.node___.reset()},defAttributeAlias(TameFormElement,'action',defaultToEmptyStr,String),TameFormElement.prototype.getElements___=function(){return tameHTMLCollection(this.node___.elements,this.editable___,defaultTameNode)},defAttributeAlias(TameFormElement,'enctype',defaultToEmptyStr,String),defAttributeAlias(TameFormElement,'method',defaultToEmptyStr,String),defAttributeAlias(TameFormElement,'target',defaultToEmptyStr,String),TameFormElement.prototype.reset=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);this.node___.reset()},TameFormElement.prototype.submit=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);this.node___.submit()},___.all2(___.grantTypedMethod,TameFormElement.prototype,['reset','submit']);function
TameInputElement(node,editable){TameElement.call(this,node,editable,editable),classUtils.exportFields(this,['form','value','defaultValue','checked','disabled','readOnly','options','selected','selectedIndex','name','accessKey','tabIndex','text','defaultChecked','defaultSelected','maxLength','size','type','index','label','multiple','cols','rows'])}inertCtor(TameInputElement,TameElement,'HTMLInputElement'),defProperty(TameInputElement,'checked',false,identity,false,Boolean),defProperty(TameInputElement,'defaultChecked',false,identity,false,identity),defProperty(TameInputElement,'value',false,function(x){return x==null?null:String(x)},false,function(x){return x==null?'':''+x}),defProperty(TameInputElement,'defaultValue',false,function(x){return x==null?null:String(x)},false,function(x){return x==null?'':''+x}),TameInputElement.prototype.select=function(){this.node___.select()},TameInputElement.prototype.getForm___=function(){return tameRelatedNode(this.node___.form,this.editable___,defaultTameNode)},defProperty(TameInputElement,'disabled',false,identity,false,identity),defProperty(TameInputElement,'readOnly',false,identity,false,identity),TameInputElement.prototype.getOptions___=function(){return tameOptionsList(this.node___.options,this.editable___,defaultTameNode,'name')},defProperty(TameInputElement,'selected',false,identity,false,identity),defProperty(TameInputElement,'defaultSelected',false,identity,false,Boolean);function
toInt(x){return x|0}defProperty(TameInputElement,'selectedIndex',false,identity,false,toInt),defProperty(TameInputElement,'name',false,identity,false,identity),defProperty(TameInputElement,'accessKey',false,identity,false,identity),defProperty(TameInputElement,'tabIndex',false,identity,false,identity),defProperty(TameInputElement,'text',false,String),defProperty(TameInputElement,'maxLength',false,identity,false,identity),defProperty(TameInputElement,'size',false,identity,false,identity),defProperty(TameInputElement,'type',false,identity,false,identity),defProperty(TameInputElement,'index',false,identity,false,identity),defProperty(TameInputElement,'label',false,identity,false,identity),defProperty(TameInputElement,'multiple',false,identity,false,identity),defProperty(TameInputElement,'cols',false,identity,false,identity),defProperty(TameInputElement,'rows',false,identity,false,identity),___.all2(___.grantTypedMethod,TameInputElement.prototype,['select']);function
TameImageElement(node,editable){TameElement.call(this,node,editable,editable),classUtils.exportFields(this,['src','alt'])}inertCtor(TameImageElement,TameElement,'HTMLImageElement'),defProperty(TameImageElement,'src',false,identity,true,identity),defProperty(TameImageElement,'alt',false,identity,false,String);function
TameLabelElement(node,editable){TameElement.call(this,node,editable,editable),classUtils.exportFields(this,['htmlFor'])}inertCtor(TameLabelElement,TameElement,'HTMLLabelElement'),TameLabelElement.prototype.getHtmlFor___=function(){return this.getAttribute('for')},TameLabelElement.prototype.setHtmlFor___=function(id){return this.setAttribute('for',id),id};function
TameScriptElement(node,editable){TameElement.call(this,node,editable,false),classUtils.exportFields(this,['src'])}inertCtor(TameScriptElement,TameElement,'HTMLScriptElement'),defProperty(TameScriptElement,'src',false,identity,true,identity);function
TameIFrameElement(node,editable){TameElement.call(this,node,editable,false),classUtils.exportFields(this,['align','frameBorder','height','width'])}inertCtor(TameIFrameElement,TameElement,'HTMLIFrameElement'),TameIFrameElement.prototype.getAlign___=function(){return this.node___.align},TameIFrameElement.prototype.setAlign___=function(alignment){if(!this.editable___)throw new
Error(NOT_EDITABLE);alignment=String(alignment),(alignment==='left'||alignment==='right'||alignment==='center')&&(this.node___.align=alignment)},TameIFrameElement.prototype.getAttribute=function(attr){var
attrLc=String(attr).toLowerCase();return attrLc!=='name'&&attrLc!=='src'?TameElement.prototype.getAttribute.call(this,attr):null},TameIFrameElement.prototype.setAttribute=function(attr,value){var
attrLc=String(attr).toLowerCase();return attrLc!=='name'&&attrLc!=='src'?TameElement.prototype.setAttribute.call(this,attr,value):(___.log('Cannot set the ['+attrLc+'] attribute of an iframe.'),value)},TameIFrameElement.prototype.getFrameBorder___=function(){return this.node___.frameBorder},TameIFrameElement.prototype.setFrameBorder___=function(border){if(!this.editable___)throw new
Error(NOT_EDITABLE);border=String(border).toLowerCase(),(border==='0'||border==='1'||border==='no'||border==='yes')&&(this.node___.frameBorder=border)},defProperty(TameIFrameElement,'height',false,identity,false,Number),defProperty(TameIFrameElement,'width',false,identity,false,Number),TameIFrameElement.prototype.handleRead___=function(name){var
nameLc=String(name).toLowerCase();return nameLc!=='src'&&nameLc!=='name'?TameElement.prototype.handleRead___.call(this,name):undefined},TameIFrameElement.prototype.handleSet___=function(name,value){var
nameLc=String(name).toLowerCase();return nameLc!=='src'&&nameLc!=='name'?TameElement.prototype.handleSet___.call(this,name,value):(___.log('Cannot set the ['+nameLc+'] property of an iframe.'),value)},___.all2(___.grantTypedMethod,TameIFrameElement.prototype,['getAttribute','setAttribute']);function
TameTableCompElement(node,editable){TameElement.call(this,node,editable,editable),classUtils.exportFields(this,['colSpan','cells','cellIndex','rowSpan','rows','rowIndex','align','vAlign','nowrap','sectionRowIndex'])}___.extend(TameTableCompElement,TameElement),defProperty(TameTableCompElement,'colSpan',false,identity,false,identity),TameTableCompElement.prototype.getCells___=function(){return tameNodeList(this.node___.cells,this.editable___,defaultTameNode)},TameTableCompElement.prototype.getCellIndex___=function(){return this.node___.cellIndex},defProperty(TameTableCompElement,'rowSpan',false,identity,false,identity),TameTableCompElement.prototype.getRows___=function(){return tameNodeList(this.node___.rows,this.editable___,defaultTameNode)},TameTableCompElement.prototype.getRowIndex___=function(){return this.node___.rowIndex},TameTableCompElement.prototype.getSectionRowIndex___=function(){return this.node___.sectionRowIndex},defProperty(TameTableCompElement,'align',false,identity,false,identity),defProperty(TameTableCompElement,'vAlign',false,identity,false,identity),defProperty(TameTableCompElement,'nowrap',false,identity,false,identity),TameTableCompElement.prototype.insertRow=function(index){if(!this.editable___)throw new
Error(NOT_EDITABLE);return requireIntIn(index,-1,this.node___.rows.length),defaultTameNode(this.node___.insertRow(index),this.editable___)},TameTableCompElement.prototype.deleteRow=function(index){if(!this.editable___)throw new
Error(NOT_EDITABLE);requireIntIn(index,-1,this.node___.rows.length),this.node___.deleteRow(index)},___.all2(___.grantTypedMethod,TameTableCompElement.prototype,['insertRow','deleteRow']);function
requireIntIn(idx,min,max){if(idx!==(idx|0)||idx<min||idx>max)throw new Error(INDEX_SIZE_ERROR)}function
TameTableRowElement(node,editable){TameTableCompElement.call(this,node,editable)}inertCtor(TameTableRowElement,TameTableCompElement,'HTMLTableRowElement'),TameTableRowElement.prototype.insertCell=function(index){if(!this.editable___)throw new
Error(NOT_EDITABLE);return requireIntIn(index,-1,this.node___.cells.length),defaultTameNode(this.node___.insertCell(index),this.editable___)},TameTableRowElement.prototype.deleteCell=function(index){if(!this.editable___)throw new
Error(NOT_EDITABLE);requireIntIn(index,-1,this.node___.cells.length),this.node___.deleteCell(index)},___.all2(___.grantTypedMethod,TameTableRowElement.prototype,['insertCell','deleteCell']);function
TameTableElement(node,editable){TameTableCompElement.call(this,node,editable),classUtils.exportFields(this,['tBodies','tHead','tFoot','cellPadding','cellSpacing','border'])}inertCtor(TameTableElement,TameTableCompElement,'HTMLTableElement'),TameTableElement.prototype.getTBodies___=function(){return tameNodeList(this.node___.tBodies,this.editable___,defaultTameNode)},TameTableElement.prototype.getTHead___=function(){return defaultTameNode(this.node___.tHead,this.editable___)},TameTableElement.prototype.getTFoot___=function(){return defaultTameNode(this.node___.tFoot,this.editable___)},TameTableElement.prototype.createTHead=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);return defaultTameNode(this.node___.createTHead(),this.editable___)},TameTableElement.prototype.deleteTHead=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);this.node___.deleteTHead()},TameTableElement.prototype.createTFoot=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);return defaultTameNode(this.node___.createTFoot(),this.editable___)},TameTableElement.prototype.deleteTFoot=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);this.node___.deleteTFoot()},TameTableElement.prototype.createCaption=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);return defaultTameNode(this.node___.createCaption(),this.editable___)},TameTableElement.prototype.deleteCaption=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);this.node___.deleteCaption()},TameTableElement.prototype.insertRow=function(index){if(!this.editable___)throw new
Error(NOT_EDITABLE);return requireIntIn(index,-1,this.node___.rows.length),defaultTameNode(this.node___.insertRow(index),this.editable___)},TameTableElement.prototype.deleteRow=function(index){if(!this.editable___)throw new
Error(NOT_EDITABLE);requireIntIn(index,-1,this.node___.rows.length),this.node___.deleteRow(index)};function
fromInt(x){return''+(x|0)}defAttributeAlias(TameTableElement,'cellPadding',Number,fromInt),defAttributeAlias(TameTableElement,'cellSpacing',Number,fromInt),defAttributeAlias(TameTableElement,'border',Number,fromInt),___.all2(___.grantTypedMethod,TameTableElement.prototype,['createTHead','deleteTHead','createTFoot','deleteTFoot','createCaption','deleteCaption','insertRow','deleteRow']);function
tameEvent(event){return event.TAMED_TWIN___?event.TAMED_TWIN___:new TameEvent(event)}function
TameEvent(event){assert(!!event),this.event___=this.FERAL_TWIN___=event,event.TAMED_TWIN___=this,TameEventMark.stamp.mark___(this),classUtils.exportFields(this,['type','target','pageX','pageY','altKey','ctrlKey','metaKey','shiftKey','button','screenX','screenY','currentTarget','relatedTarget','fromElement','toElement','srcElement','clientX','clientY','keyCode','which'])}inertCtor(TameEvent,Object,'Event'),TameEvent.prototype.getType___=function(){return bridal.untameEventType(String(this.event___.type))},TameEvent.prototype.getTarget___=function(){var
event=this.event___;return tameRelatedNode(event.target||event.srcElement,true,defaultTameNode)},TameEvent.prototype.getSrcElement___=function(){return tameRelatedNode(this.event___.srcElement,true,defaultTameNode)},TameEvent.prototype.getCurrentTarget___=function(){var
e=this.event___;return tameRelatedNode(e.currentTarget,true,defaultTameNode)},TameEvent.prototype.getRelatedTarget___=function(){var
e=this.event___,t=e.relatedTarget;return t||(e.type==='mouseout'?(t=e.toElement):e.type==='mouseover'&&(t=e.fromElement)),tameRelatedNode(t,true,defaultTameNode)},TameEvent.prototype.setRelatedTarget___=function(newValue){return newValue},TameEvent.prototype.getFromElement___=function(){return tameRelatedNode(this.event___.fromElement,true,defaultTameNode)},TameEvent.prototype.getToElement___=function(){return tameRelatedNode(this.event___.toElement,true,defaultTameNode)},TameEvent.prototype.getPageX___=function(){return Number(this.event___.pageX)},TameEvent.prototype.getPageY___=function(){return Number(this.event___.pageY)},TameEvent.prototype.stopPropagation=function(){this.event___.stopPropagation?this.event___.stopPropagation():(this.event___.cancelBubble=true)},TameEvent.prototype.preventDefault=function(){this.event___.preventDefault?this.event___.preventDefault():(this.event___.returnValue=false)},TameEvent.prototype.getAltKey___=function(){return Boolean(this.event___.altKey)},TameEvent.prototype.getCtrlKey___=function(){return Boolean(this.event___.ctrlKey)},TameEvent.prototype.getMetaKey___=function(){return Boolean(this.event___.metaKey)},TameEvent.prototype.getShiftKey___=function(){return Boolean(this.event___.shiftKey)},TameEvent.prototype.getButton___=function(){var
e=this.event___;return e.button&&Number(e.button)},TameEvent.prototype.getClientX___=function(){return Number(this.event___.clientX)},TameEvent.prototype.getClientY___=function(){return Number(this.event___.clientY)},TameEvent.prototype.getScreenX___=function(){return Number(this.event___.screenX)},TameEvent.prototype.getScreenY___=function(){return Number(this.event___.screenY)},TameEvent.prototype.getWhich___=function(){var
w=this.event___.which;return w&&Number(w)},TameEvent.prototype.getKeyCode___=function(){var
kc=this.event___.keyCode;return kc&&Number(kc)},TameEvent.prototype.toString=___.markFuncFreeze(function(){return'[Fake Event]'}),___.all2(___.grantTypedMethod,TameEvent.prototype,['stopPropagation','preventDefault']);function
TameCustomHTMLEvent(event){TameEvent.call(this,event),this.properties___={}}___.extend(TameCustomHTMLEvent,TameEvent),TameCustomHTMLEvent.prototype.initEvent=function(type,bubbles,cancelable){bridal.initEvent(this.event___,type,bubbles,cancelable)},TameCustomHTMLEvent.prototype.handleRead___=function(name){var
handlerName;return name=String(name),endsWith__.test(name)?void 0:(handlerName=name+'_getter___',this[handlerName]?this[handlerName]():___.hasOwnProp(this.event___.properties___,name)?this.event___.properties___[name]:void
0)},TameCustomHTMLEvent.prototype.handleCall___=function(name,args){var handlerName;name=String(name);if(endsWith__.test(name))throw new
Error(INVALID_SUFFIX);handlerName=name+'_handler___';if(this[handlerName])return this[handlerName].call(this,args);if(___.hasOwnProp(this.event___.properties___,name))return this.event___.properties___[name].call(this,args);throw new
TypeError(name+' is not a function.')},TameCustomHTMLEvent.prototype.handleSet___=function(name,val){var
handlerName;name=String(name);if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);return handlerName=name+'_setter___',this[handlerName]?this[handlerName](val):(this.event___.properties___||(this.event___.properties___={}),this[name+'_c___']=this,this[name+'_v___']=false,this[name+'_e___']=this,this.event___.properties___[name]=val)},TameCustomHTMLEvent.prototype.handleDelete___=function(name){var
handlerName;name=String(name);if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);return handlerName=name+'_deleter___',this[handlerName]?this[handlerName]():this.event___.properties___?delete
this.event___.properties___[name]&&delete this[name+'_c___']&&delete this[name+'_e___']&&delete
this[name+'_v___']:true},TameCustomHTMLEvent.prototype.handleEnum___=function(ownFlag){return this.event___.properties___?___.allKeys(this.event___.properties___):[]},TameCustomHTMLEvent.prototype.toString=___.markFuncFreeze(function(){return'[Fake CustomEvent]'}),___.grantTypedMethod(TameCustomHTMLEvent.prototype,'initEvent');function
TameHTMLDocument(doc,body,domain,editable){var tameBody,tameBodyElement,tameDoc,tameHeadElement,tameHtmlElement,tameTitleElement,title;TamePseudoNode.call(this,editable),this.doc___=doc,this.body___=body,this.domain___=domain,this.onLoadListeners___=[],tameDoc=this,tameBody=defaultTameNode(body,editable),this.tameBody___=tameBody,tameBodyElement=new
TamePseudoElement('BODY',this,function(){return tameNodeList(body.childNodes,editable,defaultTameNode)},function(){return tameHtmlElement},function(){return tameInnerHtml(body.innerHTML)},tameBody,editable),___.forOwnKeys({'appendChild':0,'removeChild':0,'insertBefore':0,'replaceChild':0},___.markFuncFreeze(function(k){tameBodyElement[k]=tameBody[k].bind(tameBody),___.grantFunc(tameBodyElement,k)})),title=doc.createTextNode(body.getAttribute('title')||''),tameTitleElement=new
TamePseudoElement('TITLE',this,function(){return[defaultTameNode(title,false)]},function(){return tameHeadElement},function(){return html.escapeAttrib(title.nodeValue)},null,editable),tameHeadElement=new
TamePseudoElement('HEAD',this,function(){return[tameTitleElement]},function(){return tameHtmlElement},function(){return'<title>'+tameTitleElement.getInnerHTML___()+'</title>'},null,editable),tameHtmlElement=new
TamePseudoElement('HTML',this,function(){return[tameHeadElement,tameBodyElement]},function(){return tameDoc},function(){return'<head>'+tameHeadElement.getInnerHTML___()+'</head><body>'+tameBodyElement.getInnerHTML___()+'</body>'},tameBody,editable),body.contains&&(tameHtmlElement.contains=function(other){var
otherNode;return other=TameNodeT.coerce(other),otherNode=other.node___,body.contains(otherNode)},___.grantFunc(tameHtmlElement,'contains')),'function'===typeof
body.compareDocumentPosition&&(tameHtmlElement.compareDocumentPosition=function(other){var
bitmask,otherNode;return other=TameNodeT.coerce(other),otherNode=other.node___,otherNode?(bitmask=+body.compareDocumentPosition(otherNode),bitmask&31):0},___.hasOwnProp(tameHtmlElement,'contains')||(tameHtmlElement.contains=(function(other){var
docPos=this.compareDocumentPosition(other);return!(!(docPos&16)&&docPos)}).bind(tameHtmlElement),___.grantFunc(tameHtmlElement,'contains')),___.grantFunc(tameHtmlElement,'compareDocumentPosition')),this.documentElement___=tameHtmlElement,classUtils.exportFields(this,['documentElement','body','title','domain','forms','compatMode'])}inertCtor(TameHTMLDocument,TamePseudoNode,'HTMLDocument'),TameHTMLDocument.prototype.getNodeType___=function(){return 9},TameHTMLDocument.prototype.getNodeName___=function(){return'#document'},TameHTMLDocument.prototype.getNodeValue___=function(){return null},TameHTMLDocument.prototype.getChildNodes___=function(){return[this.documentElement___]},TameHTMLDocument.prototype.getAttributes___=function(){return[]},TameHTMLDocument.prototype.getParentNode___=function(){return null},TameHTMLDocument.prototype.getElementsByTagName=function(tagName){var
nodes;tagName=String(tagName).toLowerCase();switch(tagName){case'body':return fakeNodeList([this.getBody___()]);case'head':return fakeNodeList([this.getHead___()]);case'title':return fakeNodeList([this.getTitle___()]);case'html':return fakeNodeList([this.getDocumentElement___()]);default:return nodes=tameGetElementsByTagName(this.body___,tagName,this.editable___),tagName==='*'&&(nodes.unshift(this.getBody___()),nodes.unshift(this.getTitle___()),nodes.unshift(this.getHead___()),nodes.unshift(this.getDocumentElement___())),nodes}},TameHTMLDocument.prototype.getDocumentElement___=function(){return this.documentElement___},TameHTMLDocument.prototype.getBody___=function(){return this.documentElement___.getLastChild___()},TameHTMLDocument.prototype.getHead___=function(){return this.documentElement___.getFirstChild___()},TameHTMLDocument.prototype.getTitle___=function(){return this.getHead___().getFirstChild___()},TameHTMLDocument.prototype.getDomain___=function(){return this.domain___},TameHTMLDocument.prototype.getElementsByClassName=function(className){return tameGetElementsByClassName(this.body___,className,this.editable___)},TameHTMLDocument.prototype.addEventListener=function(name,listener,useCapture){return this.tameBody___.addEventListener(name,listener,useCapture)},TameHTMLDocument.prototype.removeEventListener=function(name,listener,useCapture){return this.tameBody___.removeEventListener(name,listener,useCapture)},TameHTMLDocument.prototype.createComment=function(text){return defaultTameNode(this.doc___.createComment(' '),true)},TameHTMLDocument.prototype.createDocumentFragment=function(){if(!this.editable___)throw new
Error(NOT_EDITABLE);return defaultTameNode(this.doc___.createDocumentFragment(),true)},TameHTMLDocument.prototype.createElement=function(tagName){var
attribs,flags,i,newEl;if(!this.editable___)throw new Error(NOT_EDITABLE);tagName=String(tagName).toLowerCase();if(!html4.ELEMENTS.hasOwnProperty(tagName))throw new
Error(UNKNOWN_TAGNAME+'['+tagName+']');flags=html4.ELEMENTS[tagName];if(flags&html4.eflags.UNSAFE&&!(flags&html4.eflags.SCRIPT))return ___.log(UNSAFE_TAGNAME+'['+tagName+']: no action performed'),null;newEl=this.doc___.createElement(tagName),'canvas'==tagName&&bridal.initCanvasElement(newEl);if(elementPolicies.hasOwnProperty(tagName)){attribs=elementPolicies[tagName]([]);if(attribs)for(i=0;i<attribs.length;i+=2)bridal.setAttribute(newEl,attribs[i],attribs[i+1])}return defaultTameNode(newEl,true)},TameHTMLDocument.prototype.createTextNode=function(text){if(!this.editable___)throw new
Error(NOT_EDITABLE);return defaultTameNode(this.doc___.createTextNode(text!==null&&text!==void
0?''+text:''),true)},TameHTMLDocument.prototype.getElementById=function(id){var
node;return id+=idSuffix,node=this.doc___.getElementById(id),defaultTameNode(node,this.editable___)},TameHTMLDocument.prototype.getForms___=function(){var
tameForms=[],i,tameForm;for(i=0;i<this.doc___.forms.length;++i)tameForm=tameRelatedNode(this.doc___.forms.item(i),this.editable___,defaultTameNode),tameForm!==null&&tameForms.push(tameForm);return fakeNodeList(tameForms)},TameHTMLDocument.prototype.getCompatMode___=function(){return'CSS1Compat'},TameHTMLDocument.prototype.toString=___.markFuncFreeze(function(){return'[Fake Document]'}),TameHTMLDocument.prototype.createEvent=function(type){var
document,rawEvent,tamedEvent;type=String(type);if(type!=='HTMLEvents')throw new Error('Unrecognized event type '+type);return document=this.doc___,document.createEvent?(rawEvent=document.createEvent(type)):(rawEvent=document.createEventObject(),rawEvent.eventType='ondataavailable'),rawEvent.creatorDoc___=document,tamedEvent=new
TameCustomHTMLEvent(rawEvent),tamedEvent},TameHTMLDocument.prototype.getOwnerDocument___=function(){return null},TameHTMLDocument.prototype.signalLoaded___=function(){var
onload=imports.window&&imports.window.v___('onload'),i,listeners,n;onload&&setTimeout(function(){___.callPub(onload,'call',[___.USELESS])},0),listeners=this.onLoadListeners___,this.onLoadListeners___=[];for(i=0,n=listeners.length;i<n;++i)(function(listener){setTimeout(function(){___.callPub(listener,'call',[___.USELESS])},0)})(listeners[i])},___.all2(___.grantTypedMethod,TameHTMLDocument.prototype,['addEventListener','removeEventListener','createComment','createDocumentFragment','createElement','createEvent','createTextNode','getElementById','getElementsByClassName','getElementsByTagName']),imports.handlers___=[],imports.TameHTMLDocument___=TameHTMLDocument,imports.tameNode___=defaultTameNode,imports.feralNode___=___.markFuncFreeze(function(tameNode){return tameNode=TameNodeT.coerce(tameNode),tameNode.node___}),imports.tameEvent___=tameEvent,imports.blessHtml___=blessHtml,imports.blessCss___=function(var_args){var
arr=[],i,n;for(i=0,n=arguments.length;i<n;++i)arr[i]=arguments[i];return cssSealerUnsealerPair.seal(arr)},imports.htmlAttr___=function(s){return html.escapeAttrib(String(s||''))},imports.html___=safeHtml,imports.rewriteUri___=function(uri,mimeType){var
s=rewriteAttribute(null,null,html4.atype.URI,uri);if(!s)throw new Error;return s},imports.suffix___=function(nmtokens){var
p=String(nmtokens).replace(/^\s+|\s+$/g,'').split(/\s+/g),out=[],i,nmtoken;for(i=0;i<p.length;++i){nmtoken=rewriteAttribute(null,null,html4.atype.ID,p[i]);if(!nmtoken)throw new
Error(nmtokens);out.push(nmtoken)}return out.join(' ')},imports.ident___=function(nmtokens){var
p=String(nmtokens).replace(/^\s+|\s+$/g,'').split(/\s+/g),out=[],i,nmtoken;for(i=0;i<p.length;++i){nmtoken=rewriteAttribute(null,null,html4.atype.CLASSES,p[i]);if(!nmtoken)throw new
Error(nmtokens);out.push(nmtoken)}return out.join(' ')},imports.rewriteUriInCss___=function(value){return value?uriCallback.rewrite(value,html4.ueffects.SAME_DOCUMENT,html4.ltypes.SANDBOXED,{}):void
0},imports.rewriteUriInAttribute___=function(value,tagName,attribName){return value?uriCallback.rewrite(value,getUriEffect(tagName,attribName),getLoaderType(tagName,attribName),{'XML_ATTR':attribName}):void
0},allCssProperties=domitaModules.CssPropertiesCollection(css.properties,document.documentElement,css),historyInsensitiveCssProperties=domitaModules.CssPropertiesCollection(css.HISTORY_INSENSITIVE_STYLE_WHITELIST,document.documentElement,css);function
TameStyle(style,editable,tameEl){this.style___=style,this.editable___=editable,this.tameEl___=tameEl}inertCtor(TameStyle,Object,'Style'),TameStyle.prototype.readByCanonicalName___=function(canonName){return String(this.style___[canonName]||'')},TameStyle.prototype.writeByCanonicalName___=function(canonName,val){this.style___[canonName]=val},TameStyle.prototype.allowProperty___=function(cssPropertyName){return allCssProperties.isCssProp(cssPropertyName)},TameStyle.prototype.handleRead___=function(stylePropertyName){var
self=this,canonName,cssPropertyName;return String(stylePropertyName)==='getPropertyValue'?___.markFuncFreeze(function(args){return TameStyle.prototype.getPropertyValue.call(self,args)}):!this.style___||!allCssProperties.isCanonicalProp(stylePropertyName)?void
0:(cssPropertyName=allCssProperties.getCssPropFromCanonical(stylePropertyName),this.allowProperty___(cssPropertyName)?(canonName=allCssProperties.getCanonicalPropFromCss(cssPropertyName),this.readByCanonicalName___(canonName)):void
0)},TameStyle.prototype.handleCall___=function(name,args){if(String(name)==='getPropertyValue')return TameStyle.prototype.getPropertyValue.call(this,args);throw'Cannot handle method '+String(name)},TameStyle.prototype.getPropertyValue=function(cssPropertyName){var
canonName;return cssPropertyName=String(cssPropertyName||'').toLowerCase(),this.allowProperty___(cssPropertyName)?(canonName=allCssProperties.getCanonicalPropFromCss(cssPropertyName),this.readByCanonicalName___(canonName)):''},TameStyle.prototype.handleSet___=function(stylePropertyName,value){var
canonName,cssPropertyName,pattern,val;if(!this.editable___)throw new Error('style not editable');stylePropertyName=String(stylePropertyName);if(stylePropertyName==='cssText')return typeof
this.style___.cssText==='string'?(this.style___.cssText=sanitizeStyleAttrValue(value)):this.tameEl___.setAttribute('style',value),value;if(!allCssProperties.isCanonicalProp(stylePropertyName))throw new
Error('Unknown CSS property name '+stylePropertyName);cssPropertyName=allCssProperties.getCssPropFromCanonical(stylePropertyName);if(!this.allowProperty___(cssPropertyName))return;pattern=css.properties[cssPropertyName];if(!pattern)throw new
Error('style not editable');val=''+(value||''),val=val.replace(/\burl\s*\(\s*\"([^\"]*)\"\s*\)/gi,function(_,url){var
decodedUrl=decodeCssString(url),rewrittenUrl=uriCallback?uriCallback.rewrite(decodedUrl,html4.ueffects.SAME_DOCUMENT,html4.ltypes.SANDBOXED,{'CSS_PROP':cssPropertyName}):null;return rewrittenUrl||(rewrittenUrl='about:blank'),'url(\"'+rewrittenUrl.replace(/[\"\'\{\}\(\):\\]/g,function(ch){return'\\'+ch.charCodeAt(0).toString(16)+' '})+'\")'});if(val&&!pattern.test(val+' '))throw new
Error('bad value `'+val+'` for CSS property '+stylePropertyName);return canonName=allCssProperties.getCanonicalPropFromCss(cssPropertyName),this.writeByCanonicalName___(canonName,val),value},TameStyle.prototype.toString=___.markFuncFreeze(function(){return'[Fake Style]'});function
isNestedInAnchor(rawElement){for(;rawElement&&rawElement!=pseudoBodyNode;rawElement=rawElement.parentNode)if(rawElement.tagName.toLowerCase()==='a')return true;return false}function
TameComputedStyle(rawElement,pseudoElement){rawElement=rawElement||document.createElement('div'),TameStyle.call(this,bridal.getComputedStyle(rawElement,pseudoElement),false),this.rawElement___=rawElement,this.pseudoElement___=pseudoElement}___.extend(TameComputedStyle,TameStyle),TameComputedStyle.prototype.readByCanonicalName___=function(canonName){var
canReturnDirectValue=historyInsensitiveCssProperties.isCanonicalProp(canonName)||!isNestedInAnchor(this.rawElement___);return canReturnDirectValue?TameStyle.prototype.readByCanonicalName___.call(this,canonName):new
TameComputedStyle(pseudoBodyNode,this.pseudoElement___).readByCanonicalName___(canonName)},TameComputedStyle.prototype.writeByCanonicalName___=function(canonName){throw'Computed styles not editable: This code should be unreachable'},TameComputedStyle.prototype.toString=___.markFuncFreeze(function(){return'[Fake Computed Style]'}),nodeClasses.XMLHttpRequest=domitaModules.TameXMLHttpRequest(domitaModules.XMLHttpRequestCtor(window.XMLHttpRequest,window.ActiveXObject),uriCallback),imports.cssNumber___=function(num){if('number'===typeof
num&&isFinite(num)&&!isNaN(num))return''+num;throw new Error(num)},imports.cssColor___=function(color){var
hex;if('number'!==typeof color||color!=(color|0))throw new Error(color);return hex='0123456789abcdef','#'+hex.charAt(color>>20&15)+hex.charAt(color>>16&15)+hex.charAt(color>>12&15)+hex.charAt(color>>8&15)+hex.charAt(color>>4&15)+hex.charAt(color&15)},imports.cssUri___=function(uri,mimeType){var
s=rewriteAttribute(null,null,html4.atype.URI,uri);if(!s)throw new Error;return s},imports.emitCss___=function(cssText){this.getCssContainer___().appendChild(bridal.createStylesheet(document,cssText))},imports.getCssContainer___=function(){return(document.getElementsByTagName('head'))[0]};if(!/^-/.test(idSuffix))throw new
Error('id suffix \"'+idSuffix+'\" must start with \"-\"');if(!/___$/.test(idSuffix))throw new
Error('id suffix \"'+idSuffix+'\" must end with \"___\"');idClass=idSuffix.substring(1),idClassPattern=new
RegExp('(?:^|\\s)'+idClass.replace(/[\.$]/g,'\\$&')+'(?:\\s|$)'),imports.getIdClass___=function(){return idClass},bridal.setAttribute(pseudoBodyNode,'class',bridal.getAttribute(pseudoBodyNode,'class')+' '+idClass+' vdoc-body___'),imports.domitaTrace___=0,imports.getDomitaTrace=___.markFuncFreeze(function(){return imports.domitaTrace___}),imports.setDomitaTrace=___.markFuncFreeze(function(x){imports.domitaTrace___=x});function
assignToImports(target,name,value){target.DefineOwnProperty___?target.DefineOwnProperty___(name,{'value':value,'writable':true,'enumerable':true,'configurable':true}):(target[name]=value)}imports.setTimeout=tameSetTimeout,imports.setInterval=tameSetInterval,imports.clearTimeout=tameClearTimeout,imports.clearInterval=tameClearInterval,tameDocument=new
TameHTMLDocument(document,pseudoBodyNode,String(optPseudoWindowLocation.hostname||'nosuchhost.fake'),true),assignToImports(imports,'document',tameDocument),imports.document.tameNode___=imports.tameNode___,imports.document.feralNode___=imports.feralNode___,imports.document.tameNode___=imports.tameNode___,imports.document.feralNode___=imports.feralNode___,tameLocation=___.primFreeze({'toString':___.markFuncFreeze(function(){return tameLocation.href}),'href':String(optPseudoWindowLocation.href||'http://nosuchhost.fake:80/'),'hash':String(optPseudoWindowLocation.hash||''),'host':String(optPseudoWindowLocation.host||'nosuchhost.fake:80'),'hostname':String(optPseudoWindowLocation.hostname||'nosuchhost.fake'),'pathname':String(optPseudoWindowLocation.pathname||'/'),'port':String(optPseudoWindowLocation.port||'80'),'protocol':String(optPseudoWindowLocation.protocol||'http:'),'search':String(optPseudoWindowLocation.search||'')}),tameNavigator=___.primFreeze({'appName':String(window.navigator.appName),'appVersion':String(window.navigator.appVersion),'platform':String(window.navigator.platform),'userAgent':String(window.navigator.userAgent),'cajaVersion':'1.0'}),PSEUDO_ELEMENT_WHITELIST={'first-letter':true,'first-line':true};function
TameWindow(){this.properties___={},this.FERAL_TWIN___=this.TAMED_TWIN___=this}function
TameDefaultView(){this.document=tameDocument,assert(tameDocument.editable___),this.FERAL_TWIN___=this.TAMED_TWIN___=this,___.grantRead(this,'document')}___.forOwnKeys({'document':tameDocument,'location':tameLocation,'navigator':tameNavigator,'setTimeout':tameSetTimeout,'setInterval':tameSetInterval,'clearTimeout':tameClearTimeout,'clearInterval':tameClearInterval,'addEventListener':___.markFuncFreeze(function(name,listener,useCapture){name==='load'?(classUtils.ensureValidCallback(listener),tameDocument.onLoadListeners___.push(listener)):tameDocument.addEventListener(name,listener,useCapture)}),'removeEventListener':___.markFuncFreeze(function(name,listener,useCapture){var
i,k,listeners,n;if(name==='load'){listeners=tameDocument.onLoadListeners___,k=0;for(i=0,n=listeners.length;i<n;++i)listeners[i-k]=listeners[i],listeners[i]===listener&&++k;listeners.length-=k}else
tameDocument.removeEventListener(name,listener,useCapture)}),'dispatchEvent':___.markFuncFreeze(function(evt){})},___.markFuncFreeze(function(propertyName,value){TameWindow.prototype[propertyName]=value,___.grantRead(TameWindow.prototype,propertyName)})),___.forOwnKeys({'scrollBy':___.markFuncFreeze(function(dx,dy){(dx||dy)&&makeScrollable(tameDocument.body___),tameScrollBy(tameDocument.body___,dx,dy)}),'scrollTo':___.markFuncFreeze(function(x,y){makeScrollable(tameDocument.body___),tameScrollTo(tameDocument.body___,x,y)}),'resizeTo':___.markFuncFreeze(function(w,h){tameResizeTo(tameDocument.body___,w,h)}),'resizeBy':___.markFuncFreeze(function(dw,dh){tameResizeBy(tameDocument.body___,dw,dh)}),'getComputedStyle':___.markFuncFreeze(function(tameElement,pseudoElement){tameElement=TameNodeT.coerce(tameElement),pseudoElement=pseudoElement===null||pseudoElement===void
0||''===pseudoElement?void 0:String(pseudoElement).toLowerCase();if(pseudoElement!==void
0&&!PSEUDO_ELEMENT_WHITELIST.hasOwnProperty(pseudoElement))throw new Error('Bad pseudo element '+pseudoElement);return new
TameComputedStyle(tameElement.node___,pseudoElement)})},___.markFuncFreeze(function(propertyName,value){TameWindow.prototype[propertyName]=value,___.grantRead(TameWindow.prototype,propertyName),TameDefaultView.prototype[propertyName]=value,___.grantRead(TameDefaultView.prototype,propertyName)})),Object.prototype.DefineOwnProperty___||(TameWindow.prototype.handleRead___=function(name){var
handlerName;return name=String(name),endsWith__.test(name)?void 0:(handlerName=name+'_getter___',this[handlerName]?this[handlerName]():___.hasOwnProp(this,name)?this[name]:void
0)},TameWindow.prototype.handleSet___=function(name,val){var handlerName;name=String(name);if(endsWith__.test(name))throw new
Error(INVALID_SUFFIX);return handlerName=name+'_setter___',this[handlerName]?this[handlerName](val):(this[name+'_c___']=this,this[name+'_v___']=false,this[name+'_e___']=this,this[name]=val)},TameWindow.prototype.handleDelete___=function(name){var
handlerName;name=String(name);if(endsWith__.test(name))throw new Error(INVALID_SUFFIX);return handlerName=name+'_deleter___',this[handlerName]?this[handlerName]():delete
this[name+'_c___']&&delete this[name+'_e___']&&delete this[name+'_v___']}),tameWindow=new
TameWindow,tameDefaultView=new TameDefaultView(tameDocument.editable___);function
propertyOnlyHasGetter(_){throw new TypeError('setting a property that only has a getter')}___.forOwnKeys({'clientLeft':{'get':function(){return tameDocument.body___.clientLeft}},'clientTop':{'get':function(){return tameDocument.body___.clientTop}},'clientHeight':{'get':function(){return tameDocument.body___.clientHeight}},'clientWidth':{'get':function(){return tameDocument.body___.clientWidth}},'offsetLeft':{'get':function(){return tameDocument.body___.offsetLeft}},'offsetTop':{'get':function(){return tameDocument.body___.offsetTop}},'offsetHeight':{'get':function(){return tameDocument.body___.offsetHeight}},'offsetWidth':{'get':function(){return tameDocument.body___.offsetWidth}},'pageXOffset':{'get':function(){return tameDocument.body___.scrollLeft}},'pageYOffset':{'get':function(){return tameDocument.body___.scrollTop}},'scrollLeft':{'get':function(){return tameDocument.body___.scrollLeft},'set':function(x){return tameDocument.body___.scrollLeft=+x,x}},'scrollTop':{'get':function(){return tameDocument.body___.scrollTop},'set':function(y){return tameDocument.body___.scrollTop=+y,y}},'scrollHeight':{'get':function(){return tameDocument.body___.scrollHeight}},'scrollWidth':{'get':function(){return tameDocument.body___.scrollWidth}}},___.markFuncFreeze(function(propertyName,def){var
views=[tameWindow,tameDefaultView,tameDocument.getBody___(),tameDocument.getDocumentElement___()],setter=def.set||propertyOnlyHasGetter,getter=def.get,i,view;for(i=views.length;--i>=0;)view=views[i],___.useGetHandler(view,propertyName,getter),___.useSetHandler(view,propertyName,setter)})),___.forOwnKeys({'innerHeight':function(){return tameDocument.body___.clientHeight},'innerWidth':function(){return tameDocument.body___.clientWidth},'outerHeight':function(){return tameDocument.body___.clientHeight},'outerWidth':function(){return tameDocument.body___.clientWidth}},___.markFuncFreeze(function(propertyName,handler){___.useGetHandler(tameWindow,propertyName,handler),___.useGetHandler(tameDefaultView,propertyName,handler)})),windowProps=['top','self','opener','parent','window'],wpLen=windowProps.length;for(i=0;i<wpLen;++i)prop=windowProps[i],Object.prototype.DefineOwnProperty___?tameWindow.DefineOwnProperty___(prop,{'value':tameWindow,'writable':true,'enumerable':true,'configurable':true}):(tameWindow[prop]=tameWindow,___.grantRead(tameWindow,prop));tameDocument.editable___&&(tameDocument.defaultView=tameDefaultView,___.grantRead(tameDocument,'defaultView'),tameDocument.sanitizeAttrs___=sanitizeAttrs),___.forOwnKeys(nodeClasses,___.markFuncFreeze(function(name,ctor){___.primFreeze(ctor),Object.prototype.DefineOwnProperty___?tameWindow.DefineOwnProperty___(name,{'value':ctor,'writable':true,'enumerable':true,'configurable':true}):(tameWindow[name]=ctor,___.grantRead(tameWindow,name))})),defaultNodeClasses=['HTMLAppletElement','HTMLAreaElement','HTMLBaseElement','HTMLBaseFontElement','HTMLBodyElement','HTMLBRElement','HTMLButtonElement','HTMLDirectoryElement','HTMLDivElement','HTMLDListElement','HTMLFieldSetElement','HTMLFontElement','HTMLFrameElement','HTMLFrameSetElement','HTMLHeadElement','HTMLHeadingElement','HTMLHRElement','HTMLHtmlElement','HTMLIFrameElement','HTMLIsIndexElement','HTMLLabelElement','HTMLLegendElement','HTMLLIElement','HTMLLinkElement','HTMLMapElement','HTMLMenuElement','HTMLMetaElement','HTMLModElement','HTMLObjectElement','HTMLOListElement','HTMLOptGroupElement','HTMLOptionElement','HTMLParagraphElement','HTMLParamElement','HTMLPreElement','HTMLQuoteElement','HTMLScriptElement','HTMLSelectElement','HTMLStyleElement','HTMLTableCaptionElement','HTMLTableCellElement','HTMLTableColElement','HTMLTableElement','HTMLTableRowElement','HTMLTableSectionElement','HTMLTextAreaElement','HTMLTitleElement','HTMLUListElement'],defaultNodeClassCtor=nodeClasses.Element;for(i=0;i<defaultNodeClasses.length;++i)Object.prototype.DefineOwnProperty___?tameWindow.DefineOwnProperty___(defaultNodeClasses[i],{'value':defaultNodeClassCtor,'writable':true,'enumerable':true,'configurable':true}):(tameWindow[defaultNodeClasses[i]]=defaultNodeClassCtor,___.grantRead(tameWindow,defaultNodeClasses[i]));outers=imports.outers,___.isJSONContainer(outers)?(___.forOwnKeys(outers,___.markFuncFreeze(function(k,v){k
in tameWindow||(tameWindow[k]=v,___.grantRead(tameWindow,k))})),imports.outers=tameWindow):assignToImports(imports,'window',tameWindow)}return attachDocumentStub})();function
plugin_dispatchEvent___(thisNode,event,pluginId,handler){var imports,node;return event=event||bridal.getWindow(thisNode).event,event.currentTarget||(event.currentTarget=thisNode),imports=___.getImports(pluginId),node=imports.tameNode___(thisNode,true),plugin_dispatchToHandler___(pluginId,handler,[node,imports.tameEvent___(event),node])}function
plugin_dispatchToHandler___(pluginId,handler,args){var sig=(''+handler).match(/^function\b[^\)]*\)/),imports=___.getImports(pluginId),$v,fn,tameWin;imports.domitaTrace___&1&&___.log('Dispatch pluginId='+pluginId+', handler='+(sig?sig[0]:handler)+', args='+args);switch(typeof
handler){case'number':handler=imports.handlers___[handler];break;case'string':fn=void
0,tameWin=void 0,$v=___.readPub(imports,'$v'),$v&&(fn=___.callPub($v,'ros',[handler]),fn||(tameWin=___.callPub($v,'ros',['window']))),fn||(fn=___.readPub(imports,handler),fn||(tameWin||(tameWin=___.readPub(imports,'window')),tameWin&&(fn=___.readPub(tameWin,handler)))),handler=fn&&typeof
fn.call==='function'?fn:void 0;break;case'function':case'object':break;default:throw new
Error('Expected function as event handler, not '+typeof handler)}___.startCallerStack&&___.startCallerStack(),imports.isProcessingEvent___=true;try{return ___.callPub(handler,'call',args)}catch(ex){throw ex&&ex.cajitaStack___&&'undefined'!==typeof
console&&console.error('Event dispatch %s: %s',handler,ex.cajitaStack___.join('\n')),ex}finally{imports.isProcessingEvent___=false}}URI=(function(){var
EXTRA_PARENT_PATHS_RE,PARENT_DIRECTORY_HANDLER,PARENT_DIRECTORY_HANDLER_RE,URI_DISALLOWED_IN_PATH_,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_,URI_RE_;function
parse(uriStr){var m=(''+uriStr).match(URI_RE_);return m?new URI(nullIfAbsent(m[1]),nullIfAbsent(m[2]),nullIfAbsent(m[3]),nullIfAbsent(m[4]),nullIfAbsent(m[5]),nullIfAbsent(m[6]),nullIfAbsent(m[7])):null}function
create(scheme,credentials,domain,port,path,query,fragment){var uri=new URI(encodeIfExists2(scheme,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),encodeIfExists2(credentials,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),encodeIfExists(domain),port>0?port.toString():null,encodeIfExists2(path,URI_DISALLOWED_IN_PATH_),null,encodeIfExists(fragment));return query&&('string'===typeof
query?uri.setRawQuery(query.replace(/[^?&=0-9A-Za-z_\-~.%]/g,encodeOne)):uri.setAllParameters(query)),uri}function
encodeIfExists(unescapedPart){return'string'==typeof unescapedPart?encodeURIComponent(unescapedPart):null}function
encodeIfExists2(unescapedPart,extra){return'string'==typeof unescapedPart?encodeURI(unescapedPart).replace(extra,encodeOne):null}function
encodeOne(ch){var n=ch.charCodeAt(0);return'%'+'0123456789ABCDEF'.charAt(n>>4&15)+'0123456789ABCDEF'.charAt(n&15)}function
normPath(path){return path.replace(/(^|\/)\.(?:\/|$)/g,'$1').replace(/\/{2,}/g,'/')}PARENT_DIRECTORY_HANDLER=new
RegExp('(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)'),PARENT_DIRECTORY_HANDLER_RE=new
RegExp(PARENT_DIRECTORY_HANDLER),EXTRA_PARENT_PATHS_RE=/^(?:\.\.\/)*(?:\.\.$)?/;function
collapse_dots(path){var p,q,r;if(path===null)return null;p=normPath(path),r=PARENT_DIRECTORY_HANDLER_RE;for(;(q=p.replace(r,'$1'))!=p;p=q);return p}function
resolve(baseUri,relativeUri){var absoluteUri=baseUri.clone(),overridden=relativeUri.hasScheme(),absRawPath,rawPath,simplifiedPath,slash;return overridden?absoluteUri.setRawScheme(relativeUri.getRawScheme()):(overridden=relativeUri.hasCredentials()),overridden?absoluteUri.setRawCredentials(relativeUri.getRawCredentials()):(overridden=relativeUri.hasDomain()),overridden?absoluteUri.setRawDomain(relativeUri.getRawDomain()):(overridden=relativeUri.hasPort()),rawPath=relativeUri.getRawPath(),simplifiedPath=collapse_dots(rawPath),overridden?(absoluteUri.setPort(relativeUri.getPort()),simplifiedPath=simplifiedPath&&simplifiedPath.replace(EXTRA_PARENT_PATHS_RE,'')):(overridden=!!rawPath,overridden?simplifiedPath.charCodeAt(0)!==47&&(absRawPath=collapse_dots(absoluteUri.getRawPath()||'').replace(EXTRA_PARENT_PATHS_RE,''),slash=absRawPath.lastIndexOf('/')+1,simplifiedPath=collapse_dots((slash?absRawPath.substring(0,slash):'')+collapse_dots(rawPath)).replace(EXTRA_PARENT_PATHS_RE,'')):(simplifiedPath=simplifiedPath&&simplifiedPath.replace(EXTRA_PARENT_PATHS_RE,''),simplifiedPath!==rawPath&&absoluteUri.setRawPath(simplifiedPath))),overridden?absoluteUri.setRawPath(simplifiedPath):(overridden=relativeUri.hasQuery()),overridden?absoluteUri.setRawQuery(relativeUri.getRawQuery()):(overridden=relativeUri.hasFragment()),overridden&&absoluteUri.setRawFragment(relativeUri.getRawFragment()),absoluteUri}function
URI(rawScheme,rawCredentials,rawDomain,port,rawPath,rawQuery,rawFragment){this.scheme_=rawScheme,this.credentials_=rawCredentials,this.domain_=rawDomain,this.port_=port,this.path_=rawPath,this.query_=rawQuery,this.fragment_=rawFragment,this.paramCache_=null}URI.prototype.toString=function(){var
out=[];return null!==this.scheme_&&out.push(this.scheme_,':'),null!==this.domain_&&(out.push('//'),null!==this.credentials_&&out.push(this.credentials_,'@'),out.push(this.domain_),null!==this.port_&&out.push(':',this.port_.toString())),null!==this.path_&&out.push(this.path_),null!==this.query_&&out.push('?',this.query_),null!==this.fragment_&&out.push('#',this.fragment_),out.join('')},URI.prototype.clone=function(){return new
URI(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},URI.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_)},URI.prototype.getRawScheme=function(){return this.scheme_},URI.prototype.setScheme=function(newScheme){return this.scheme_=encodeIfExists2(newScheme,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),this},URI.prototype.setRawScheme=function(newScheme){return this.scheme_=newScheme?newScheme:null,this},URI.prototype.hasScheme=function(){return null!==this.scheme_},URI.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},URI.prototype.getRawCredentials=function(){return this.credentials_},URI.prototype.setCredentials=function(newCredentials){return this.credentials_=encodeIfExists2(newCredentials,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),this},URI.prototype.setRawCredentials=function(newCredentials){return this.credentials_=newCredentials?newCredentials:null,this},URI.prototype.hasCredentials=function(){return null!==this.credentials_},URI.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},URI.prototype.getRawDomain=function(){return this.domain_},URI.prototype.setDomain=function(newDomain){return this.domain_=newDomain?encodeURIComponent(newDomain):null,this},URI.prototype.setRawDomain=function(newDomain){return this.domain_=newDomain?newDomain:null,this},URI.prototype.hasDomain=function(){return null!==this.domain_},URI.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},URI.prototype.setPort=function(newPort){if(newPort){newPort=Number(newPort);if(newPort!==(newPort&65535))throw new
Error('Bad port number '+newPort);this.port_=''+newPort}else this.port_=null;return this},URI.prototype.hasPort=function(){return null!==this.port_},URI.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},URI.prototype.getRawPath=function(){return this.path_},URI.prototype.setPath=function(newPath){return this.path_=encodeIfExists2(newPath,URI_DISALLOWED_IN_PATH_),this},URI.prototype.setRawPath=function(newPath){return this.path_=newPath?newPath:null,this},URI.prototype.hasPath=function(){return null!==this.path_},URI.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g,' ')},URI.prototype.getRawQuery=function(){return this.query_},URI.prototype.setQuery=function(newQuery){return this.paramCache_=null,this.query_=encodeIfExists(newQuery),this},URI.prototype.setRawQuery=function(newQuery){return this.paramCache_=null,this.query_=newQuery?newQuery:null,this},URI.prototype.hasQuery=function(){return null!==this.query_},URI.prototype.setAllParameters=function(params){var
i,j,k,newParams,queryBuf,separator,v;if(typeof params==='object'){if(!(params instanceof
Array)&&(params instanceof Object||Object.prototype.toString.call(params)!=='[object Array]')){newParams=[],i=-1;for(k
in params)v=params[k],'string'===typeof v&&(newParams[++i]=k,newParams[++i]=v);params=newParams}}this.paramCache_=null,queryBuf=[],separator='';for(j=0;j<params.length;)k=params[j++],v=params[j++],queryBuf.push(separator,encodeURIComponent(k.toString())),separator='&',v&&queryBuf.push('=',encodeURIComponent(v.toString()));return this.query_=queryBuf.join(''),this},URI.prototype.checkParameterCache_=function(){var
cgiParams,i,k,m,out,q;if(!this.paramCache_){q=this.query_;if(!q)this.paramCache_=[];else{cgiParams=q.split(/[&\?]/),out=[],k=-1;for(i=0;i<cgiParams.length;++i)m=cgiParams[i].match(/^([^=]*)(?:=(.*))?$/),out[++k]=decodeURIComponent(m[1]).replace(/\+/g,' '),out[++k]=decodeURIComponent(m[2]||'').replace(/\+/g,' ');this.paramCache_=out}}},URI.prototype.setParameterValues=function(key,values){var
i,k,newValueIndex,params,pc;typeof values==='string'&&(values=[values]),this.checkParameterCache_(),newValueIndex=0,pc=this.paramCache_,params=[];for(i=0,k=0;i<pc.length;i+=2)key===pc[i]?newValueIndex<values.length&&params.push(key,values[newValueIndex++]):params.push(pc[i],pc[i+1]);while(newValueIndex<values.length)params.push(key,values[newValueIndex++]);return this.setAllParameters(params),this},URI.prototype.removeParameter=function(key){return this.setParameterValues(key,[])},URI.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},URI.prototype.getParameterValues=function(paramNameUnescaped){var
i,values;this.checkParameterCache_(),values=[];for(i=0;i<this.paramCache_.length;i+=2)paramNameUnescaped===this.paramCache_[i]&&values.push(this.paramCache_[i+1]);return values},URI.prototype.getParameterMap=function(paramNameUnescaped){var
i,key,paramMap,value;this.checkParameterCache_(),paramMap={};for(i=0;i<this.paramCache_.length;i+=2)key=this.paramCache_[i++],value=this.paramCache_[i++],key
in paramMap?paramMap[key].push(value):(paramMap[key]=[value]);return paramMap},URI.prototype.getParameterValue=function(paramNameUnescaped){var
i;this.checkParameterCache_();for(i=0;i<this.paramCache_.length;i+=2)if(paramNameUnescaped===this.paramCache_[i])return this.paramCache_[i+1];return null},URI.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},URI.prototype.getRawFragment=function(){return this.fragment_},URI.prototype.setFragment=function(newFragment){return this.fragment_=newFragment?encodeURIComponent(newFragment):null,this},URI.prototype.setRawFragment=function(newFragment){return this.fragment_=newFragment?newFragment:null,this},URI.prototype.hasFragment=function(){return null!==this.fragment_};function
nullIfAbsent(matchPart){return'string'==typeof matchPart&&matchPart.length>0?matchPart:null}return URI_RE_=new
RegExp('^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$'),URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_=/[#\/\?@]/g,URI_DISALLOWED_IN_PATH_=/[\#\?]/g,URI.parse=parse,URI.create=create,URI.resolve=resolve,URI.collapse_dots=collapse_dots,URI})(),(function(){var
enqueue;function reject(reason){function rejected(op,arg1,arg2,arg3){return undefined===op?rejected:'WHEN'===op?(arg2||reject)(reason):arg1?arg1(reject(reason)):reject(reason)}return rejected.reason=reason,rejected.isPromise___=true,rejected}function
ref(value){if(null===value||undefined===value)return reject({'class':['NaO']});if('number'===typeof
value&&!isFinite(value))return reject({'class':['NaN']});function fulfilled(op,arg1,arg2,arg3){var
r;if(undefined===op)return value;switch(op){case'WHEN':r=value;break;case'GET':undefined===arg2||null===arg2?(r=value):(r=value[arg2]);break;case'POST':undefined===arg2||null===arg2?(r=reject({})):(r=value[arg2].apply(value,arg3));break;case'PUT':undefined===arg2||null===arg2?(r=reject({})):(value[arg2]=arg3,r={});break;case'DELETE':undefined===arg2||null===arg2?(r=reject({})):(delete
value[arg2],r={});break;default:r=reject({})}return arg1?arg1.apply(null,[r]):r}return fulfilled.isPromise___=true,fulfilled}enqueue=(function(){var
active=false,pending=[],run=function(){var task=pending.shift();0===pending.length?(active=false):setTimeout(run,0),task()};return function(task){pending.push(task),active||(setTimeout(run,0),active=true)}})();function
forward(p,op,arg1,arg2,arg3){enqueue(function(){p(op,arg1,arg2,arg3)})}function
promised(value){return'function'===typeof value&&value.isPromise___===true?value:ref(value)}function
defer(){var pending=[],value;function promise(op,arg1,arg2,arg3){if(undefined===op)return pending?promise:value();pending?pending.push({'op':op,'arg1':arg1,'arg2':arg2,'arg3':arg3}):forward(value,op,arg1,arg2,arg3)}return promise.isPromise___=true,___.primFreeze({'promise':___.markFuncFreeze(promise),'resolve':___.markFuncFreeze(function(p){var
i,todo,x;if(!pending)return;todo=pending,pending=null,value=promised(p);for(i=0;i!==todo.length;i+=1)x=todo[+i],forward(value,x.op,x.arg1,x.arg2,x.arg3)})})}Q={'run':___.markFuncFreeze(enqueue),'reject':___.markFuncFreeze(reject),'ref':___.markFuncFreeze(ref),'defer':___.markFuncFreeze(defer),'near':___.markFuncFreeze(function(value){return'function'===typeof
value&&value.isPromise___===true?value():value}),'when':___.markFuncFreeze(function(value,fulfilled,rejected){var
r=defer(),done=false;return forward(promised(value),'WHEN',function(x){if(done)throw new
Error;done=true,r.resolve(ref(x)('WHEN',fulfilled,rejected))},function(reason){if(done)throw new
Error;done=true,r.resolve(rejected?rejected.apply(null,[reason]):reject(reason))}),r.promise}),'get':___.markFuncFreeze(function(target,noun){var
r=defer();return forward(promised(target),'GET',r.resolve,noun),r.promise}),'post':___.markFuncFreeze(function(target,verb,argv){var
r=defer();return forward(promised(target),'POST',r.resolve,verb,argv),r.promise}),'put':___.markFuncFreeze(function(target,noun,value){var
r=defer();return forward(promised(target),'PUT',r.resolve,noun,value),r.promise}),'remove':___.markFuncFreeze(function(target,noun){var
r=defer();return forward(promised(target),'DELETE',r.resolve,noun),r.promise})},___.primFreeze(Q)})(),jsonRestTransportMaker=function(opt_transportType){var
addParamsToUrl,request,requestFunctions;Object.hasOwnProperty.call(window,'___caja_mod_count___')||(window.___caja_mod_count___=0),addParamsToUrl=function(url,params){var
parsedUri=URI.parse(url),i=0;while(i<params.length)parsedUri.setParameterValues(params[i++],[params[i++]]);return parsedUri.toString()},requestFunctions={},requestFunctions.w3cxhr=function(url,content,contentType){var
request,result;return url=addParamsToUrl(url,['alt','json']),result=Q.defer(),request=new
XMLHttpRequest,request.onreadystatechange=function(){if(request.readyState===4)if(request.status===200)result.resolve(JSON.parse(request.responseText));else
try{result.resolve(Q.reject('HTTP error '+request.status))}catch(ex){result.resolve(Q.reject('Unknown HTTP error'))}},request.open(content?'POST':'GET',url,true),content?(request.setRequestHeader('Content-Type',contentType),request.send(content)):request.send(),result.promise},requestFunctions.msxdr=function(url,content,contentType){var
result,xdr;return url=addParamsToUrl(url,['alt','json']),result=Q.defer(),xdr=new
XDomainRequest,xdr.onerror=function(){result.resolve(Q.reject('XDomainRequest error'))},xdr.ontimeout=function(){result.resolve(Q.reject('XDomainRequest timeout'))},xdr.onload=function(){result.resolve(JSON.parse(xdr.responseText))},xdr.open(content?'post':'get',url),content?xdr.send(content):xdr.send(),result.promise},requestFunctions.jsonp=(function(){var
jsonpCallbackCount=0;return function(url,content,contentType){var jsonUrl,jsonpCallbackName,result,script,w;if(content)throw'Posted content not supported by this transport';return jsonpCallbackName='___caja_mod_'+window.___caja_mod_count___+++'___',jsonUrl=addParamsToUrl(url,['alt','json','callback',jsonpCallbackName]),w=window,result=Q.defer(),script=document.createElement('script'),script.src=jsonUrl,script.onerror=function(){result.resolve(Q.reject('Error fetching '+url+' via JSONP'))},(document.getElementsByTagName('head'))[0].appendChild(script),w[jsonpCallbackName]=function(responseJson){delete
w[jsonpCallbackName],(document.getElementsByTagName('head'))[0].removeChild(script),result.resolve(responseJson)},result.promise}})();if(opt_transportType){request=requestFunctions[opt_transportType];if(!request)throw new
Error('Transport type not found: '+opt_transportType)}else window.XMLHttpRequest&&'withCredentials'in
new XMLHttpRequest?(request=requestFunctions.w3cxhr):window.XDomainRequest?(request=requestFunctions.msxdr):(request=requestFunctions.jsonp);return{'request':request}},cajolingServiceClientMaker=function(serviceUrl,jsonRequestChannel,emitHtmlInJs,debug){var
cache=___.newTable(),makeServiceReference=function(uncajoledSourceUrl,mimeType){return serviceUrl+'?url='+encodeURIComponent(uncajoledSourceUrl)+'&directive=ES53'+'&emit-html-in-js='+emitHtmlInJs+'&renderer='+(debug?'pretty':'minimal')+'&input-mime-type='+mimeType},messagesToLog=function(moduleURL,cajolerMessages){var
i,msg;if(!cajolerMessages)return;if(!window.console)return;for(i=0;i<cajolerMessages.length;++i)msg=cajolerMessages[i],console.log(msg.name+'('+msg.level+') '+msg.type+': '+msg.message)},handleRequest=function(fullUrl,request,deferred){Q.when(request,function(moduleJson){messagesToLog(fullUrl,moduleJson.messages),moduleJson.js?deferred.resolve(moduleJson):deferred.resolve(Q.reject('Cajoling errors'))},function(err){deferred.resolve(Q.reject(err))})},cajoleUrl=function(url,mimeType){return cache.get(url)||(cache.set(url,Q.defer()),handleRequest(url,jsonRequestChannel.request(makeServiceReference(url,mimeType)),cache.get(url))),cache.get(url).promise},cajoleContent=function(url,content,mimeType){var
result=Q.defer();return handleRequest(url,jsonRequestChannel.request(makeServiceReference(url,mimeType),content,mimeType),result),result.promise};return{'cajoleUrl':cajoleUrl,'cajoleContent':cajoleContent}},___.def([Array,Boolean,Date,Error,EvalError,Function,Number,Object,RangeError,ReferenceError,RegExp,String,SyntaxError,TypeError,URIError]),cajaIframeDone___()}